function kb(s,n){for(var r=0;r<n.length;r++){const i=n[r];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in s)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(s,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function Bg(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Mb(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var n=s.default;if(typeof n=="function"){var r=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var o=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(r,i,o.get?o:{enumerable:!0,get:function(){return s[i]}})}),r}var xc={exports:{}},Is={};var w0;function Db(){if(w0)return Is;w0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(i,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:s,type:i,key:d,ref:o!==void 0?o:null,props:u}}return Is.Fragment=n,Is.jsx=r,Is.jsxs=r,Is}var _0;function Ub(){return _0||(_0=1,xc.exports=Db()),xc.exports}var p=Ub(),Sc={exports:{}},pe={};var x0;function Lb(){if(x0)return pe;x0=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function E(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,A={};function $(w,D,I){this.props=w,this.context=D,this.refs=A,this.updater=I||O}$.prototype.isReactComponent={},$.prototype.setState=function(w,D){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,D,"setState")},$.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function N(){}N.prototype=$.prototype;function C(w,D,I){this.props=w,this.context=D,this.refs=A,this.updater=I||O}var K=C.prototype=new N;K.constructor=C,R(K,$.prototype),K.isPureReactComponent=!0;var W=Array.isArray;function te(){}var X={H:null,A:null,T:null,S:null},xe=Object.prototype.hasOwnProperty;function ye(w,D,I){var P=I.ref;return{$$typeof:s,type:w,key:D,ref:P!==void 0?P:null,props:I}}function se(w,D){return ye(w.type,D,w.props)}function Q(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function Te(w){var D={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(I){return D[I]})}var le=/\/+/g;function de(w,D){return typeof w=="object"&&w!==null&&w.key!=null?Te(""+w.key):D.toString(36)}function me(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(te,te):(w.status="pending",w.then(function(D){w.status==="pending"&&(w.status="fulfilled",w.value=D)},function(D){w.status==="pending"&&(w.status="rejected",w.reason=D)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function B(w,D,I,P,Z){var F=typeof w;(F==="undefined"||F==="boolean")&&(w=null);var J=!1;if(w===null)J=!0;else switch(F){case"bigint":case"string":case"number":J=!0;break;case"object":switch(w.$$typeof){case s:case n:J=!0;break;case y:return J=w._init,B(J(w._payload),D,I,P,Z)}}if(J)return Z=Z(w),J=P===""?"."+de(w,0):P,W(Z)?(I="",J!=null&&(I=J.replace(le,"$&/")+"/"),B(Z,D,I,"",function(Le){return Le})):Z!=null&&(Q(Z)&&(Z=se(Z,I+(Z.key==null||w&&w.key===Z.key?"":(""+Z.key).replace(le,"$&/")+"/")+J)),D.push(Z)),1;J=0;var ce=P===""?".":P+":";if(W(w))for(var ge=0;ge<w.length;ge++)P=w[ge],F=ce+de(P,ge),J+=B(P,D,I,F,Z);else if(ge=E(w),typeof ge=="function")for(w=ge.call(w),ge=0;!(P=w.next()).done;)P=P.value,F=ce+de(P,ge++),J+=B(P,D,I,F,Z);else if(F==="object"){if(typeof w.then=="function")return B(me(w),D,I,P,Z);throw D=String(w),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return J}function Y(w,D,I){if(w==null)return w;var P=[],Z=0;return B(w,P,"","",function(F){return D.call(I,F,Z++)}),P}function ne(w){if(w._status===-1){var D=w._result;D=D(),D.then(function(I){(w._status===0||w._status===-1)&&(w._status=1,w._result=I)},function(I){(w._status===0||w._status===-1)&&(w._status=2,w._result=I)}),w._status===-1&&(w._status=0,w._result=D)}if(w._status===1)return w._result.default;throw w._result}var _e=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},M={map:Y,forEach:function(w,D,I){Y(w,function(){D.apply(this,arguments)},I)},count:function(w){var D=0;return Y(w,function(){D++}),D},toArray:function(w){return Y(w,function(D){return D})||[]},only:function(w){if(!Q(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return pe.Activity=_,pe.Children=M,pe.Component=$,pe.Fragment=r,pe.Profiler=o,pe.PureComponent=C,pe.StrictMode=i,pe.Suspense=h,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,pe.__COMPILER_RUNTIME={__proto__:null,c:function(w){return X.H.useMemoCache(w)}},pe.cache=function(w){return function(){return w.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(w,D,I){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var P=R({},w.props),Z=w.key;if(D!=null)for(F in D.key!==void 0&&(Z=""+D.key),D)!xe.call(D,F)||F==="key"||F==="__self"||F==="__source"||F==="ref"&&D.ref===void 0||(P[F]=D[F]);var F=arguments.length-2;if(F===1)P.children=I;else if(1<F){for(var J=Array(F),ce=0;ce<F;ce++)J[ce]=arguments[ce+2];P.children=J}return ye(w.type,Z,P)},pe.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},pe.createElement=function(w,D,I){var P,Z={},F=null;if(D!=null)for(P in D.key!==void 0&&(F=""+D.key),D)xe.call(D,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(Z[P]=D[P]);var J=arguments.length-2;if(J===1)Z.children=I;else if(1<J){for(var ce=Array(J),ge=0;ge<J;ge++)ce[ge]=arguments[ge+2];Z.children=ce}if(w&&w.defaultProps)for(P in J=w.defaultProps,J)Z[P]===void 0&&(Z[P]=J[P]);return ye(w,F,Z)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(w){return{$$typeof:m,render:w}},pe.isValidElement=Q,pe.lazy=function(w){return{$$typeof:y,_payload:{_status:-1,_result:w},_init:ne}},pe.memo=function(w,D){return{$$typeof:g,type:w,compare:D===void 0?null:D}},pe.startTransition=function(w){var D=X.T,I={};X.T=I;try{var P=w(),Z=X.S;Z!==null&&Z(I,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(te,_e)}catch(F){_e(F)}finally{D!==null&&I.types!==null&&(D.types=I.types),X.T=D}},pe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},pe.use=function(w){return X.H.use(w)},pe.useActionState=function(w,D,I){return X.H.useActionState(w,D,I)},pe.useCallback=function(w,D){return X.H.useCallback(w,D)},pe.useContext=function(w){return X.H.useContext(w)},pe.useDebugValue=function(){},pe.useDeferredValue=function(w,D){return X.H.useDeferredValue(w,D)},pe.useEffect=function(w,D){return X.H.useEffect(w,D)},pe.useEffectEvent=function(w){return X.H.useEffectEvent(w)},pe.useId=function(){return X.H.useId()},pe.useImperativeHandle=function(w,D,I){return X.H.useImperativeHandle(w,D,I)},pe.useInsertionEffect=function(w,D){return X.H.useInsertionEffect(w,D)},pe.useLayoutEffect=function(w,D){return X.H.useLayoutEffect(w,D)},pe.useMemo=function(w,D){return X.H.useMemo(w,D)},pe.useOptimistic=function(w,D){return X.H.useOptimistic(w,D)},pe.useReducer=function(w,D,I){return X.H.useReducer(w,D,I)},pe.useRef=function(w){return X.H.useRef(w)},pe.useState=function(w){return X.H.useState(w)},pe.useSyncExternalStore=function(w,D,I){return X.H.useSyncExternalStore(w,D,I)},pe.useTransition=function(){return X.H.useTransition()},pe.version="19.2.0",pe}var S0;function rd(){return S0||(S0=1,Sc.exports=Lb()),Sc.exports}var b=rd(),Ec={exports:{}},Gs={},jc={exports:{}},Oc={};var E0;function zb(){return E0||(E0=1,(function(s){function n(B,Y){var ne=B.length;B.push(Y);e:for(;0<ne;){var _e=ne-1>>>1,M=B[_e];if(0<o(M,Y))B[_e]=Y,B[ne]=M,ne=_e;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Y=B[0],ne=B.pop();if(ne!==Y){B[0]=ne;e:for(var _e=0,M=B.length,w=M>>>1;_e<w;){var D=2*(_e+1)-1,I=B[D],P=D+1,Z=B[P];if(0>o(I,ne))P<M&&0>o(Z,I)?(B[_e]=Z,B[P]=ne,_e=P):(B[_e]=I,B[D]=ne,_e=D);else if(P<M&&0>o(Z,ne))B[_e]=Z,B[P]=ne,_e=P;else break e}}return Y}function o(B,Y){var ne=B.sortIndex-Y.sortIndex;return ne!==0?ne:B.id-Y.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();s.unstable_now=function(){return d.now()-m}}var h=[],g=[],y=1,_=null,S=3,E=!1,O=!1,R=!1,A=!1,$=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function K(B){for(var Y=r(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=B)i(g),Y.sortIndex=Y.expirationTime,n(h,Y);else break;Y=r(g)}}function W(B){if(R=!1,K(B),!O)if(r(h)!==null)O=!0,te||(te=!0,Te());else{var Y=r(g);Y!==null&&me(W,Y.startTime-B)}}var te=!1,X=-1,xe=5,ye=-1;function se(){return A?!0:!(s.unstable_now()-ye<xe)}function Q(){if(A=!1,te){var B=s.unstable_now();ye=B;var Y=!0;try{e:{O=!1,R&&(R=!1,N(X),X=-1),E=!0;var ne=S;try{t:{for(K(B),_=r(h);_!==null&&!(_.expirationTime>B&&se());){var _e=_.callback;if(typeof _e=="function"){_.callback=null,S=_.priorityLevel;var M=_e(_.expirationTime<=B);if(B=s.unstable_now(),typeof M=="function"){_.callback=M,K(B),Y=!0;break t}_===r(h)&&i(h),K(B)}else i(h);_=r(h)}if(_!==null)Y=!0;else{var w=r(g);w!==null&&me(W,w.startTime-B),Y=!1}}break e}finally{_=null,S=ne,E=!1}Y=void 0}}finally{Y?Te():te=!1}}}var Te;if(typeof C=="function")Te=function(){C(Q)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,de=le.port2;le.port1.onmessage=Q,Te=function(){de.postMessage(null)}}else Te=function(){$(Q,0)};function me(B,Y){X=$(function(){B(s.unstable_now())},Y)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(B){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var ne=S;S=Y;try{return B()}finally{S=ne}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ne=S;S=B;try{return Y()}finally{S=ne}},s.unstable_scheduleCallback=function(B,Y,ne){var _e=s.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?_e+ne:_e):ne=_e,B){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ne+M,B={id:y++,callback:Y,priorityLevel:B,startTime:ne,expirationTime:M,sortIndex:-1},ne>_e?(B.sortIndex=ne,n(g,B),r(h)===null&&B===r(g)&&(R?(N(X),X=-1):R=!0,me(W,ne-_e))):(B.sortIndex=M,n(h,B),O||E||(O=!0,te||(te=!0,Te()))),B},s.unstable_shouldYield=se,s.unstable_wrapCallback=function(B){var Y=S;return function(){var ne=S;S=Y;try{return B.apply(this,arguments)}finally{S=ne}}}})(Oc)),Oc}var j0;function Bb(){return j0||(j0=1,jc.exports=zb()),jc.exports}var Ac={exports:{}},vt={};var O0;function Hb(){if(O0)return vt;O0=1;var s=rd();function n(h){var g="https://react.dev/errors/"+h;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+h+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(h,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:h,containerInfo:g,implementation:y}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(h,g){if(h==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vt.createPortal=function(h,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return u(h,g,null,y)},vt.flushSync=function(h){var g=d.T,y=i.p;try{if(d.T=null,i.p=2,h)return h()}finally{d.T=g,i.p=y,i.d.f()}},vt.preconnect=function(h,g){typeof h=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(h,g))},vt.prefetchDNS=function(h){typeof h=="string"&&i.d.D(h)},vt.preinit=function(h,g){if(typeof h=="string"&&g&&typeof g.as=="string"){var y=g.as,_=m(y,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(h,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:E}):y==="script"&&i.d.X(h,{crossOrigin:_,integrity:S,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},vt.preinitModule=function(h,g){if(typeof h=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=m(g.as,g.crossOrigin);i.d.M(h,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(h)},vt.preload=function(h,g){if(typeof h=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=m(y,g.crossOrigin);i.d.L(h,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},vt.preloadModule=function(h,g){if(typeof h=="string")if(g){var y=m(g.as,g.crossOrigin);i.d.m(h,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(h)},vt.requestFormReset=function(h){i.d.r(h)},vt.unstable_batchedUpdates=function(h,g){return h(g)},vt.useFormState=function(h,g,y){return d.H.useFormState(h,g,y)},vt.useFormStatus=function(){return d.H.useHostTransitionStatus()},vt.version="19.2.0",vt}var A0;function $b(){if(A0)return Ac.exports;A0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ac.exports=Hb(),Ac.exports}var T0;function qb(){if(T0)return Gs;T0=1;var s=Bb(),n=rd(),r=$b();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(u(e)!==e)throw Error(i(188))}function g(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,l=t;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return h(c),e;if(f===l)return h(c),t;f=f.sibling}throw Error(i(188))}if(a.return!==l.return)a=c,l=f;else{for(var v=!1,x=c.child;x;){if(x===a){v=!0,a=c,l=f;break}if(x===l){v=!0,l=c,a=f;break}x=x.sibling}if(!v){for(x=f.child;x;){if(x===a){v=!0,a=f,l=c;break}if(x===l){v=!0,l=f,a=c;break}x=x.sibling}if(!v)throw Error(i(189))}}if(a.alternate!==l)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ye=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function Te(e){return e===null||typeof e!="object"?null:(e=Q&&e[Q]||e["@@iterator"],typeof e=="function"?e:null)}var le=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case R:return"Fragment";case $:return"Profiler";case A:return"StrictMode";case W:return"Suspense";case te:return"SuspenseList";case ye:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case C:return e.displayName||"Context";case N:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:de(e.type)||"Memo";case xe:t=e._payload,e=e._init;try{return de(e(t))}catch{}}return null}var me=Array.isArray,B=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},_e=[],M=-1;function w(e){return{current:e}}function D(e){0>M||(e.current=_e[M],_e[M]=null,M--)}function I(e,t){M++,_e[M]=e.current,e.current=t}var P=w(null),Z=w(null),F=w(null),J=w(null);function ce(e,t){switch(I(F,t),I(Z,e),I(P,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Gm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Gm(t),e=Vm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(P),I(P,e)}function ge(){D(P),D(Z),D(F)}function Le(e){e.memoizedState!==null&&I(J,e);var t=P.current,a=Vm(t,e.type);t!==a&&(I(Z,e),I(P,a))}function Me(e){Z.current===e&&(D(P),D(Z)),J.current===e&&(D(J),Bs._currentValue=ne)}var qe,Fe;function be(e){if(qe===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);qe=t&&t[1]||"",Fe=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+e+Fe}var lt=!1;function wt(e,t){if(!e||lt)return"";lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(H){var z=H}Reflect.construct(e,[],V)}else{try{V.call()}catch(H){z=H}e.call(V.prototype)}}else{try{throw Error()}catch(H){z=H}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],x=f[1];if(v&&x){var j=v.split(`
`),L=x.split(`
`);for(c=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(l===j.length||c===L.length)for(l=j.length-1,c=L.length-1;1<=l&&0<=c&&j[l]!==L[c];)c--;for(;1<=l&&0<=c;l--,c--)if(j[l]!==L[c]){if(l!==1||c!==1)do if(l--,c--,0>c||j[l]!==L[c]){var q=`
`+j[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=c);break}}}finally{lt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?be(a):""}function Ct(e,t){switch(e.tag){case 26:case 27:case 5:return be(e.type);case 16:return be("Lazy");case 13:return e.child!==t&&t!==null?be("Suspense Fallback"):be("Suspense");case 19:return be("SuspenseList");case 0:case 15:return wt(e.type,!1);case 11:return wt(e.type.render,!1);case 1:return wt(e.type,!0);case 31:return be("Activity");default:return""}}function Vt(e){try{var t="",a=null;do t+=Ct(e,a),a=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var tn=Object.prototype.hasOwnProperty,xt=s.unstable_scheduleCallback,Kr=s.unstable_cancelCallback,so=s.unstable_shouldYield,io=s.unstable_requestPaint,pt=s.unstable_now,lo=s.unstable_getCurrentPriorityLevel,Zr=s.unstable_ImmediatePriority,ci=s.unstable_UserBlockingPriority,Za=s.unstable_NormalPriority,di=s.unstable_LowPriority,Jr=s.unstable_IdlePriority,Qr=s.log,oo=s.unstable_setDisableYieldValue,_a=null,kt=null;function qn(e){if(typeof Qr=="function"&&oo(e),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(_a,e)}catch{}}var Mt=Math.clz32?Math.clz32:yv,pv=Math.log,vv=Math.LN2;function yv(e){return e>>>=0,e===0?32:31-(pv(e)/vv|0)|0}var fi=256,hi=262144,mi=4194304;function xa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var x=l&134217727;return x!==0?(l=x&~f,l!==0?c=xa(l):(v&=x,v!==0?c=xa(v):a||(a=x&~e,a!==0&&(c=xa(a))))):(x=l&~f,x!==0?c=xa(x):v!==0?c=xa(v):a||(a=l&~e,a!==0&&(c=xa(a)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:c}function Xr(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function bv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sd(){var e=mi;return mi<<=1,(mi&62914560)===0&&(mi=4194304),e}function uo(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Fr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function wv(e,t,a,l,c,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var x=e.entanglements,j=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var q=31-Mt(a),V=1<<q;x[q]=0,j[q]=-1;var z=L[q];if(z!==null)for(L[q]=null,q=0;q<z.length;q++){var H=z[q];H!==null&&(H.lane&=-536870913)}a&=~V}l!==0&&Ed(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~t))}function Ed(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Mt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function jd(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Mt(a),c=1<<l;c&t|e[l]&t&&(e[l]|=t),a&=~c}}function Od(e,t){var a=t&-t;return a=(a&42)!==0?1:co(a),(a&(e.suspendedLanes|t))!==0?0:a}function co(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function fo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ad(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:h0(e.type))}function Td(e,t){var a=Y.p;try{return Y.p=e,t()}finally{Y.p=a}}var In=Math.random().toString(36).slice(2),ct="__reactFiber$"+In,St="__reactProps$"+In,Ja="__reactContainer$"+In,ho="__reactEvents$"+In,_v="__reactListeners$"+In,xv="__reactHandles$"+In,Rd="__reactResources$"+In,Wr="__reactMarker$"+In;function mo(e){delete e[ct],delete e[St],delete e[ho],delete e[_v],delete e[xv]}function Qa(e){var t=e[ct];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ja]||a[ct]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Xm(e);e!==null;){if(a=e[ct])return a;e=Xm(e)}return t}e=a,a=e.parentNode}return null}function Xa(e){if(e=e[ct]||e[Ja]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function es(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Fa(e){var t=e[Rd];return t||(t=e[Rd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Wr]=!0}var Nd=new Set,Cd={};function Sa(e,t){Wa(e,t),Wa(e+"Capture",t)}function Wa(e,t){for(Cd[e]=t,e=0;e<t.length;e++)Nd.add(t[e])}var Sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kd={},Md={};function Ev(e){return tn.call(Md,e)?!0:tn.call(kd,e)?!1:Sv.test(e)?Md[e]=!0:(kd[e]=!0,!1)}function pi(e,t,a){if(Ev(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function vi(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function yn(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}function Yt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Dd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jv(e,t,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,f=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(v){a=""+v,f.call(this,v)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function go(e){if(!e._valueTracker){var t=Dd(e)?"checked":"value";e._valueTracker=jv(e,t,""+e[t])}}function Ud(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=Dd(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ov=/[\n"\\]/g;function Pt(e){return e.replace(Ov,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function po(e,t,a,l,c,f,v,x){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Yt(t)):e.value!==""+Yt(t)&&(e.value=""+Yt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?vo(e,v,Yt(t)):a!=null?vo(e,v,Yt(a)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.name=""+Yt(x):e.removeAttribute("name")}function Ld(e,t,a,l,c,f,v,x){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){go(e);return}a=a!=null?""+Yt(a):"",t=t!=null?""+Yt(t):a,x||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=x?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),go(e)}function vo(e,t,a){t==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function er(e,t,a,l){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Yt(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function zd(e,t,a){if(t!=null&&(t=""+Yt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Yt(a):""}function Bd(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(i(92));if(me(l)){if(1<l.length)throw Error(i(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=Yt(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),go(e)}function tr(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Av=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hd(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||Av.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function $d(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&a[c]!==l&&Hd(e,c,l)}else for(var f in t)t.hasOwnProperty(f)&&Hd(e,f,t[f])}function yo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bi(e){return Rv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bn(){}var bo=null;function wo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nr=null,ar=null;function qd(e){var t=Xa(e);if(t&&(e=t.stateNode)){var a=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(po(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var c=l[St]||null;if(!c)throw Error(i(90));po(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&Ud(l)}break e;case"textarea":zd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&er(e,!!a.multiple,t,!1)}}}var _o=!1;function Id(e,t,a){if(_o)return e(t,a);_o=!0;try{var l=e(t);return l}finally{if(_o=!1,(nr!==null||ar!==null)&&(il(),nr&&(t=nr,e=ar,ar=nr=null,qd(t),e)))for(t=0;t<e.length;t++)qd(e[t])}}function ts(e,t){var a=e.stateNode;if(a===null)return null;var l=a[St]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xo=!1;if(wn)try{var ns={};Object.defineProperty(ns,"passive",{get:function(){xo=!0}}),window.addEventListener("test",ns,ns),window.removeEventListener("test",ns,ns)}catch{xo=!1}var Gn=null,So=null,wi=null;function Gd(){if(wi)return wi;var e,t=So,a=t.length,l,c="value"in Gn?Gn.value:Gn.textContent,f=c.length;for(e=0;e<a&&t[e]===c[e];e++);var v=a-e;for(l=1;l<=v&&t[a-l]===c[f-l];l++);return wi=c.slice(e,1<l?1-l:void 0)}function _i(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Vd(){return!1}function Et(e){function t(a,l,c,f,v){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(a=e[x],this[x]=a?a(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Vd,this.isPropagationStopped=Vd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),t}var Ea={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Et(Ea),as=_({},Ea,{view:0,detail:0}),Nv=Et(as),Eo,jo,rs,Ei=_({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rs&&(rs&&e.type==="mousemove"?(Eo=e.screenX-rs.screenX,jo=e.screenY-rs.screenY):jo=Eo=0,rs=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:jo}}),Yd=Et(Ei),Cv=_({},Ei,{dataTransfer:0}),kv=Et(Cv),Mv=_({},as,{relatedTarget:0}),Oo=Et(Mv),Dv=_({},Ea,{animationName:0,elapsedTime:0,pseudoElement:0}),Uv=Et(Dv),Lv=_({},Ea,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zv=Et(Lv),Bv=_({},Ea,{data:0}),Pd=Et(Bv),Hv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qv[e])?!!t[e]:!1}function Ao(){return Iv}var Gv=_({},as,{key:function(e){if(e.key){var t=Hv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=_i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ao,charCode:function(e){return e.type==="keypress"?_i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vv=Et(Gv),Yv=_({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kd=Et(Yv),Pv=_({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ao}),Kv=Et(Pv),Zv=_({},Ea,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jv=Et(Zv),Qv=_({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Xv=Et(Qv),Fv=_({},Ea,{newState:0,oldState:0}),Wv=Et(Fv),ey=[9,13,27,32],To=wn&&"CompositionEvent"in window,ss=null;wn&&"documentMode"in document&&(ss=document.documentMode);var ty=wn&&"TextEvent"in window&&!ss,Zd=wn&&(!To||ss&&8<ss&&11>=ss),Jd=" ",Qd=!1;function Xd(e,t){switch(e){case"keyup":return ey.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rr=!1;function ny(e,t){switch(e){case"compositionend":return Fd(t);case"keypress":return t.which!==32?null:(Qd=!0,Jd);case"textInput":return e=t.data,e===Jd&&Qd?null:e;default:return null}}function ay(e,t){if(rr)return e==="compositionend"||!To&&Xd(e,t)?(e=Gd(),wi=So=Gn=null,rr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zd&&t.locale!=="ko"?null:t.data;default:return null}}var ry={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ry[e.type]:t==="textarea"}function ef(e,t,a,l){nr?ar?ar.push(l):ar=[l]:nr=l,t=hl(t,"onChange"),0<t.length&&(a=new Si("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var is=null,ls=null;function sy(e){zm(e,0)}function ji(e){var t=es(e);if(Ud(t))return e}function tf(e,t){if(e==="change")return t}var nf=!1;if(wn){var Ro;if(wn){var No="oninput"in document;if(!No){var af=document.createElement("div");af.setAttribute("oninput","return;"),No=typeof af.oninput=="function"}Ro=No}else Ro=!1;nf=Ro&&(!document.documentMode||9<document.documentMode)}function rf(){is&&(is.detachEvent("onpropertychange",sf),ls=is=null)}function sf(e){if(e.propertyName==="value"&&ji(ls)){var t=[];ef(t,ls,e,wo(e)),Id(sy,t)}}function iy(e,t,a){e==="focusin"?(rf(),is=t,ls=a,is.attachEvent("onpropertychange",sf)):e==="focusout"&&rf()}function ly(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ji(ls)}function oy(e,t){if(e==="click")return ji(t)}function uy(e,t){if(e==="input"||e==="change")return ji(t)}function cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:cy;function os(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!tn.call(t,c)||!Dt(e[c],t[c]))return!1}return!0}function lf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function of(e,t){var a=lf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=lf(a)}}function uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=yi(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=yi(e.document)}return t}function Co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var dy=wn&&"documentMode"in document&&11>=document.documentMode,sr=null,ko=null,us=null,Mo=!1;function df(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mo||sr==null||sr!==yi(l)||(l=sr,"selectionStart"in l&&Co(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),us&&os(us,l)||(us=l,l=hl(ko,"onSelect"),0<l.length&&(t=new Si("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=sr)))}function ja(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ir={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionrun:ja("Transition","TransitionRun"),transitionstart:ja("Transition","TransitionStart"),transitioncancel:ja("Transition","TransitionCancel"),transitionend:ja("Transition","TransitionEnd")},Do={},ff={};wn&&(ff=document.createElement("div").style,"AnimationEvent"in window||(delete ir.animationend.animation,delete ir.animationiteration.animation,delete ir.animationstart.animation),"TransitionEvent"in window||delete ir.transitionend.transition);function Oa(e){if(Do[e])return Do[e];if(!ir[e])return e;var t=ir[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in ff)return Do[e]=t[a];return e}var hf=Oa("animationend"),mf=Oa("animationiteration"),gf=Oa("animationstart"),fy=Oa("transitionrun"),hy=Oa("transitionstart"),my=Oa("transitioncancel"),pf=Oa("transitionend"),vf=new Map,Uo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uo.push("scrollEnd");function nn(e,t){vf.set(e,t),Sa(t,[e])}var Oi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kt=[],lr=0,Lo=0;function Ai(){for(var e=lr,t=Lo=lr=0;t<e;){var a=Kt[t];Kt[t++]=null;var l=Kt[t];Kt[t++]=null;var c=Kt[t];Kt[t++]=null;var f=Kt[t];if(Kt[t++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&yf(a,c,f)}}function Ti(e,t,a,l){Kt[lr++]=e,Kt[lr++]=t,Kt[lr++]=a,Kt[lr++]=l,Lo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function zo(e,t,a,l){return Ti(e,t,a,l),Ri(e)}function Aa(e,t){return Ti(e,null,null,t),Ri(e)}function yf(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Mt(a),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=a|536870912),f):null}function Ri(e){if(50<Cs)throw Cs=0,Pu=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var or={};function gy(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(e,t,a,l){return new gy(e,t,a,l)}function Bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _n(e,t){var a=e.alternate;return a===null?(a=Ut(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function bf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ni(e,t,a,l,c,f){var v=0;if(l=e,typeof e=="function")Bo(e)&&(v=1);else if(typeof e=="string")v=wb(e,a,P.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ye:return e=Ut(31,a,t,c),e.elementType=ye,e.lanes=f,e;case R:return Ta(a.children,c,f,t);case A:v=8,c|=24;break;case $:return e=Ut(12,a,t,c|2),e.elementType=$,e.lanes=f,e;case W:return e=Ut(13,a,t,c),e.elementType=W,e.lanes=f,e;case te:return e=Ut(19,a,t,c),e.elementType=te,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C:v=10;break e;case N:v=9;break e;case K:v=11;break e;case X:v=14;break e;case xe:v=16,l=null;break e}v=29,a=Error(i(130,e===null?"null":typeof e,"")),l=null}return t=Ut(v,a,t,c),t.elementType=e,t.type=l,t.lanes=f,t}function Ta(e,t,a,l){return e=Ut(7,e,l,t),e.lanes=a,e}function Ho(e,t,a){return e=Ut(6,e,null,t),e.lanes=a,e}function wf(e){var t=Ut(18,null,null,0);return t.stateNode=e,t}function $o(e,t,a){return t=Ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var _f=new WeakMap;function Zt(e,t){if(typeof e=="object"&&e!==null){var a=_f.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Vt(t)},_f.set(e,t),t)}return{value:e,source:t,stack:Vt(t)}}var ur=[],cr=0,Ci=null,cs=0,Jt=[],Qt=0,Vn=null,dn=1,fn="";function xn(e,t){ur[cr++]=cs,ur[cr++]=Ci,Ci=e,cs=t}function xf(e,t,a){Jt[Qt++]=dn,Jt[Qt++]=fn,Jt[Qt++]=Vn,Vn=e;var l=dn;e=fn;var c=32-Mt(l)-1;l&=~(1<<c),a+=1;var f=32-Mt(t)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,dn=1<<32-Mt(t)+c|a<<c|l,fn=f+e}else dn=1<<f|a<<c|l,fn=e}function qo(e){e.return!==null&&(xn(e,1),xf(e,1,0))}function Io(e){for(;e===Ci;)Ci=ur[--cr],ur[cr]=null,cs=ur[--cr],ur[cr]=null;for(;e===Vn;)Vn=Jt[--Qt],Jt[Qt]=null,fn=Jt[--Qt],Jt[Qt]=null,dn=Jt[--Qt],Jt[Qt]=null}function Sf(e,t){Jt[Qt++]=dn,Jt[Qt++]=fn,Jt[Qt++]=Vn,dn=t.id,fn=t.overflow,Vn=e}var dt=null,Ge=null,Re=!1,Yn=null,Xt=!1,Go=Error(i(519));function Pn(e){var t=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ds(Zt(t,e)),Go}function Ef(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[ct]=e,t[St]=l,a){case"dialog":Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":case"embed":Ee("load",t);break;case"video":case"audio":for(a=0;a<Ms.length;a++)Ee(Ms[a],t);break;case"source":Ee("error",t);break;case"img":case"image":case"link":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"input":Ee("invalid",t),Ld(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",t);break;case"textarea":Ee("invalid",t),Bd(t,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||qm(t.textContent,a)?(l.popover!=null&&(Ee("beforetoggle",t),Ee("toggle",t)),l.onScroll!=null&&Ee("scroll",t),l.onScrollEnd!=null&&Ee("scrollend",t),l.onClick!=null&&(t.onclick=bn),t=!0):t=!1,t||Pn(e,!0)}function jf(e){for(dt=e.return;dt;)switch(dt.tag){case 5:case 31:case 13:Xt=!1;return;case 27:case 3:Xt=!0;return;default:dt=dt.return}}function dr(e){if(e!==dt)return!1;if(!Re)return jf(e),Re=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||lc(e.type,e.memoizedProps)),a=!a),a&&Ge&&Pn(e),jf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=Qm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Ge=Qm(e)}else t===27?(t=Ge,ia(e.type)?(e=fc,fc=null,Ge=e):Ge=t):Ge=dt?Wt(e.stateNode.nextSibling):null;return!0}function Ra(){Ge=dt=null,Re=!1}function Vo(){var e=Yn;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),Yn=null),e}function ds(e){Yn===null?Yn=[e]:Yn.push(e)}var Yo=w(null),Na=null,Sn=null;function Kn(e,t,a){I(Yo,t._currentValue),t._currentValue=a}function En(e){e._currentValue=Yo.current,D(Yo)}function Po(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Ko(e,t,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;e:for(;f!==null;){var x=f;f=c;for(var j=0;j<t.length;j++)if(x.context===t[j]){f.lanes|=a,x=f.alternate,x!==null&&(x.lanes|=a),Po(f.return,a,e),l||(v=null);break e}f=x.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(i(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Po(v,a,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function fr(e,t,a,l){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var x=c.type;Dt(c.pendingProps.value,v.value)||(e!==null?e.push(x):e=[x])}}else if(c===J.current){if(v=c.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Bs):e=[Bs])}c=c.return}e!==null&&Ko(t,e,a,l),t.flags|=262144}function ki(e){for(e=e.firstContext;e!==null;){if(!Dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ca(e){Na=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Of(Na,e)}function Mi(e,t){return Na===null&&Ca(e),Of(e,t)}function Of(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Sn===null){if(e===null)throw Error(i(308));Sn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sn=Sn.next=t;return a}var py=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},vy=s.unstable_scheduleCallback,yy=s.unstable_NormalPriority,We={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zo(){return{controller:new py,data:new Map,refCount:0}}function fs(e){e.refCount--,e.refCount===0&&vy(yy,function(){e.controller.abort()})}var hs=null,Jo=0,hr=0,mr=null;function by(e,t){if(hs===null){var a=hs=[];Jo=0,hr=Fu(),mr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jo++,t.then(Af,Af),t}function Af(){if(--Jo===0&&hs!==null){mr!==null&&(mr.status="fulfilled");var e=hs;hs=null,hr=0,mr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function wy(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Tf=B.S;B.S=function(e,t){dm=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&by(e,t),Tf!==null&&Tf(e,t)};var ka=w(null);function Qo(){var e=ka.current;return e!==null?e:$e.pooledCache}function Di(e,t){t===null?I(ka,ka.current):I(ka,t.pool)}function Rf(){var e=Qo();return e===null?null:{parent:We._currentValue,pool:e}}var gr=Error(i(460)),Xo=Error(i(474)),Ui=Error(i(542)),Li={then:function(){}};function Nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Cf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(bn,bn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mf(e),e;default:if(typeof t.status=="string")t.then(bn,bn);else{if(e=$e,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Mf(e),e}throw Da=t,gr}}function Ma(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Da=a,gr):a}}var Da=null;function kf(){if(Da===null)throw Error(i(459));var e=Da;return Da=null,e}function Mf(e){if(e===gr||e===Ui)throw Error(i(483))}var pr=null,ms=0;function zi(e){var t=ms;return ms+=1,pr===null&&(pr=[]),Cf(pr,e,t)}function gs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Bi(e,t){throw t.$$typeof===S?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Df(e){function t(k,T){if(e){var U=k.deletions;U===null?(k.deletions=[T],k.flags|=16):U.push(T)}}function a(k,T){if(!e)return null;for(;T!==null;)t(k,T),T=T.sibling;return null}function l(k){for(var T=new Map;k!==null;)k.key!==null?T.set(k.key,k):T.set(k.index,k),k=k.sibling;return T}function c(k,T){return k=_n(k,T),k.index=0,k.sibling=null,k}function f(k,T,U){return k.index=U,e?(U=k.alternate,U!==null?(U=U.index,U<T?(k.flags|=67108866,T):U):(k.flags|=67108866,T)):(k.flags|=1048576,T)}function v(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function x(k,T,U,G){return T===null||T.tag!==6?(T=Ho(U,k.mode,G),T.return=k,T):(T=c(T,U),T.return=k,T)}function j(k,T,U,G){var ue=U.type;return ue===R?q(k,T,U.props.children,G,U.key):T!==null&&(T.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xe&&Ma(ue)===T.type)?(T=c(T,U.props),gs(T,U),T.return=k,T):(T=Ni(U.type,U.key,U.props,null,k.mode,G),gs(T,U),T.return=k,T)}function L(k,T,U,G){return T===null||T.tag!==4||T.stateNode.containerInfo!==U.containerInfo||T.stateNode.implementation!==U.implementation?(T=$o(U,k.mode,G),T.return=k,T):(T=c(T,U.children||[]),T.return=k,T)}function q(k,T,U,G,ue){return T===null||T.tag!==7?(T=Ta(U,k.mode,G,ue),T.return=k,T):(T=c(T,U),T.return=k,T)}function V(k,T,U){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Ho(""+T,k.mode,U),T.return=k,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return U=Ni(T.type,T.key,T.props,null,k.mode,U),gs(U,T),U.return=k,U;case O:return T=$o(T,k.mode,U),T.return=k,T;case xe:return T=Ma(T),V(k,T,U)}if(me(T)||Te(T))return T=Ta(T,k.mode,U,null),T.return=k,T;if(typeof T.then=="function")return V(k,zi(T),U);if(T.$$typeof===C)return V(k,Mi(k,T),U);Bi(k,T)}return null}function z(k,T,U,G){var ue=T!==null?T.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ue!==null?null:x(k,T,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case E:return U.key===ue?j(k,T,U,G):null;case O:return U.key===ue?L(k,T,U,G):null;case xe:return U=Ma(U),z(k,T,U,G)}if(me(U)||Te(U))return ue!==null?null:q(k,T,U,G,null);if(typeof U.then=="function")return z(k,T,zi(U),G);if(U.$$typeof===C)return z(k,T,Mi(k,U),G);Bi(k,U)}return null}function H(k,T,U,G,ue){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return k=k.get(U)||null,x(T,k,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case E:return k=k.get(G.key===null?U:G.key)||null,j(T,k,G,ue);case O:return k=k.get(G.key===null?U:G.key)||null,L(T,k,G,ue);case xe:return G=Ma(G),H(k,T,U,G,ue)}if(me(G)||Te(G))return k=k.get(U)||null,q(T,k,G,ue,null);if(typeof G.then=="function")return H(k,T,U,zi(G),ue);if(G.$$typeof===C)return H(k,T,U,Mi(T,G),ue);Bi(T,G)}return null}function ee(k,T,U,G){for(var ue=null,Ne=null,re=T,we=T=0,Oe=null;re!==null&&we<U.length;we++){re.index>we?(Oe=re,re=null):Oe=re.sibling;var Ce=z(k,re,U[we],G);if(Ce===null){re===null&&(re=Oe);break}e&&re&&Ce.alternate===null&&t(k,re),T=f(Ce,T,we),Ne===null?ue=Ce:Ne.sibling=Ce,Ne=Ce,re=Oe}if(we===U.length)return a(k,re),Re&&xn(k,we),ue;if(re===null){for(;we<U.length;we++)re=V(k,U[we],G),re!==null&&(T=f(re,T,we),Ne===null?ue=re:Ne.sibling=re,Ne=re);return Re&&xn(k,we),ue}for(re=l(re);we<U.length;we++)Oe=H(re,k,we,U[we],G),Oe!==null&&(e&&Oe.alternate!==null&&re.delete(Oe.key===null?we:Oe.key),T=f(Oe,T,we),Ne===null?ue=Oe:Ne.sibling=Oe,Ne=Oe);return e&&re.forEach(function(da){return t(k,da)}),Re&&xn(k,we),ue}function fe(k,T,U,G){if(U==null)throw Error(i(151));for(var ue=null,Ne=null,re=T,we=T=0,Oe=null,Ce=U.next();re!==null&&!Ce.done;we++,Ce=U.next()){re.index>we?(Oe=re,re=null):Oe=re.sibling;var da=z(k,re,Ce.value,G);if(da===null){re===null&&(re=Oe);break}e&&re&&da.alternate===null&&t(k,re),T=f(da,T,we),Ne===null?ue=da:Ne.sibling=da,Ne=da,re=Oe}if(Ce.done)return a(k,re),Re&&xn(k,we),ue;if(re===null){for(;!Ce.done;we++,Ce=U.next())Ce=V(k,Ce.value,G),Ce!==null&&(T=f(Ce,T,we),Ne===null?ue=Ce:Ne.sibling=Ce,Ne=Ce);return Re&&xn(k,we),ue}for(re=l(re);!Ce.done;we++,Ce=U.next())Ce=H(re,k,we,Ce.value,G),Ce!==null&&(e&&Ce.alternate!==null&&re.delete(Ce.key===null?we:Ce.key),T=f(Ce,T,we),Ne===null?ue=Ce:Ne.sibling=Ce,Ne=Ce);return e&&re.forEach(function(Cb){return t(k,Cb)}),Re&&xn(k,we),ue}function He(k,T,U,G){if(typeof U=="object"&&U!==null&&U.type===R&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case E:e:{for(var ue=U.key;T!==null;){if(T.key===ue){if(ue=U.type,ue===R){if(T.tag===7){a(k,T.sibling),G=c(T,U.props.children),G.return=k,k=G;break e}}else if(T.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===xe&&Ma(ue)===T.type){a(k,T.sibling),G=c(T,U.props),gs(G,U),G.return=k,k=G;break e}a(k,T);break}else t(k,T);T=T.sibling}U.type===R?(G=Ta(U.props.children,k.mode,G,U.key),G.return=k,k=G):(G=Ni(U.type,U.key,U.props,null,k.mode,G),gs(G,U),G.return=k,k=G)}return v(k);case O:e:{for(ue=U.key;T!==null;){if(T.key===ue)if(T.tag===4&&T.stateNode.containerInfo===U.containerInfo&&T.stateNode.implementation===U.implementation){a(k,T.sibling),G=c(T,U.children||[]),G.return=k,k=G;break e}else{a(k,T);break}else t(k,T);T=T.sibling}G=$o(U,k.mode,G),G.return=k,k=G}return v(k);case xe:return U=Ma(U),He(k,T,U,G)}if(me(U))return ee(k,T,U,G);if(Te(U)){if(ue=Te(U),typeof ue!="function")throw Error(i(150));return U=ue.call(U),fe(k,T,U,G)}if(typeof U.then=="function")return He(k,T,zi(U),G);if(U.$$typeof===C)return He(k,T,Mi(k,U),G);Bi(k,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,T!==null&&T.tag===6?(a(k,T.sibling),G=c(T,U),G.return=k,k=G):(a(k,T),G=Ho(U,k.mode,G),G.return=k,k=G),v(k)):a(k,T)}return function(k,T,U,G){try{ms=0;var ue=He(k,T,U,G);return pr=null,ue}catch(re){if(re===gr||re===Ui)throw re;var Ne=Ut(29,re,null,k.mode);return Ne.lanes=G,Ne.return=k,Ne}finally{}}}var Ua=Df(!0),Uf=Df(!1),Zn=!1;function Fo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Jn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Qn(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(ke&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=Ri(e),yf(e,null,a),t}return Ti(e,l,t,a),Ri(e)}function ps(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,jd(e,a)}}function eu(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=t:f=f.next=t}else c=f=t;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var tu=!1;function vs(){if(tu){var e=mr;if(e!==null)throw e}}function ys(e,t,a,l){tu=!1;var c=e.updateQueue;Zn=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var j=x,L=j.next;j.next=null,v===null?f=L:v.next=L,v=j;var q=e.alternate;q!==null&&(q=q.updateQueue,x=q.lastBaseUpdate,x!==v&&(x===null?q.firstBaseUpdate=L:x.next=L,q.lastBaseUpdate=j))}if(f!==null){var V=c.baseState;v=0,q=L=j=null,x=f;do{var z=x.lane&-536870913,H=z!==x.lane;if(H?(je&z)===z:(l&z)===z){z!==0&&z===hr&&(tu=!0),q!==null&&(q=q.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var ee=e,fe=x;z=t;var He=a;switch(fe.tag){case 1:if(ee=fe.payload,typeof ee=="function"){V=ee.call(He,V,z);break e}V=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=fe.payload,z=typeof ee=="function"?ee.call(He,V,z):ee,z==null)break e;V=_({},V,z);break e;case 2:Zn=!0}}z=x.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=c.callbacks,H===null?c.callbacks=[z]:H.push(z))}else H={lane:z,tag:x.tag,payload:x.payload,callback:x.callback,next:null},q===null?(L=q=H,j=V):q=q.next=H,v|=z;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;H=x,x=H.next,H.next=null,c.lastBaseUpdate=H,c.shared.pending=null}}while(!0);q===null&&(j=V),c.baseState=j,c.firstBaseUpdate=L,c.lastBaseUpdate=q,f===null&&(c.shared.lanes=0),ta|=v,e.lanes=v,e.memoizedState=V}}function Lf(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function zf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Lf(a[e],t)}var vr=w(null),Hi=w(0);function Bf(e,t){e=Mn,I(Hi,e),I(vr,t),Mn=e|t.baseLanes}function nu(){I(Hi,Mn),I(vr,vr.current)}function au(){Mn=Hi.current,D(vr),D(Hi)}var Lt=w(null),Ft=null;function Xn(e){var t=e.alternate;I(Qe,Qe.current&1),I(Lt,e),Ft===null&&(t===null||vr.current!==null||t.memoizedState!==null)&&(Ft=e)}function ru(e){I(Qe,Qe.current),I(Lt,e),Ft===null&&(Ft=e)}function Hf(e){e.tag===22?(I(Qe,Qe.current),I(Lt,e),Ft===null&&(Ft=e)):Fn()}function Fn(){I(Qe,Qe.current),I(Lt,Lt.current)}function zt(e){D(Lt),Ft===e&&(Ft=null),D(Qe)}var Qe=w(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cc(a)||dc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jn=0,ve=null,ze=null,et=null,qi=!1,yr=!1,La=!1,Ii=0,bs=0,br=null,_y=0;function Ze(){throw Error(i(321))}function su(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Dt(e[a],t[a]))return!1;return!0}function iu(e,t,a,l,c,f){return jn=f,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?xh:_u,La=!1,f=a(l,c),La=!1,yr&&(f=qf(t,a,l,c)),$f(e),f}function $f(e){B.H=xs;var t=ze!==null&&ze.next!==null;if(jn=0,et=ze=ve=null,qi=!1,bs=0,br=null,t)throw Error(i(300));e===null||tt||(e=e.dependencies,e!==null&&ki(e)&&(tt=!0))}function qf(e,t,a,l){ve=e;var c=0;do{if(yr&&(br=null),bs=0,yr=!1,25<=c)throw Error(i(301));if(c+=1,et=ze=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Sh,f=t(a,l)}while(yr);return f}function xy(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?ws(t):t,e=e.useState()[0],(ze!==null?ze.memoizedState:null)!==e&&(ve.flags|=1024),t}function lu(){var e=Ii!==0;return Ii=0,e}function ou(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function uu(e){if(qi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}qi=!1}jn=0,et=ze=ve=null,yr=!1,bs=Ii=0,br=null}function _t(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?ve.memoizedState=et=e:et=et.next=e,et}function Xe(){if(ze===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=ze.next;var t=et===null?ve.memoizedState:et.next;if(t!==null)et=t,ze=e;else{if(e===null)throw ve.alternate===null?Error(i(467)):Error(i(310));ze=e,e={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},et===null?ve.memoizedState=et=e:et=et.next=e}return et}function Gi(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ws(e){var t=bs;return bs+=1,br===null&&(br=[]),e=Cf(br,e,t),t=ve,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?xh:_u),e}function Vi(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ws(e);if(e.$$typeof===C)return ft(e)}throw Error(i(438,String(e)))}function cu(e){var t=null,a=ve.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Gi(),ve.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=se;return t.index++,a}function On(e,t){return typeof t=="function"?t(e):t}function Yi(e){var t=Xe();return du(t,ze,e)}function du(e,t,a){var l=e.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=a;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}t.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var x=v=null,j=null,L=t,q=!1;do{var V=L.lane&-536870913;if(V!==L.lane?(je&V)===V:(jn&V)===V){var z=L.revertLane;if(z===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),V===hr&&(q=!0);else if((jn&z)===z){L=L.next,z===hr&&(q=!0);continue}else V={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},j===null?(x=j=V,v=f):j=j.next=V,ve.lanes|=z,ta|=z;V=L.action,La&&a(f,V),f=L.hasEagerState?L.eagerState:a(f,V)}else z={lane:V,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},j===null?(x=j=z,v=f):j=j.next=z,ve.lanes|=V,ta|=V;L=L.next}while(L!==null&&L!==t);if(j===null?v=f:j.next=x,!Dt(f,e.memoizedState)&&(tt=!0,q&&(a=mr,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=j,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function fu(e){var t=Xe(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,f=t.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=e(f,v.action),v=v.next;while(v!==c);Dt(f,t.memoizedState)||(tt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,l]}function If(e,t,a){var l=ve,c=Xe(),f=Re;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=t();var v=!Dt((ze||c).memoizedState,a);if(v&&(c.memoizedState=a,tt=!0),c=c.queue,gu(Yf.bind(null,l,c,e),[e]),c.getSnapshot!==t||v||et!==null&&et.memoizedState.tag&1){if(l.flags|=2048,wr(9,{destroy:void 0},Vf.bind(null,l,c,a,t),null),$e===null)throw Error(i(349));f||(jn&127)!==0||Gf(l,t,a)}return a}function Gf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ve.updateQueue,t===null?(t=Gi(),ve.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Vf(e,t,a,l){t.value=a,t.getSnapshot=l,Pf(t)&&Kf(e)}function Yf(e,t,a){return a(function(){Pf(t)&&Kf(e)})}function Pf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Dt(e,a)}catch{return!0}}function Kf(e){var t=Aa(e,2);t!==null&&Rt(t,e,2)}function hu(e){var t=_t();if(typeof e=="function"){var a=e;if(e=a(),La){qn(!0);try{a()}finally{qn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:e},t}function Zf(e,t,a,l){return e.baseState=a,du(e,ze,typeof l=="function"?l:On)}function Sy(e,t,a,l,c){if(Zi(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};B.T!==null?a(!0):f.isTransition=!1,l(f),a=t.pending,a===null?(f.next=t.pending=f,Jf(t,f)):(f.next=a.next,t.pending=a.next=f)}}function Jf(e,t){var a=t.action,l=t.payload,c=e.state;if(t.isTransition){var f=B.T,v={};B.T=v;try{var x=a(c,l),j=B.S;j!==null&&j(v,x),Qf(e,t,x)}catch(L){mu(e,t,L)}finally{f!==null&&v.types!==null&&(f.types=v.types),B.T=f}}else try{f=a(c,l),Qf(e,t,f)}catch(L){mu(e,t,L)}}function Qf(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Xf(e,t,l)},function(l){return mu(e,t,l)}):Xf(e,t,a)}function Xf(e,t,a){t.status="fulfilled",t.value=a,Ff(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Jf(e,a)))}function mu(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Ff(t),t=t.next;while(t!==l)}e.action=null}function Ff(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wf(e,t){return t}function eh(e,t){if(Re){var a=$e.formState;if(a!==null){e:{var l=ve;if(Re){if(Ge){t:{for(var c=Ge,f=Xt;c.nodeType!==8;){if(!f){c=null;break t}if(c=Wt(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ge=Wt(c.nextSibling),l=c.data==="F!";break e}}Pn(l)}l=!1}l&&(t=a[0])}}return a=_t(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:t},a.queue=l,a=bh.bind(null,ve,l),l.dispatch=a,l=hu(!1),f=wu.bind(null,ve,!1,l.queue),l=_t(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,a=Sy.bind(null,ve,c,f,a),c.dispatch=a,l.memoizedState=e,[t,a,!1]}function th(e){var t=Xe();return nh(t,ze,e)}function nh(e,t,a){if(t=du(e,t,Wf)[0],e=Yi(On)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=ws(t)}catch(v){throw v===gr?Ui:v}else l=t;t=Xe();var c=t.queue,f=c.dispatch;return a!==t.memoizedState&&(ve.flags|=2048,wr(9,{destroy:void 0},Ey.bind(null,c,a),null)),[l,f,e]}function Ey(e,t){e.action=t}function ah(e){var t=Xe(),a=ze;if(a!==null)return nh(t,a,e);Xe(),t=t.memoizedState,a=Xe();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function wr(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=ve.updateQueue,t===null&&(t=Gi(),ve.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function rh(){return Xe().memoizedState}function Pi(e,t,a,l){var c=_t();ve.flags|=e,c.memoizedState=wr(1|t,{destroy:void 0},a,l===void 0?null:l)}function Ki(e,t,a,l){var c=Xe();l=l===void 0?null:l;var f=c.memoizedState.inst;ze!==null&&l!==null&&su(l,ze.memoizedState.deps)?c.memoizedState=wr(t,f,a,l):(ve.flags|=e,c.memoizedState=wr(1|t,f,a,l))}function sh(e,t){Pi(8390656,8,e,t)}function gu(e,t){Ki(2048,8,e,t)}function jy(e){ve.flags|=4;var t=ve.updateQueue;if(t===null)t=Gi(),ve.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function ih(e){var t=Xe().memoizedState;return jy({ref:t,nextImpl:e}),function(){if((ke&2)!==0)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function lh(e,t){return Ki(4,2,e,t)}function oh(e,t){return Ki(4,4,e,t)}function uh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ch(e,t,a){a=a!=null?a.concat([e]):null,Ki(4,4,uh.bind(null,t,e),a)}function pu(){}function dh(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&su(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function fh(e,t){var a=Xe();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&su(t,l[1]))return l[0];if(l=e(),La){qn(!0);try{e()}finally{qn(!1)}}return a.memoizedState=[l,t],l}function vu(e,t,a){return a===void 0||(jn&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=hm(),ve.lanes|=e,ta|=e,a)}function hh(e,t,a,l){return Dt(a,t)?a:vr.current!==null?(e=vu(e,a,l),Dt(e,t)||(tt=!0),e):(jn&42)===0||(jn&1073741824)!==0&&(je&261930)===0?(tt=!0,e.memoizedState=a):(e=hm(),ve.lanes|=e,ta|=e,t)}function mh(e,t,a,l,c){var f=Y.p;Y.p=f!==0&&8>f?f:8;var v=B.T,x={};B.T=x,wu(e,!1,t,a);try{var j=c(),L=B.S;if(L!==null&&L(x,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var q=wy(j,l);_s(e,t,q,$t(e))}else _s(e,t,l,$t(e))}catch(V){_s(e,t,{then:function(){},status:"rejected",reason:V},$t())}finally{Y.p=f,v!==null&&x.types!==null&&(v.types=x.types),B.T=v}}function Oy(){}function yu(e,t,a,l){if(e.tag!==5)throw Error(i(476));var c=gh(e).queue;mh(e,c,t,ne,a===null?Oy:function(){return ph(e),a(l)})}function gh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:ne},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ph(e){var t=gh(e);t.next===null&&(t=e.alternate.memoizedState),_s(e,t.next.queue,{},$t())}function bu(){return ft(Bs)}function vh(){return Xe().memoizedState}function yh(){return Xe().memoizedState}function Ay(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=$t();e=Jn(a);var l=Qn(t,e,a);l!==null&&(Rt(l,t,a),ps(l,t,a)),t={cache:Zo()},e.payload=t;return}t=t.return}}function Ty(e,t,a){var l=$t();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Zi(e)?wh(t,a):(a=zo(e,t,a,l),a!==null&&(Rt(a,e,l),_h(a,t,l)))}function bh(e,t,a){var l=$t();_s(e,t,a,l)}function _s(e,t,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Zi(e))wh(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var v=t.lastRenderedState,x=f(v,a);if(c.hasEagerState=!0,c.eagerState=x,Dt(x,v))return Ti(e,t,c,0),$e===null&&Ai(),!1}catch{}finally{}if(a=zo(e,t,c,l),a!==null)return Rt(a,e,l),_h(a,t,l),!0}return!1}function wu(e,t,a,l){if(l={lane:2,revertLane:Fu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zi(e)){if(t)throw Error(i(479))}else t=zo(e,a,l,2),t!==null&&Rt(t,e,2)}function Zi(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function wh(e,t){yr=qi=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function _h(e,t,a){if((a&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,jd(e,a)}}var xs={readContext:ft,use:Vi,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};xs.useEffectEvent=Ze;var xh={readContext:ft,use:Vi,useCallback:function(e,t){return _t().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:sh,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Pi(4194308,4,uh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Pi(4194308,4,e,t)},useInsertionEffect:function(e,t){Pi(4,2,e,t)},useMemo:function(e,t){var a=_t();t=t===void 0?null:t;var l=e();if(La){qn(!0);try{e()}finally{qn(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=_t();if(a!==void 0){var c=a(t);if(La){qn(!0);try{a(t)}finally{qn(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=Ty.bind(null,ve,e),[l.memoizedState,e]},useRef:function(e){var t=_t();return e={current:e},t.memoizedState=e},useState:function(e){e=hu(e);var t=e.queue,a=bh.bind(null,ve,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:pu,useDeferredValue:function(e,t){var a=_t();return vu(a,e,t)},useTransition:function(){var e=hu(!1);return e=mh.bind(null,ve,e.queue,!0,!1),_t().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=ve,c=_t();if(Re){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),$e===null)throw Error(i(349));(je&127)!==0||Gf(l,t,a)}c.memoizedState=a;var f={value:a,getSnapshot:t};return c.queue=f,sh(Yf.bind(null,l,f,e),[e]),l.flags|=2048,wr(9,{destroy:void 0},Vf.bind(null,l,f,a,t),null),a},useId:function(){var e=_t(),t=$e.identifierPrefix;if(Re){var a=fn,l=dn;a=(l&~(1<<32-Mt(l)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Ii++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=_y++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bu,useFormState:eh,useActionState:eh,useOptimistic:function(e){var t=_t();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=wu.bind(null,ve,!0,a),a.dispatch=t,[e,t]},useMemoCache:cu,useCacheRefresh:function(){return _t().memoizedState=Ay.bind(null,ve)},useEffectEvent:function(e){var t=_t(),a={impl:e};return t.memoizedState=a,function(){if((ke&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}},_u={readContext:ft,use:Vi,useCallback:dh,useContext:ft,useEffect:gu,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:oh,useMemo:fh,useReducer:Yi,useRef:rh,useState:function(){return Yi(On)},useDebugValue:pu,useDeferredValue:function(e,t){var a=Xe();return hh(a,ze.memoizedState,e,t)},useTransition:function(){var e=Yi(On)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:ws(e),t]},useSyncExternalStore:If,useId:vh,useHostTransitionStatus:bu,useFormState:th,useActionState:th,useOptimistic:function(e,t){var a=Xe();return Zf(a,ze,e,t)},useMemoCache:cu,useCacheRefresh:yh};_u.useEffectEvent=ih;var Sh={readContext:ft,use:Vi,useCallback:dh,useContext:ft,useEffect:gu,useImperativeHandle:ch,useInsertionEffect:lh,useLayoutEffect:oh,useMemo:fh,useReducer:fu,useRef:rh,useState:function(){return fu(On)},useDebugValue:pu,useDeferredValue:function(e,t){var a=Xe();return ze===null?vu(a,e,t):hh(a,ze.memoizedState,e,t)},useTransition:function(){var e=fu(On)[0],t=Xe().memoizedState;return[typeof e=="boolean"?e:ws(e),t]},useSyncExternalStore:If,useId:vh,useHostTransitionStatus:bu,useFormState:ah,useActionState:ah,useOptimistic:function(e,t){var a=Xe();return ze!==null?Zf(a,ze,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:cu,useCacheRefresh:yh};Sh.useEffectEvent=ih;function xu(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Su={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=$t(),c=Jn(l);c.payload=t,a!=null&&(c.callback=a),t=Qn(e,c,l),t!==null&&(Rt(t,e,l),ps(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=$t(),c=Jn(l);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=Qn(e,c,l),t!==null&&(Rt(t,e,l),ps(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=$t(),l=Jn(a);l.tag=2,t!=null&&(l.callback=t),t=Qn(e,l,a),t!==null&&(Rt(t,e,a),ps(t,e,a))}};function Eh(e,t,a,l,c,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):t.prototype&&t.prototype.isPureReactComponent?!os(a,l)||!os(c,f):!0}function jh(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&Su.enqueueReplaceState(t,t.state,null)}function za(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}function Oh(e){Oi(e)}function Ah(e){console.error(e)}function Th(e){Oi(e)}function Ji(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Rh(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eu(e,t,a){return a=Jn(a),a.tag=3,a.payload={element:null},a.callback=function(){Ji(e,t)},a}function Nh(e){return e=Jn(e),e.tag=3,e}function Ch(e,t,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Rh(t,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Rh(t,a,l),typeof c!="function"&&(na===null?na=new Set([this]):na.add(this));var x=l.stack;this.componentDidCatch(l.value,{componentStack:x!==null?x:""})})}function Ry(e,t,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&fr(t,a,c,!0),a=Lt.current,a!==null){switch(a.tag){case 31:case 13:return Ft===null?ll():a.alternate===null&&Je===0&&(Je=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Li?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),Ju(e,l,c)),!1;case 22:return a.flags|=65536,l===Li?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),Ju(e,l,c)),!1}throw Error(i(435,a.tag))}return Ju(e,l,c),ll(),!1}if(Re)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Go&&(e=Error(i(422),{cause:l}),ds(Zt(e,a)))):(l!==Go&&(t=Error(i(423),{cause:l}),ds(Zt(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=Zt(l,a),c=Eu(e.stateNode,l,c),eu(e,c),Je!==4&&(Je=2)),!1;var f=Error(i(520),{cause:l});if(f=Zt(f,a),Ns===null?Ns=[f]:Ns.push(f),Je!==4&&(Je=2),t===null)return!0;l=Zt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Eu(a.stateNode,l,e),eu(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(na===null||!na.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Nh(c),Ch(c,e,a,l),eu(a,c),!1}a=a.return}while(a!==null);return!1}var ju=Error(i(461)),tt=!1;function ht(e,t,a,l){t.child=e===null?Uf(t,null,a,l):Ua(t,e.child,a,l)}function kh(e,t,a,l,c){a=a.render;var f=t.ref;if("ref"in l){var v={};for(var x in l)x!=="ref"&&(v[x]=l[x])}else v=l;return Ca(t),l=iu(e,t,a,v,f,c),x=lu(),e!==null&&!tt?(ou(e,t,c),An(e,t,c)):(Re&&x&&qo(t),t.flags|=1,ht(e,t,l,c),t.child)}function Mh(e,t,a,l,c){if(e===null){var f=a.type;return typeof f=="function"&&!Bo(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,Dh(e,t,f,l,c)):(e=Ni(a.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Mu(e,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:os,a(v,l)&&e.ref===t.ref)return An(e,t,c)}return t.flags|=1,e=_n(f,l),e.ref=t.ref,e.return=t,t.child=e}function Dh(e,t,a,l,c){if(e!==null){var f=e.memoizedProps;if(os(f,l)&&e.ref===t.ref)if(tt=!1,t.pendingProps=l=f,Mu(e,c))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,An(e,t,c)}return Ou(e,t,a,l,c)}function Uh(e,t,a,l){var c=l.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~f}else l=0,t.child=null;return Lh(e,t,f,a,l)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Di(t,f!==null?f.cachePool:null),f!==null?Bf(t,f):nu(),Hf(t);else return l=t.lanes=536870912,Lh(e,t,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(Di(t,f.cachePool),Bf(t,f),Fn(),t.memoizedState=null):(e!==null&&Di(t,null),nu(),Fn());return ht(e,t,c,a),t.child}function Ss(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Lh(e,t,a,l,c){var f=Qo();return f=f===null?null:{parent:We._currentValue,pool:f},t.memoizedState={baseLanes:a,cachePool:f},e!==null&&Di(t,null),nu(),Hf(t),e!==null&&fr(e,t,l,!0),t.childLanes=c,null}function Qi(e,t){return t=Fi({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function zh(e,t,a){return Ua(t,e.child,null,a),e=Qi(t,t.pendingProps),e.flags|=2,zt(t),t.memoizedState=null,e}function Ny(e,t,a){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Re){if(l.mode==="hidden")return e=Qi(t,l),t.lanes=536870912,Ss(null,e);if(ru(t),(e=Ge)?(e=Jm(e,Xt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:dn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},a=wf(e),a.return=t,t.child=a,dt=t,Ge=null)):e=null,e===null)throw Pn(t);return t.lanes=536870912,null}return Qi(t,l)}var f=e.memoizedState;if(f!==null){var v=f.dehydrated;if(ru(t),c)if(t.flags&256)t.flags&=-257,t=zh(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(tt||fr(e,t,a,!1),c=(a&e.childLanes)!==0,tt||c){if(l=$e,l!==null&&(v=Od(l,a),v!==0&&v!==f.retryLane))throw f.retryLane=v,Aa(e,v),Rt(l,e,v),ju;ll(),t=zh(e,t,a)}else e=f.treeContext,Ge=Wt(v.nextSibling),dt=t,Re=!0,Yn=null,Xt=!1,e!==null&&Sf(t,e),t=Qi(t,l),t.flags|=4096;return t}return e=_n(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Xi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ou(e,t,a,l,c){return Ca(t),a=iu(e,t,a,l,void 0,c),l=lu(),e!==null&&!tt?(ou(e,t,c),An(e,t,c)):(Re&&l&&qo(t),t.flags|=1,ht(e,t,a,c),t.child)}function Bh(e,t,a,l,c,f){return Ca(t),t.updateQueue=null,a=qf(t,l,a,c),$f(e),l=lu(),e!==null&&!tt?(ou(e,t,f),An(e,t,f)):(Re&&l&&qo(t),t.flags|=1,ht(e,t,a,f),t.child)}function Hh(e,t,a,l,c){if(Ca(t),t.stateNode===null){var f=or,v=a.contextType;typeof v=="object"&&v!==null&&(f=ft(v)),f=new a(l,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Su,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=l,f.state=t.memoizedState,f.refs={},Fo(t),v=a.contextType,f.context=typeof v=="object"&&v!==null?ft(v):or,f.state=t.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(xu(t,a,v,l),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Su.enqueueReplaceState(f,f.state,null),ys(t,l,f,c),vs(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){f=t.stateNode;var x=t.memoizedProps,j=za(a,x);f.props=j;var L=f.context,q=a.contextType;v=or,typeof q=="object"&&q!==null&&(v=ft(q));var V=a.getDerivedStateFromProps;q=typeof V=="function"||typeof f.getSnapshotBeforeUpdate=="function",x=t.pendingProps!==x,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x||L!==v)&&jh(t,f,l,v),Zn=!1;var z=t.memoizedState;f.state=z,ys(t,l,f,c),vs(),L=t.memoizedState,x||z!==L||Zn?(typeof V=="function"&&(xu(t,a,V,l),L=t.memoizedState),(j=Zn||Eh(t,a,j,l,z,L,v))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=L),f.props=l,f.state=L,f.context=v,l=j):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{f=t.stateNode,Wo(e,t),v=t.memoizedProps,q=za(a,v),f.props=q,V=t.pendingProps,z=f.context,L=a.contextType,j=or,typeof L=="object"&&L!==null&&(j=ft(L)),x=a.getDerivedStateFromProps,(L=typeof x=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==V||z!==j)&&jh(t,f,l,j),Zn=!1,z=t.memoizedState,f.state=z,ys(t,l,f,c),vs();var H=t.memoizedState;v!==V||z!==H||Zn||e!==null&&e.dependencies!==null&&ki(e.dependencies)?(typeof x=="function"&&(xu(t,a,x,l),H=t.memoizedState),(q=Zn||Eh(t,a,q,l,z,H,j)||e!==null&&e.dependencies!==null&&ki(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,j),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,j)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=H),f.props=l,f.state=H,f.context=j,l=q):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),l=!1)}return f=l,Xi(e,t),l=(t.flags&128)!==0,f||l?(f=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&l?(t.child=Ua(t,e.child,null,c),t.child=Ua(t,null,a,c)):ht(e,t,a,c),t.memoizedState=f.state,e=t.child):e=An(e,t,c),e}function $h(e,t,a,l){return Ra(),t.flags|=256,ht(e,t,a,l),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(e){return{baseLanes:e,cachePool:Rf()}}function Ru(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Ht),e}function qh(e,t,a){var l=t.pendingProps,c=!1,f=(t.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Qe.current&2)!==0),v&&(c=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Re){if(c?Xn(t):Fn(),(e=Ge)?(e=Jm(e,Xt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:dn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},a=wf(e),a.return=t,t.child=a,dt=t,Ge=null)):e=null,e===null)throw Pn(t);return dc(e)?t.lanes=32:t.lanes=536870912,null}var x=l.children;return l=l.fallback,c?(Fn(),c=t.mode,x=Fi({mode:"hidden",children:x},c),l=Ta(l,c,a,null),x.return=t,l.return=t,x.sibling=l,t.child=x,l=t.child,l.memoizedState=Tu(a),l.childLanes=Ru(e,v,a),t.memoizedState=Au,Ss(null,l)):(Xn(t),Nu(t,x))}var j=e.memoizedState;if(j!==null&&(x=j.dehydrated,x!==null)){if(f)t.flags&256?(Xn(t),t.flags&=-257,t=Cu(e,t,a)):t.memoizedState!==null?(Fn(),t.child=e.child,t.flags|=128,t=null):(Fn(),x=l.fallback,c=t.mode,l=Fi({mode:"visible",children:l.children},c),x=Ta(x,c,a,null),x.flags|=2,l.return=t,x.return=t,l.sibling=x,t.child=l,Ua(t,e.child,null,a),l=t.child,l.memoizedState=Tu(a),l.childLanes=Ru(e,v,a),t.memoizedState=Au,t=Ss(null,l));else if(Xn(t),dc(x)){if(v=x.nextSibling&&x.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(i(419)),l.stack="",l.digest=v,ds({value:l,source:null,stack:null}),t=Cu(e,t,a)}else if(tt||fr(e,t,a,!1),v=(a&e.childLanes)!==0,tt||v){if(v=$e,v!==null&&(l=Od(v,a),l!==0&&l!==j.retryLane))throw j.retryLane=l,Aa(e,l),Rt(v,e,l),ju;cc(x)||ll(),t=Cu(e,t,a)}else cc(x)?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,Ge=Wt(x.nextSibling),dt=t,Re=!0,Yn=null,Xt=!1,e!==null&&Sf(t,e),t=Nu(t,l.children),t.flags|=4096);return t}return c?(Fn(),x=l.fallback,c=t.mode,j=e.child,L=j.sibling,l=_n(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,L!==null?x=_n(L,x):(x=Ta(x,c,a,null),x.flags|=2),x.return=t,l.return=t,l.sibling=x,t.child=l,Ss(null,l),l=t.child,x=e.child.memoizedState,x===null?x=Tu(a):(c=x.cachePool,c!==null?(j=We._currentValue,c=c.parent!==j?{parent:j,pool:j}:c):c=Rf(),x={baseLanes:x.baseLanes|a,cachePool:c}),l.memoizedState=x,l.childLanes=Ru(e,v,a),t.memoizedState=Au,Ss(e.child,l)):(Xn(t),a=e.child,e=a.sibling,a=_n(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=a,t.memoizedState=null,a)}function Nu(e,t){return t=Fi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Fi(e,t){return e=Ut(22,e,null,t),e.lanes=0,e}function Cu(e,t,a){return Ua(t,e.child,null,a),e=Nu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ih(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Po(e.return,t,a)}function ku(e,t,a,l,c,f){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:f}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=c,v.treeForkCount=f)}function Gh(e,t,a){var l=t.pendingProps,c=l.revealOrder,f=l.tail;l=l.children;var v=Qe.current,x=(v&2)!==0;if(x?(v=v&1|2,t.flags|=128):v&=1,I(Qe,v),ht(e,t,l,a),l=Re?cs:0,!x&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ih(e,a,t);else if(e.tag===19)Ih(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&$i(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),ku(t,!1,c,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&$i(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}ku(t,!0,a,null,f,l);break;case"together":ku(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function An(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ta|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(fr(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=_n(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=_n(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ki(e)))}function Cy(e,t,a){switch(t.tag){case 3:ce(t,t.stateNode.containerInfo),Kn(t,We,e.memoizedState.cache),Ra();break;case 27:case 5:Le(t);break;case 4:ce(t,t.stateNode.containerInfo);break;case 10:Kn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ru(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Xn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?qh(e,t,a):(Xn(t),e=An(e,t,a),e!==null?e.sibling:null);Xn(t);break;case 19:var c=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(fr(e,t,a,!1),l=(a&t.childLanes)!==0),c){if(l)return Gh(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),I(Qe,Qe.current),l)break;return null;case 22:return t.lanes=0,Uh(e,t,a,t.pendingProps);case 24:Kn(t,We,e.memoizedState.cache)}return An(e,t,a)}function Vh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Mu(e,a)&&(t.flags&128)===0)return tt=!1,Cy(e,t,a);tt=(e.flags&131072)!==0}else tt=!1,Re&&(t.flags&1048576)!==0&&xf(t,cs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ma(t.elementType),t.type=e,typeof e=="function")Bo(e)?(l=za(e,l),t.tag=1,t=Hh(null,t,e,l,a)):(t.tag=0,t=Ou(null,t,e,l,a));else{if(e!=null){var c=e.$$typeof;if(c===K){t.tag=11,t=kh(null,t,e,l,a);break e}else if(c===X){t.tag=14,t=Mh(null,t,e,l,a);break e}}throw t=de(e)||e,Error(i(306,t,""))}}return t;case 0:return Ou(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,c=za(l,t.pendingProps),Hh(e,t,l,c,a);case 3:e:{if(ce(t,t.stateNode.containerInfo),e===null)throw Error(i(387));l=t.pendingProps;var f=t.memoizedState;c=f.element,Wo(e,t),ys(t,l,null,a);var v=t.memoizedState;if(l=v.cache,Kn(t,We,l),l!==f.cache&&Ko(t,[We],a,!0),vs(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=$h(e,t,l,a);break e}else if(l!==c){c=Zt(Error(i(424)),t),ds(c),t=$h(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=Wt(e.firstChild),dt=t,Re=!0,Yn=null,Xt=!0,a=Uf(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ra(),l===c){t=An(e,t,a);break e}ht(e,t,l,a)}t=t.child}return t;case 26:return Xi(e,t),e===null?(a=t0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Re||(a=t.type,e=t.pendingProps,l=ml(F.current).createElement(a),l[ct]=t,l[St]=e,mt(l,a,e),ot(l),t.stateNode=l):t.memoizedState=t0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Le(t),e===null&&Re&&(l=t.stateNode=Fm(t.type,t.pendingProps,F.current),dt=t,Xt=!0,c=Ge,ia(t.type)?(fc=c,Ge=Wt(l.firstChild)):Ge=c),ht(e,t,t.pendingProps.children,a),Xi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Re&&((c=l=Ge)&&(l=lb(l,t.type,t.pendingProps,Xt),l!==null?(t.stateNode=l,dt=t,Ge=Wt(l.firstChild),Xt=!1,c=!0):c=!1),c||Pn(t)),Le(t),c=t.type,f=t.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,lc(c,f)?l=null:v!==null&&lc(c,v)&&(t.flags|=32),t.memoizedState!==null&&(c=iu(e,t,xy,null,null,a),Bs._currentValue=c),Xi(e,t),ht(e,t,l,a),t.child;case 6:return e===null&&Re&&((e=a=Ge)&&(a=ob(a,t.pendingProps,Xt),a!==null?(t.stateNode=a,dt=t,Ge=null,e=!0):e=!1),e||Pn(t)),null;case 13:return qh(e,t,a);case 4:return ce(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ua(t,null,l,a):ht(e,t,l,a),t.child;case 11:return kh(e,t,t.type,t.pendingProps,a);case 7:return ht(e,t,t.pendingProps,a),t.child;case 8:return ht(e,t,t.pendingProps.children,a),t.child;case 12:return ht(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Kn(t,t.type,l.value),ht(e,t,l.children,a),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,Ca(t),c=ft(c),l=l(c),t.flags|=1,ht(e,t,l,a),t.child;case 14:return Mh(e,t,t.type,t.pendingProps,a);case 15:return Dh(e,t,t.type,t.pendingProps,a);case 19:return Gh(e,t,a);case 31:return Ny(e,t,a);case 22:return Uh(e,t,a,t.pendingProps);case 24:return Ca(t),l=ft(We),e===null?(c=Qo(),c===null&&(c=$e,f=Zo(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),t.memoizedState={parent:l,cache:c},Fo(t),Kn(t,We,c)):((e.lanes&a)!==0&&(Wo(e,t),ys(t,null,null,a),vs()),c=e.memoizedState,f=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Kn(t,We,l)):(l=f.cache,Kn(t,We,l),l!==c.cache&&Ko(t,[We],a,!0))),ht(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Tn(e){e.flags|=4}function Du(e,t,a,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(vm())e.flags|=8192;else throw Da=Li,Xo}else e.flags&=-16777217}function Yh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i0(t))if(vm())e.flags|=8192;else throw Da=Li,Xo}function Wi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Sd():536870912,e.lanes|=t,Er|=t)}function Es(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function ky(e,t,a){var l=t.pendingProps;switch(Io(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return Ve(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),En(We),ge(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(dr(t)?Tn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Vo())),Ve(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(Tn(t),f!==null?(Ve(t),Yh(t,f)):(Ve(t),Du(t,c,null,l,a))):f?f!==e.memoizedState?(Tn(t),Ve(t),Yh(t,f)):(Ve(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Tn(t),Ve(t),Du(t,c,e,l,a)),null;case 27:if(Me(t),a=F.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Tn(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ve(t),null}e=P.current,dr(t)?Ef(t):(e=Fm(c,l,a),t.stateNode=e,Tn(t))}return Ve(t),null;case 5:if(Me(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Tn(t);else{if(!l){if(t.stateNode===null)throw Error(i(166));return Ve(t),null}if(f=P.current,dr(t))Ef(t);else{var v=ml(F.current);switch(f){case 1:f=v.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=v.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=v.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=v.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?v.createElement(c,{is:l.is}):v.createElement(c)}}f[ct]=t,f[St]=l;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)f.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=f;e:switch(mt(f,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Tn(t)}}return Ve(t),Du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Tn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(i(166));if(e=F.current,dr(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,c=dt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[ct]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||qm(e.nodeValue,a)),e||Pn(t,!0)}else e=ml(e).createTextNode(l),e[ct]=t,t.stateNode=e}return Ve(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(l=dr(t),a!==null){if(e===null){if(!l)throw Error(i(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[ct]=t}else Ra(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),e=!1}else a=Vo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(zt(t),t):(zt(t),null);if((t.flags&128)!==0)throw Error(i(558))}return Ve(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=dr(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[ct]=t}else Ra(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ve(t),c=!1}else c=Vo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(zt(t),t):(zt(t),null)}return zt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Wi(t,t.updateQueue),Ve(t),null);case 4:return ge(),e===null&&nc(t.stateNode.containerInfo),Ve(t),null;case 10:return En(t.type),Ve(t),null;case 19:if(D(Qe),l=t.memoizedState,l===null)return Ve(t),null;if(c=(t.flags&128)!==0,f=l.rendering,f===null)if(c)Es(l,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=$i(e),f!==null){for(t.flags|=128,Es(l,!1),e=f.updateQueue,t.updateQueue=e,Wi(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)bf(a,e),a=a.sibling;return I(Qe,Qe.current&1|2),Re&&xn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&pt()>rl&&(t.flags|=128,c=!0,Es(l,!1),t.lanes=4194304)}else{if(!c)if(e=$i(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Wi(t,e),Es(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Re)return Ve(t),null}else 2*pt()-l.renderingStartTime>rl&&a!==536870912&&(t.flags|=128,c=!0,Es(l,!1),t.lanes=4194304);l.isBackwards?(f.sibling=t.child,t.child=f):(e=l.last,e!==null?e.sibling=f:t.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=pt(),e.sibling=null,a=Qe.current,I(Qe,c?a&1|2:a&1),Re&&xn(t,l.treeForkCount),e):(Ve(t),null);case 22:case 23:return zt(t),au(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(a&536870912)!==0&&(t.flags&128)===0&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),a=t.updateQueue,a!==null&&Wi(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&D(ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),En(We),Ve(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function My(e,t){switch(Io(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(We),ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Me(t),null;case 31:if(t.memoizedState!==null){if(zt(t),t.alternate===null)throw Error(i(340));Ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ra()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(Qe),null;case 4:return ge(),null;case 10:return En(t.type),null;case 22:case 23:return zt(t),au(),e!==null&&D(ka),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return En(We),null;case 25:return null;default:return null}}function Ph(e,t){switch(Io(t),t.tag){case 3:En(We),ge();break;case 26:case 27:case 5:Me(t);break;case 4:ge();break;case 31:t.memoizedState!==null&&zt(t);break;case 13:zt(t);break;case 19:D(Qe);break;case 10:En(t.type);break;case 22:case 23:zt(t),au(),e!==null&&D(ka);break;case 24:En(We)}}function js(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==c)}}catch(x){Ue(t,t.return,x)}}function Wn(e,t,a){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var v=l.inst,x=v.destroy;if(x!==void 0){v.destroy=void 0,c=t;var j=a,L=x;try{L()}catch(q){Ue(c,j,q)}}}l=l.next}while(l!==f)}}catch(q){Ue(t,t.return,q)}}function Kh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{zf(t,a)}catch(l){Ue(e,e.return,l)}}}function Zh(e,t,a){a.props=za(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Ue(e,t,l)}}function Os(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){Ue(e,t,c)}}function hn(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Ue(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ue(e,t,c)}else a.current=null}function Jh(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Ue(e,e.return,c)}}function Uu(e,t,a){try{var l=e.stateNode;tb(l,e.type,a,t),l[St]=t}catch(c){Ue(e,e.return,c)}}function Qh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ia(e.type)||e.tag===4}function Lu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ia(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function zu(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=bn));else if(l!==4&&(l===27&&ia(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(zu(e,t,a),e=e.sibling;e!==null;)zu(e,t,a),e=e.sibling}function el(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&ia(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(el(e,t,a),e=e.sibling;e!==null;)el(e,t,a),e=e.sibling}function Xh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);mt(t,l,a),t[ct]=e,t[St]=a}catch(f){Ue(e,e.return,f)}}var Rn=!1,nt=!1,Bu=!1,Fh=typeof WeakSet=="function"?WeakSet:Set,ut=null;function Dy(e,t){if(e=e.containerInfo,sc=_l,e=cf(e),Co(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,x=-1,j=-1,L=0,q=0,V=e,z=null;t:for(;;){for(var H;V!==a||c!==0&&V.nodeType!==3||(x=v+c),V!==f||l!==0&&V.nodeType!==3||(j=v+l),V.nodeType===3&&(v+=V.nodeValue.length),(H=V.firstChild)!==null;)z=V,V=H;for(;;){if(V===e)break t;if(z===a&&++L===c&&(x=v),z===f&&++q===l&&(j=v),(H=V.nextSibling)!==null)break;V=z,z=V.parentNode}V=H}a=x===-1||j===-1?null:{start:x,end:j}}else a=null}a=a||{start:0,end:0}}else a=null;for(ic={focusedElem:e,selectionRange:a},_l=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)c=e[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var ee=za(a.type,c);e=l.getSnapshotBeforeUpdate(ee,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(fe){Ue(a,a.return,fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)uc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function Wh(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Cn(e,a),l&4&&js(5,a);break;case 1:if(Cn(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(v){Ue(a,a.return,v)}else{var c=za(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Ue(a,a.return,v)}}l&64&&Kh(a),l&512&&Os(a,a.return);break;case 3:if(Cn(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{zf(e,t)}catch(v){Ue(a,a.return,v)}}break;case 27:t===null&&l&4&&Xh(a);case 26:case 5:Cn(e,a),t===null&&l&4&&Jh(a),l&512&&Os(a,a.return);break;case 12:Cn(e,a);break;case 31:Cn(e,a),l&4&&nm(e,a);break;case 13:Cn(e,a),l&4&&am(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Gy.bind(null,a),ub(e,a))));break;case 22:if(l=a.memoizedState!==null||Rn,!l){t=t!==null&&t.memoizedState!==null||nt,c=Rn;var f=nt;Rn=l,(nt=t)&&!f?kn(e,a,(a.subtreeFlags&8772)!==0):Cn(e,a),Rn=c,nt=f}break;case 30:break;default:Cn(e,a)}}function em(e){var t=e.alternate;t!==null&&(e.alternate=null,em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&mo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,jt=!1;function Nn(e,t,a){for(a=a.child;a!==null;)tm(e,t,a),a=a.sibling}function tm(e,t,a){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(_a,a)}catch{}switch(a.tag){case 26:nt||hn(a,t),Nn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:nt||hn(a,t);var l=Ye,c=jt;ia(a.type)&&(Ye=a.stateNode,jt=!1),Nn(e,t,a),Us(a.stateNode),Ye=l,jt=c;break;case 5:nt||hn(a,t);case 6:if(l=Ye,c=jt,Ye=null,Nn(e,t,a),Ye=l,jt=c,Ye!==null)if(jt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(f){Ue(a,t,f)}else try{Ye.removeChild(a.stateNode)}catch(f){Ue(a,t,f)}break;case 18:Ye!==null&&(jt?(e=Ye,Km(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),kr(e)):Km(Ye,a.stateNode));break;case 4:l=Ye,c=jt,Ye=a.stateNode.containerInfo,jt=!0,Nn(e,t,a),Ye=l,jt=c;break;case 0:case 11:case 14:case 15:Wn(2,a,t),nt||Wn(4,a,t),Nn(e,t,a);break;case 1:nt||(hn(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Zh(a,t,l)),Nn(e,t,a);break;case 21:Nn(e,t,a);break;case 22:nt=(l=nt)||a.memoizedState!==null,Nn(e,t,a),nt=l;break;default:Nn(e,t,a)}}function nm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{kr(e)}catch(a){Ue(t,t.return,a)}}}function am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kr(e)}catch(a){Ue(t,t.return,a)}}function Uy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fh),t;default:throw Error(i(435,e.tag))}}function tl(e,t){var a=Uy(e);t.forEach(function(l){if(!a.has(l)){a.add(l);var c=Vy.bind(null,e,l);l.then(c,c)}})}function Ot(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=e,v=t,x=v;e:for(;x!==null;){switch(x.tag){case 27:if(ia(x.type)){Ye=x.stateNode,jt=!1;break e}break;case 5:Ye=x.stateNode,jt=!1;break e;case 3:case 4:Ye=x.stateNode.containerInfo,jt=!0;break e}x=x.return}if(Ye===null)throw Error(i(160));tm(f,v,c),Ye=null,jt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)rm(t,e),t=t.sibling}var an=null;function rm(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(t,e),At(e),l&4&&(Wn(3,e,e.return),js(3,e),Wn(5,e,e.return));break;case 1:Ot(t,e),At(e),l&512&&(nt||a===null||hn(a,a.return)),l&64&&Rn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=an;if(Ot(t,e),At(e),l&512&&(nt||a===null||hn(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Wr]||f[ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),mt(f,l,a),f[ct]=e,ot(f),l=f;break e;case"link":var v=r0("link","href",c).get(l+(a.href||""));if(v){for(var x=0;x<v.length;x++)if(f=v[x],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(x,1);break t}}f=c.createElement(l),mt(f,l,a),c.head.appendChild(f);break;case"meta":if(v=r0("meta","content",c).get(l+(a.content||""))){for(x=0;x<v.length;x++)if(f=v[x],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(x,1);break t}}f=c.createElement(l),mt(f,l,a),c.head.appendChild(f);break;default:throw Error(i(468,l))}f[ct]=e,ot(f),l=f}e.stateNode=l}else s0(c,e.type,e.stateNode);else e.stateNode=a0(c,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?s0(c,e.type,e.stateNode):a0(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Uu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ot(t,e),At(e),l&512&&(nt||a===null||hn(a,a.return)),a!==null&&l&4&&Uu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ot(t,e),At(e),l&512&&(nt||a===null||hn(a,a.return)),e.flags&32){c=e.stateNode;try{tr(c,"")}catch(ee){Ue(e,e.return,ee)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Uu(e,c,a!==null?a.memoizedProps:c)),l&1024&&(Bu=!0);break;case 6:if(Ot(t,e),At(e),l&4){if(e.stateNode===null)throw Error(i(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(ee){Ue(e,e.return,ee)}}break;case 3:if(vl=null,c=an,an=gl(t.containerInfo),Ot(t,e),an=c,At(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(ee){Ue(e,e.return,ee)}Bu&&(Bu=!1,sm(e));break;case 4:l=an,an=gl(e.stateNode.containerInfo),Ot(t,e),At(e),an=l;break;case 12:Ot(t,e),At(e);break;case 31:Ot(t,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tl(e,l)));break;case 13:Ot(t,e),At(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(al=pt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tl(e,l)));break;case 22:c=e.memoizedState!==null;var j=a!==null&&a.memoizedState!==null,L=Rn,q=nt;if(Rn=L||c,nt=q||j,Ot(t,e),nt=q,Rn=L,At(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||j||Rn||nt||Ba(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){j=a=t;try{if(f=j.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{x=j.stateNode;var V=j.memoizedProps.style,z=V!=null&&V.hasOwnProperty("display")?V.display:null;x.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ee){Ue(j,j.return,ee)}}}else if(t.tag===6){if(a===null){j=t;try{j.stateNode.nodeValue=c?"":j.memoizedProps}catch(ee){Ue(j,j.return,ee)}}}else if(t.tag===18){if(a===null){j=t;try{var H=j.stateNode;c?Zm(H,!0):Zm(j.stateNode,!1)}catch(ee){Ue(j,j.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,tl(e,a))));break;case 19:Ot(t,e),At(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,tl(e,l)));break;case 30:break;case 21:break;default:Ot(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(Qh(l)){a=l;break}l=l.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var c=a.stateNode,f=Lu(e);el(e,f,c);break;case 5:var v=a.stateNode;a.flags&32&&(tr(v,""),a.flags&=-33);var x=Lu(e);el(e,x,v);break;case 3:case 4:var j=a.stateNode.containerInfo,L=Lu(e);zu(e,L,j);break;default:throw Error(i(161))}}catch(q){Ue(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Cn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wh(e,t.alternate,t),t=t.sibling}function Ba(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Wn(4,t,t.return),Ba(t);break;case 1:hn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Zh(t,t.return,a),Ba(t);break;case 27:Us(t.stateNode);case 26:case 5:hn(t,t.return),Ba(t);break;case 22:t.memoizedState===null&&Ba(t);break;case 30:Ba(t);break;default:Ba(t)}e=e.sibling}}function kn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,f=t,v=f.flags;switch(f.tag){case 0:case 11:case 15:kn(c,f,a),js(4,f);break;case 1:if(kn(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Ue(l,l.return,L)}if(l=f,c=l.updateQueue,c!==null){var x=l.stateNode;try{var j=c.shared.hiddenCallbacks;if(j!==null)for(c.shared.hiddenCallbacks=null,c=0;c<j.length;c++)Lf(j[c],x)}catch(L){Ue(l,l.return,L)}}a&&v&64&&Kh(f),Os(f,f.return);break;case 27:Xh(f);case 26:case 5:kn(c,f,a),a&&l===null&&v&4&&Jh(f),Os(f,f.return);break;case 12:kn(c,f,a);break;case 31:kn(c,f,a),a&&v&4&&nm(c,f);break;case 13:kn(c,f,a),a&&v&4&&am(c,f);break;case 22:f.memoizedState===null&&kn(c,f,a),Os(f,f.return);break;case 30:break;default:kn(c,f,a)}t=t.sibling}}function Hu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&fs(a))}function $u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fs(e))}function rn(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)im(e,t,a,l),t=t.sibling}function im(e,t,a,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:rn(e,t,a,l),c&2048&&js(9,t);break;case 1:rn(e,t,a,l);break;case 3:rn(e,t,a,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fs(e)));break;case 12:if(c&2048){rn(e,t,a,l),e=t.stateNode;try{var f=t.memoizedProps,v=f.id,x=f.onPostCommit;typeof x=="function"&&x(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Ue(t,t.return,j)}}else rn(e,t,a,l);break;case 31:rn(e,t,a,l);break;case 13:rn(e,t,a,l);break;case 23:break;case 22:f=t.stateNode,v=t.alternate,t.memoizedState!==null?f._visibility&2?rn(e,t,a,l):As(e,t):f._visibility&2?rn(e,t,a,l):(f._visibility|=2,_r(e,t,a,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Hu(v,t);break;case 24:rn(e,t,a,l),c&2048&&$u(t.alternate,t);break;default:rn(e,t,a,l)}}function _r(e,t,a,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,v=t,x=a,j=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:_r(f,v,x,j,c),js(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?_r(f,v,x,j,c):As(f,v):(q._visibility|=2,_r(f,v,x,j,c)),c&&L&2048&&Hu(v.alternate,v);break;case 24:_r(f,v,x,j,c),c&&L&2048&&$u(v.alternate,v);break;default:_r(f,v,x,j,c)}t=t.sibling}}function As(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,c=l.flags;switch(l.tag){case 22:As(a,l),c&2048&&Hu(l.alternate,l);break;case 24:As(a,l),c&2048&&$u(l.alternate,l);break;default:As(a,l)}t=t.sibling}}var Ts=8192;function xr(e,t,a){if(e.subtreeFlags&Ts)for(e=e.child;e!==null;)lm(e,t,a),e=e.sibling}function lm(e,t,a){switch(e.tag){case 26:xr(e,t,a),e.flags&Ts&&e.memoizedState!==null&&_b(a,an,e.memoizedState,e.memoizedProps);break;case 5:xr(e,t,a);break;case 3:case 4:var l=an;an=gl(e.stateNode.containerInfo),xr(e,t,a),an=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ts,Ts=16777216,xr(e,t,a),Ts=l):xr(e,t,a));break;default:xr(e,t,a)}}function om(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ut=l,cm(l,e)}om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&Wn(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,nl(e)):Rs(e);break;default:Rs(e)}}function nl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];ut=l,cm(l,e)}om(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Wn(8,t,t.return),nl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,nl(t));break;default:nl(t)}e=e.sibling}}function cm(e,t){for(;ut!==null;){var a=ut;switch(a.tag){case 0:case 11:case 15:Wn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fs(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ut=l;else e:for(a=e;ut!==null;){l=ut;var c=l.sibling,f=l.return;if(em(l),l===a){ut=null;break e}if(c!==null){c.return=f,ut=c;break e}ut=f}}}var Ly={getCacheForType:function(e){var t=ft(We),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return ft(We).controller.signal}},zy=typeof WeakMap=="function"?WeakMap:Map,ke=0,$e=null,Se=null,je=0,De=0,Bt=null,ea=!1,Sr=!1,qu=!1,Mn=0,Je=0,ta=0,Ha=0,Iu=0,Ht=0,Er=0,Ns=null,Tt=null,Gu=!1,al=0,dm=0,rl=1/0,sl=null,na=null,rt=0,aa=null,jr=null,Dn=0,Vu=0,Yu=null,fm=null,Cs=0,Pu=null;function $t(){return(ke&2)!==0&&je!==0?je&-je:B.T!==null?Fu():Ad()}function hm(){if(Ht===0)if((je&536870912)===0||Re){var e=hi;hi<<=1,(hi&3932160)===0&&(hi=262144),Ht=e}else Ht=536870912;return e=Lt.current,e!==null&&(e.flags|=32),Ht}function Rt(e,t,a){(e===$e&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Or(e,0),ra(e,je,Ht,!1)),Fr(e,a),((ke&2)===0||e!==$e)&&(e===$e&&((ke&2)===0&&(Ha|=a),Je===4&&ra(e,je,Ht,!1)),mn(e))}function mm(e,t,a){if((ke&6)!==0)throw Error(i(327));var l=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Xr(e,t),c=l?$y(e,t):Zu(e,t,!0),f=l;do{if(c===0){Sr&&!l&&ra(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!By(a)){c=Zu(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var x=e;c=Ns;var j=x.current.memoizedState.isDehydrated;if(j&&(Or(x,v).flags|=256),v=Zu(x,v,!1),v!==2){if(qu&&!j){x.errorRecoveryDisabledLanes|=f,Ha|=f,c=4;break e}f=Tt,Tt=c,f!==null&&(Tt===null?Tt=f:Tt.push.apply(Tt,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){Or(e,0),ra(e,t,0,!0);break}e:{switch(l=e,f=c,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ra(l,t,Ht,!ea);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=al+300-pt(),10<c)){if(ra(l,t,Ht,!ea),gi(l,0,!0)!==0)break e;Dn=t,l.timeoutHandle=Ym(gm.bind(null,l,a,Tt,sl,Gu,t,Ht,Ha,Er,ea,f,"Throttled",-0,0),c);break e}gm(l,a,Tt,sl,Gu,t,Ht,Ha,Er,ea,f,null,-0,0)}}break}while(!0);mn(e)}function gm(e,t,a,l,c,f,v,x,j,L,q,V,z,H){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bn},lm(t,f,V);var ee=(f&62914560)===f?al-pt():(f&4194048)===f?dm-pt():0;if(ee=xb(V,ee),ee!==null){Dn=f,e.cancelPendingCommit=ee(Sm.bind(null,e,t,f,a,l,c,v,x,j,q,V,null,z,H)),ra(e,f,v,!L);return}}Sm(e,t,f,a,l,c,v,x,j)}function By(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!Dt(f(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ra(e,t,a,l){t&=~Iu,t&=~Ha,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var f=31-Mt(c),v=1<<f;l[f]=-1,c&=~v}a!==0&&Ed(e,a,t)}function il(){return(ke&6)===0?(ks(0),!1):!0}function Ku(){if(Se!==null){if(De===0)var e=Se.return;else e=Se,Sn=Na=null,uu(e),pr=null,ms=0,e=Se;for(;e!==null;)Ph(e.alternate,e),e=e.return;Se=null}}function Or(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,rb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Dn=0,Ku(),$e=e,Se=a=_n(e.current,null),je=t,De=0,Bt=null,ea=!1,Sr=Xr(e,t),qu=!1,Er=Ht=Iu=Ha=ta=Je=0,Tt=Ns=null,Gu=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-Mt(l),f=1<<c;t|=e[c],l&=~f}return Mn=t,Ai(),a}function pm(e,t){ve=null,B.H=xs,t===gr||t===Ui?(t=kf(),De=3):t===Xo?(t=kf(),De=4):De=t===ju?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Bt=t,Se===null&&(Je=1,Ji(e,Zt(t,e.current)))}function vm(){var e=Lt.current;return e===null?!0:(je&4194048)===je?Ft===null:(je&62914560)===je||(je&536870912)!==0?e===Ft:!1}function ym(){var e=B.H;return B.H=xs,e===null?xs:e}function bm(){var e=B.A;return B.A=Ly,e}function ll(){Je=4,ea||(je&4194048)!==je&&Lt.current!==null||(Sr=!0),(ta&134217727)===0&&(Ha&134217727)===0||$e===null||ra($e,je,Ht,!1)}function Zu(e,t,a){var l=ke;ke|=2;var c=ym(),f=bm();($e!==e||je!==t)&&(sl=null,Or(e,t)),t=!1;var v=Je;e:do try{if(De!==0&&Se!==null){var x=Se,j=Bt;switch(De){case 8:Ku(),v=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(t=!0);var L=De;if(De=0,Bt=null,Ar(e,x,j,L),a&&Sr){v=0;break e}break;default:L=De,De=0,Bt=null,Ar(e,x,j,L)}}Hy(),v=Je;break}catch(q){pm(e,q)}while(!0);return t&&e.shellSuspendCounter++,Sn=Na=null,ke=l,B.H=c,B.A=f,Se===null&&($e=null,je=0,Ai()),v}function Hy(){for(;Se!==null;)wm(Se)}function $y(e,t){var a=ke;ke|=2;var l=ym(),c=bm();$e!==e||je!==t?(sl=null,rl=pt()+500,Or(e,t)):Sr=Xr(e,t);e:do try{if(De!==0&&Se!==null){t=Se;var f=Bt;t:switch(De){case 1:De=0,Bt=null,Ar(e,t,f,1);break;case 2:case 9:if(Nf(f)){De=0,Bt=null,_m(t);break}t=function(){De!==2&&De!==9||$e!==e||(De=7),mn(e)},f.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Nf(f)?(De=0,Bt=null,_m(t)):(De=0,Bt=null,Ar(e,t,f,7));break;case 5:var v=null;switch(Se.tag){case 26:v=Se.memoizedState;case 5:case 27:var x=Se;if(v?i0(v):x.stateNode.complete){De=0,Bt=null;var j=x.sibling;if(j!==null)Se=j;else{var L=x.return;L!==null?(Se=L,ol(L)):Se=null}break t}}De=0,Bt=null,Ar(e,t,f,5);break;case 6:De=0,Bt=null,Ar(e,t,f,6);break;case 8:Ku(),Je=6;break e;default:throw Error(i(462))}}qy();break}catch(q){pm(e,q)}while(!0);return Sn=Na=null,B.H=l,B.A=c,ke=a,Se!==null?0:($e=null,je=0,Ai(),Je)}function qy(){for(;Se!==null&&!so();)wm(Se)}function wm(e){var t=Vh(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,t===null?ol(e):Se=t}function _m(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Bh(a,t,t.pendingProps,t.type,void 0,je);break;case 11:t=Bh(a,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:uu(t);default:Ph(a,t),t=Se=bf(t,Mn),t=Vh(a,t,Mn)}e.memoizedProps=e.pendingProps,t===null?ol(e):Se=t}function Ar(e,t,a,l){Sn=Na=null,uu(t),pr=null,ms=0;var c=t.return;try{if(Ry(e,c,t,a,je)){Je=1,Ji(e,Zt(a,e.current)),Se=null;return}}catch(f){if(c!==null)throw Se=c,f;Je=1,Ji(e,Zt(a,e.current)),Se=null;return}t.flags&32768?(Re||l===1?e=!0:Sr||(je&536870912)!==0?e=!1:(ea=e=!0,(l===2||l===9||l===3||l===6)&&(l=Lt.current,l!==null&&l.tag===13&&(l.flags|=16384))),xm(t,e)):ol(t)}function ol(e){var t=e;do{if((t.flags&32768)!==0){xm(t,ea);return}e=t.return;var a=ky(t.alternate,t,Mn);if(a!==null){Se=a;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Je===0&&(Je=5)}function xm(e,t){do{var a=My(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);Je=6,Se=null}function Sm(e,t,a,l,c,f,v,x,j){e.cancelPendingCommit=null;do ul();while(rt!==0);if((ke&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=Lo,wv(e,a,f,v,x,j),e===$e&&(Se=$e=null,je=0),jr=t,aa=e,Dn=a,Vu=f,Yu=c,fm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Yy(Za,function(){return Tm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,c=Y.p,Y.p=2,v=ke,ke|=4;try{Dy(e,t,a)}finally{ke=v,Y.p=c,B.T=l}}rt=1,Em(),jm(),Om()}}function Em(){if(rt===1){rt=0;var e=aa,t=jr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=Y.p;Y.p=2;var c=ke;ke|=4;try{rm(t,e);var f=ic,v=cf(e.containerInfo),x=f.focusedElem,j=f.selectionRange;if(v!==x&&x&&x.ownerDocument&&uf(x.ownerDocument.documentElement,x)){if(j!==null&&Co(x)){var L=j.start,q=j.end;if(q===void 0&&(q=L),"selectionStart"in x)x.selectionStart=L,x.selectionEnd=Math.min(q,x.value.length);else{var V=x.ownerDocument||document,z=V&&V.defaultView||window;if(z.getSelection){var H=z.getSelection(),ee=x.textContent.length,fe=Math.min(j.start,ee),He=j.end===void 0?fe:Math.min(j.end,ee);!H.extend&&fe>He&&(v=He,He=fe,fe=v);var k=of(x,fe),T=of(x,He);if(k&&T&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==T.node||H.focusOffset!==T.offset)){var U=V.createRange();U.setStart(k.node,k.offset),H.removeAllRanges(),fe>He?(H.addRange(U),H.extend(T.node,T.offset)):(U.setEnd(T.node,T.offset),H.addRange(U))}}}}for(V=[],H=x;H=H.parentNode;)H.nodeType===1&&V.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<V.length;x++){var G=V[x];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}_l=!!sc,ic=sc=null}finally{ke=c,Y.p=l,B.T=a}}e.current=t,rt=2}}function jm(){if(rt===2){rt=0;var e=aa,t=jr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=Y.p;Y.p=2;var c=ke;ke|=4;try{Wh(e,t.alternate,t)}finally{ke=c,Y.p=l,B.T=a}}rt=3}}function Om(){if(rt===4||rt===3){rt=0,io();var e=aa,t=jr,a=Dn,l=fm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?rt=5:(rt=0,jr=aa=null,Am(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(na=null),fo(a),t=t.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(_a,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=B.T,c=Y.p,Y.p=2,B.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var x=l[v];f(x.value,{componentStack:x.stack})}}finally{B.T=t,Y.p=c}}(Dn&3)!==0&&ul(),mn(e),c=e.pendingLanes,(a&261930)!==0&&(c&42)!==0?e===Pu?Cs++:(Cs=0,Pu=e):Cs=0,ks(0)}}function Am(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fs(t)))}function ul(){return Em(),jm(),Om(),Tm()}function Tm(){if(rt!==5)return!1;var e=aa,t=Vu;Vu=0;var a=fo(Dn),l=B.T,c=Y.p;try{Y.p=32>a?32:a,B.T=null,a=Yu,Yu=null;var f=aa,v=Dn;if(rt=0,jr=aa=null,Dn=0,(ke&6)!==0)throw Error(i(331));var x=ke;if(ke|=4,um(f.current),im(f,f.current,v,a),ke=x,ks(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(_a,f)}catch{}return!0}finally{Y.p=c,B.T=l,Am(e,t)}}function Rm(e,t,a){t=Zt(a,t),t=Eu(e.stateNode,t,2),e=Qn(e,t,2),e!==null&&(Fr(e,2),mn(e))}function Ue(e,t,a){if(e.tag===3)Rm(e,e,a);else for(;t!==null;){if(t.tag===3){Rm(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(na===null||!na.has(l))){e=Zt(a,e),a=Nh(2),l=Qn(t,a,2),l!==null&&(Ch(a,l,t,e),Fr(l,2),mn(l));break}}t=t.return}}function Ju(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new zy;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(a)||(qu=!0,c.add(a),e=Iy.bind(null,e,t,a),t.then(e,e))}function Iy(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,$e===e&&(je&a)===a&&(Je===4||Je===3&&(je&62914560)===je&&300>pt()-al?(ke&2)===0&&Or(e,0):Iu|=a,Er===je&&(Er=0)),mn(e)}function Nm(e,t){t===0&&(t=Sd()),e=Aa(e,t),e!==null&&(Fr(e,t),mn(e))}function Gy(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Nm(e,a)}function Vy(e,t){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(t),Nm(e,a)}function Yy(e,t){return xt(e,t)}var cl=null,Tr=null,Qu=!1,dl=!1,Xu=!1,sa=0;function mn(e){e!==Tr&&e.next===null&&(Tr===null?cl=Tr=e:Tr=Tr.next=e),dl=!0,Qu||(Qu=!0,Ky())}function ks(e,t){if(!Xu&&dl){Xu=!0;do for(var a=!1,l=cl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,x=l.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=c&~(v&~x),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Dm(l,f))}else f=je,f=gi(l,l===$e?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Xr(l,f)||(a=!0,Dm(l,f));l=l.next}while(a);Xu=!1}}function Py(){Cm()}function Cm(){dl=Qu=!1;var e=0;sa!==0&&ab()&&(e=sa);for(var t=pt(),a=null,l=cl;l!==null;){var c=l.next,f=km(l,t);f===0?(l.next=null,a===null?cl=c:a.next=c,c===null&&(Tr=a)):(a=l,(e!==0||(f&3)!==0)&&(dl=!0)),l=c}rt!==0&&rt!==5||ks(e),sa!==0&&(sa=0)}function km(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-Mt(f),x=1<<v,j=c[v];j===-1?((x&a)===0||(x&l)!==0)&&(c[v]=bv(x,t)):j<=t&&(e.expiredLanes|=x),f&=~x}if(t=$e,a=je,a=gi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Kr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xr(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&Kr(l),fo(a)){case 2:case 8:a=ci;break;case 32:a=Za;break;case 268435456:a=Jr;break;default:a=Za}return l=Mm.bind(null,e),a=xt(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&Kr(l),e.callbackPriority=2,e.callbackNode=null,2}function Mm(e,t){if(rt!==0&&rt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ul()&&e.callbackNode!==a)return null;var l=je;return l=gi(e,e===$e?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(mm(e,l,t),km(e,pt()),e.callbackNode!=null&&e.callbackNode===a?Mm.bind(null,e):null)}function Dm(e,t){if(ul())return null;mm(e,t,!0)}function Ky(){sb(function(){(ke&6)!==0?xt(Zr,Py):Cm()})}function Fu(){if(sa===0){var e=hr;e===0&&(e=fi,fi<<=1,(fi&261888)===0&&(fi=256)),sa=e}return sa}function Um(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:bi(""+e)}function Lm(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Zy(e,t,a,l,c){if(t==="submit"&&a&&a.stateNode===c){var f=Um((c[St]||null).action),v=l.submitter;v&&(t=(t=v[St]||null)?Um(t.formAction):v.getAttribute("formAction"),t!==null&&(f=t,v=null));var x=new Si("action","action",null,l,c);e.push({event:x,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(sa!==0){var j=v?Lm(c,v):new FormData(c);yu(a,{pending:!0,data:j,method:c.method,action:f},null,j)}}else typeof f=="function"&&(x.preventDefault(),j=v?Lm(c,v):new FormData(c),yu(a,{pending:!0,data:j,method:c.method,action:f},f,j))},currentTarget:c}]})}}for(var Wu=0;Wu<Uo.length;Wu++){var ec=Uo[Wu],Jy=ec.toLowerCase(),Qy=ec[0].toUpperCase()+ec.slice(1);nn(Jy,"on"+Qy)}nn(hf,"onAnimationEnd"),nn(mf,"onAnimationIteration"),nn(gf,"onAnimationStart"),nn("dblclick","onDoubleClick"),nn("focusin","onFocus"),nn("focusout","onBlur"),nn(fy,"onTransitionRun"),nn(hy,"onTransitionStart"),nn(my,"onTransitionCancel"),nn(pf,"onTransitionEnd"),Wa("onMouseEnter",["mouseout","mouseover"]),Wa("onMouseLeave",["mouseout","mouseover"]),Wa("onPointerEnter",["pointerout","pointerover"]),Wa("onPointerLeave",["pointerout","pointerover"]),Sa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ms));function zm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;e:{var f=void 0;if(t)for(var v=l.length-1;0<=v;v--){var x=l[v],j=x.instance,L=x.currentTarget;if(x=x.listener,j!==f&&c.isPropagationStopped())break e;f=x,c.currentTarget=L;try{f(c)}catch(q){Oi(q)}c.currentTarget=null,f=j}else for(v=0;v<l.length;v++){if(x=l[v],j=x.instance,L=x.currentTarget,x=x.listener,j!==f&&c.isPropagationStopped())break e;f=x,c.currentTarget=L;try{f(c)}catch(q){Oi(q)}c.currentTarget=null,f=j}}}}function Ee(e,t){var a=t[ho];a===void 0&&(a=t[ho]=new Set);var l=e+"__bubble";a.has(l)||(Bm(t,e,2,!1),a.add(l))}function tc(e,t,a){var l=0;t&&(l|=4),Bm(a,e,l,t)}var fl="_reactListening"+Math.random().toString(36).slice(2);function nc(e){if(!e[fl]){e[fl]=!0,Nd.forEach(function(a){a!=="selectionchange"&&(Xy.has(a)||tc(a,!1,e),tc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[fl]||(t[fl]=!0,tc("selectionchange",!1,t))}}function Bm(e,t,a,l){switch(h0(t)){case 2:var c=jb;break;case 8:c=Ob;break;default:c=vc}a=c.bind(null,t,a,e),c=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function ac(e,t,a,l,c){var f=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var x=l.stateNode.containerInfo;if(x===c)break;if(v===4)for(v=l.return;v!==null;){var j=v.tag;if((j===3||j===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;x!==null;){if(v=Qa(x),v===null)return;if(j=v.tag,j===5||j===6||j===26||j===27){l=f=v;continue e}x=x.parentNode}}l=l.return}Id(function(){var L=f,q=wo(a),V=[];e:{var z=vf.get(e);if(z!==void 0){var H=Si,ee=e;switch(e){case"keypress":if(_i(a)===0)break e;case"keydown":case"keyup":H=Vv;break;case"focusin":ee="focus",H=Oo;break;case"focusout":ee="blur",H=Oo;break;case"beforeblur":case"afterblur":H=Oo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Kv;break;case hf:case mf:case gf:H=Uv;break;case pf:H=Jv;break;case"scroll":case"scrollend":H=Nv;break;case"wheel":H=Xv;break;case"copy":case"cut":case"paste":H=zv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Kd;break;case"toggle":case"beforetoggle":H=Wv}var fe=(t&4)!==0,He=!fe&&(e==="scroll"||e==="scrollend"),k=fe?z!==null?z+"Capture":null:z;fe=[];for(var T=L,U;T!==null;){var G=T;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||k===null||(G=ts(T,k),G!=null&&fe.push(Ds(T,G,U))),He)break;T=T.return}0<fe.length&&(z=new H(z,ee,null,a,q),V.push({event:z,listeners:fe}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&a!==bo&&(ee=a.relatedTarget||a.fromElement)&&(Qa(ee)||ee[Ja]))break e;if((H||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ee=a.relatedTarget||a.toElement,H=L,ee=ee?Qa(ee):null,ee!==null&&(He=u(ee),fe=ee.tag,ee!==He||fe!==5&&fe!==27&&fe!==6)&&(ee=null)):(H=null,ee=L),H!==ee)){if(fe=Yd,G="onMouseLeave",k="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(fe=Kd,G="onPointerLeave",k="onPointerEnter",T="pointer"),He=H==null?z:es(H),U=ee==null?z:es(ee),z=new fe(G,T+"leave",H,a,q),z.target=He,z.relatedTarget=U,G=null,Qa(q)===L&&(fe=new fe(k,T+"enter",ee,a,q),fe.target=U,fe.relatedTarget=He,G=fe),He=G,H&&ee)t:{for(fe=Fy,k=H,T=ee,U=0,G=k;G;G=fe(G))U++;G=0;for(var ue=T;ue;ue=fe(ue))G++;for(;0<U-G;)k=fe(k),U--;for(;0<G-U;)T=fe(T),G--;for(;U--;){if(k===T||T!==null&&k===T.alternate){fe=k;break t}k=fe(k),T=fe(T)}fe=null}else fe=null;H!==null&&Hm(V,z,H,fe,!1),ee!==null&&He!==null&&Hm(V,He,ee,fe,!0)}}e:{if(z=L?es(L):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ne=tf;else if(Wd(z))if(nf)Ne=uy;else{Ne=ly;var re=iy}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&yo(L.elementType)&&(Ne=tf):Ne=oy;if(Ne&&(Ne=Ne(e,L))){ef(V,Ne,a,q);break e}re&&re(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&vo(z,"number",z.value)}switch(re=L?es(L):window,e){case"focusin":(Wd(re)||re.contentEditable==="true")&&(sr=re,ko=L,us=null);break;case"focusout":us=ko=sr=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,df(V,a,q);break;case"selectionchange":if(dy)break;case"keydown":case"keyup":df(V,a,q)}var we;if(To)e:{switch(e){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else rr?Xd(e,a)&&(Oe="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Zd&&a.locale!=="ko"&&(rr||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&rr&&(we=Gd()):(Gn=q,So="value"in Gn?Gn.value:Gn.textContent,rr=!0)),re=hl(L,Oe),0<re.length&&(Oe=new Pd(Oe,e,null,a,q),V.push({event:Oe,listeners:re}),we?Oe.data=we:(we=Fd(a),we!==null&&(Oe.data=we)))),(we=ty?ny(e,a):ay(e,a))&&(Oe=hl(L,"onBeforeInput"),0<Oe.length&&(re=new Pd("onBeforeInput","beforeinput",null,a,q),V.push({event:re,listeners:Oe}),re.data=we)),Zy(V,e,L,a,q)}zm(V,t)})}function Ds(e,t,a){return{instance:e,listener:t,currentTarget:a}}function hl(e,t){for(var a=t+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=ts(e,a),c!=null&&l.unshift(Ds(e,c,f)),c=ts(e,t),c!=null&&l.push(Ds(e,c,f))),e.tag===3)return l;e=e.return}return[]}function Fy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hm(e,t,a,l,c){for(var f=t._reactName,v=[];a!==null&&a!==l;){var x=a,j=x.alternate,L=x.stateNode;if(x=x.tag,j!==null&&j===l)break;x!==5&&x!==26&&x!==27||L===null||(j=L,c?(L=ts(a,f),L!=null&&v.unshift(Ds(a,L,j))):c||(L=ts(a,f),L!=null&&v.push(Ds(a,L,j)))),a=a.return}v.length!==0&&e.push({event:t,listeners:v})}var Wy=/\r\n?/g,eb=/\u0000|\uFFFD/g;function $m(e){return(typeof e=="string"?e:""+e).replace(Wy,`
`).replace(eb,"")}function qm(e,t){return t=$m(t),$m(e)===t}function Be(e,t,a,l,c,f){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||tr(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&tr(e,""+l);break;case"className":vi(e,"class",l);break;case"tabIndex":vi(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vi(e,a,l);break;case"style":$d(e,l,f);break;case"data":if(t!=="object"){vi(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=bi(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Be(e,t,"name",c.name,c,null),Be(e,t,"formEncType",c.formEncType,c,null),Be(e,t,"formMethod",c.formMethod,c,null),Be(e,t,"formTarget",c.formTarget,c,null)):(Be(e,t,"encType",c.encType,c,null),Be(e,t,"method",c.method,c,null),Be(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=bi(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=bn);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=bi(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Ee("beforetoggle",e),Ee("toggle",e),pi(e,"popover",l);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":pi(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tv.get(a)||a,pi(e,a,l))}}function rc(e,t,a,l,c,f){switch(a){case"style":$d(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof l=="string"?tr(e,l):(typeof l=="number"||typeof l=="bigint")&&tr(e,""+l);break;case"onScroll":l!=null&&Ee("scroll",e);break;case"onScrollEnd":l!=null&&Ee("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cd.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),f=e[St]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,c);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):pi(e,a,l)}}}function mt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",e),Ee("load",e);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Be(e,t,f,v,a,null)}}c&&Be(e,t,"srcSet",a.srcSet,a,null),l&&Be(e,t,"src",a.src,a,null);return;case"input":Ee("invalid",e);var x=f=v=c=null,j=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var q=a[l];if(q!=null)switch(l){case"name":c=q;break;case"type":v=q;break;case"checked":j=q;break;case"defaultChecked":L=q;break;case"value":f=q;break;case"defaultValue":x=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,t));break;default:Be(e,t,l,q,a,null)}}Ld(e,f,x,j,L,v,c,!1);return;case"select":Ee("invalid",e),l=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(x=a[c],x!=null))switch(c){case"value":f=x;break;case"defaultValue":v=x;break;case"multiple":l=x;default:Be(e,t,c,x,a,null)}t=f,a=v,e.multiple=!!l,t!=null?er(e,!!l,t,!1):a!=null&&er(e,!!l,a,!0);return;case"textarea":Ee("invalid",e),f=c=l=null;for(v in a)if(a.hasOwnProperty(v)&&(x=a[v],x!=null))switch(v){case"value":l=x;break;case"defaultValue":c=x;break;case"children":f=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(i(91));break;default:Be(e,t,v,x,a,null)}Bd(e,l,c,f);return;case"option":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Be(e,t,j,l,a,null)}return;case"dialog":Ee("beforetoggle",e),Ee("toggle",e),Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":Ee("load",e);break;case"video":case"audio":for(l=0;l<Ms.length;l++)Ee(Ms[l],e);break;case"image":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"embed":case"source":case"link":Ee("error",e),Ee("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Be(e,t,L,l,a,null)}return;default:if(yo(t)){for(q in a)a.hasOwnProperty(q)&&(l=a[q],l!==void 0&&rc(e,t,q,l,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(l=a[x],l!=null&&Be(e,t,x,l,a,null))}function tb(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,x=null,j=null,L=null,q=null;for(H in a){var V=a[H];if(a.hasOwnProperty(H)&&V!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":j=V;default:l.hasOwnProperty(H)||Be(e,t,H,null,l,V)}}for(var z in l){var H=l[z];if(V=a[z],l.hasOwnProperty(z)&&(H!=null||V!=null))switch(z){case"type":f=H;break;case"name":c=H;break;case"checked":L=H;break;case"defaultChecked":q=H;break;case"value":v=H;break;case"defaultValue":x=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:H!==V&&Be(e,t,z,H,l,V)}}po(e,v,x,j,L,q,f,c);return;case"select":H=v=x=z=null;for(f in a)if(j=a[f],a.hasOwnProperty(f)&&j!=null)switch(f){case"value":break;case"multiple":H=j;default:l.hasOwnProperty(f)||Be(e,t,f,null,l,j)}for(c in l)if(f=l[c],j=a[c],l.hasOwnProperty(c)&&(f!=null||j!=null))switch(c){case"value":z=f;break;case"defaultValue":x=f;break;case"multiple":v=f;default:f!==j&&Be(e,t,c,f,l,j)}t=x,a=v,l=H,z!=null?er(e,!!a,z,!1):!!l!=!!a&&(t!=null?er(e,!!a,t,!0):er(e,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(x in a)if(c=a[x],a.hasOwnProperty(x)&&c!=null&&!l.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Be(e,t,x,null,l,c)}for(v in l)if(c=l[v],f=a[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":z=c;break;case"defaultValue":H=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==f&&Be(e,t,v,c,l,f)}zd(e,z,H);return;case"option":for(var ee in a)if(z=a[ee],a.hasOwnProperty(ee)&&z!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Be(e,t,ee,null,l,z)}for(j in l)if(z=l[j],H=a[j],l.hasOwnProperty(j)&&z!==H&&(z!=null||H!=null))switch(j){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Be(e,t,j,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)z=a[fe],a.hasOwnProperty(fe)&&z!=null&&!l.hasOwnProperty(fe)&&Be(e,t,fe,null,l,z);for(L in l)if(z=l[L],H=a[L],l.hasOwnProperty(L)&&z!==H&&(z!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(137,t));break;default:Be(e,t,L,z,l,H)}return;default:if(yo(t)){for(var He in a)z=a[He],a.hasOwnProperty(He)&&z!==void 0&&!l.hasOwnProperty(He)&&rc(e,t,He,void 0,l,z);for(q in l)z=l[q],H=a[q],!l.hasOwnProperty(q)||z===H||z===void 0&&H===void 0||rc(e,t,q,z,l,H);return}}for(var k in a)z=a[k],a.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&Be(e,t,k,null,l,z);for(V in l)z=l[V],H=a[V],!l.hasOwnProperty(V)||z===H||z==null&&H==null||Be(e,t,V,z,l,H)}function Im(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],f=c.transferSize,v=c.initiatorType,x=c.duration;if(f&&x&&Im(v)){for(v=0,x=c.responseEnd,l+=1;l<a.length;l++){var j=a[l],L=j.startTime;if(L>x)break;var q=j.transferSize,V=j.initiatorType;q&&Im(V)&&(j=j.responseEnd,v+=q*(j<x?1:(x-L)/(j-L)))}if(--l,t+=8*(f+v)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sc=null,ic=null;function ml(e){return e.nodeType===9?e:e.ownerDocument}function Gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function lc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oc=null;function ab(){var e=window.event;return e&&e.type==="popstate"?e===oc?!1:(oc=e,!0):(oc=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,rb=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,sb=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(ib)}:Ym;function ib(e){setTimeout(function(){throw e})}function ia(e){return e==="head"}function Km(e,t){var a=t,l=0;do{var c=a.nextSibling;if(e.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(c),kr(t);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Us(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Us(a);for(var f=a.firstChild;f;){var v=f.nextSibling,x=f.nodeName;f[Wr]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=v}}else a==="body"&&Us(e.ownerDocument.body);a=c}while(a);kr(t)}function Zm(e,t){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function uc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":uc(a),mo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function lb(e,t,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Wr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Wt(e.nextSibling),e===null)break}return null}function ob(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Wt(e.nextSibling),e===null))return null;return e}function Jm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wt(e.nextSibling),e===null))return null;return e}function cc(e){return e.data==="$?"||e.data==="$~"}function dc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ub(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var fc=null;function Qm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Wt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Xm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Fm(e,t,a){switch(t=ml(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Us(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);mo(e)}var en=new Map,Wm=new Set;function gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Un=Y.d;Y.d={f:cb,r:db,D:fb,C:hb,L:mb,m:gb,X:vb,S:pb,M:yb};function cb(){var e=Un.f(),t=il();return e||t}function db(e){var t=Xa(e);t!==null&&t.tag===5&&t.type==="form"?ph(t):Un.r(e)}var Rr=typeof document>"u"?null:document;function e0(e,t,a){var l=Rr;if(l&&typeof t=="string"&&t){var c=Pt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Wm.has(c)||(Wm.add(c),e={rel:e,crossOrigin:a,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),mt(t,"link",e),ot(t),l.head.appendChild(t)))}}function fb(e){Un.D(e),e0("dns-prefetch",e,null)}function hb(e,t){Un.C(e,t),e0("preconnect",e,t)}function mb(e,t,a){Un.L(e,t,a);var l=Rr;if(l&&e&&t){var c='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Pt(a.imageSizes)+'"]')):c+='[href="'+Pt(e)+'"]';var f=c;switch(t){case"style":f=Nr(e);break;case"script":f=Cr(e)}en.has(f)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),en.set(f,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Ls(f))||t==="script"&&l.querySelector(zs(f))||(t=l.createElement("link"),mt(t,"link",e),ot(t),l.head.appendChild(t)))}}function gb(e,t){Un.m(e,t);var a=Rr;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Pt(l)+'"][href="'+Pt(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Cr(e)}if(!en.has(f)&&(e=_({rel:"modulepreload",href:e},t),en.set(f,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zs(f)))return}l=a.createElement("link"),mt(l,"link",e),ot(l),a.head.appendChild(l)}}}function pb(e,t,a){Un.S(e,t,a);var l=Rr;if(l&&e){var c=Fa(l).hoistableStyles,f=Nr(e);t=t||"default";var v=c.get(f);if(!v){var x={loading:0,preload:null};if(v=l.querySelector(Ls(f)))x.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=en.get(f))&&hc(e,a);var j=v=l.createElement("link");ot(j),mt(j,"link",e),j._p=new Promise(function(L,q){j.onload=L,j.onerror=q}),j.addEventListener("load",function(){x.loading|=1}),j.addEventListener("error",function(){x.loading|=2}),x.loading|=4,pl(v,t,l)}v={type:"stylesheet",instance:v,count:1,state:x},c.set(f,v)}}}function vb(e,t){Un.X(e,t);var a=Rr;if(a&&e){var l=Fa(a).hoistableScripts,c=Cr(e),f=l.get(c);f||(f=a.querySelector(zs(c)),f||(e=_({src:e,async:!0},t),(t=en.get(c))&&mc(e,t),f=a.createElement("script"),ot(f),mt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function yb(e,t){Un.M(e,t);var a=Rr;if(a&&e){var l=Fa(a).hoistableScripts,c=Cr(e),f=l.get(c);f||(f=a.querySelector(zs(c)),f||(e=_({src:e,async:!0,type:"module"},t),(t=en.get(c))&&mc(e,t),f=a.createElement("script"),ot(f),mt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function t0(e,t,a,l){var c=(c=F.current)?gl(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Nr(a.href),a=Fa(c).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Nr(a.href);var f=Fa(c).hoistableStyles,v=f.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=c.querySelector(Ls(e)))&&!f._p&&(v.instance=f,v.state.loading=5),en.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},en.set(e,a),f||bb(c,e,a,v.state))),t&&l===null)throw Error(i(528,""));return v}if(t&&l!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Cr(a),a=Fa(c).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Nr(e){return'href="'+Pt(e)+'"'}function Ls(e){return'link[rel="stylesheet"]['+e+"]"}function n0(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function bb(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),mt(t,"link",a),ot(t),e.head.appendChild(t))}function Cr(e){return'[src="'+Pt(e)+'"]'}function zs(e){return"script[async]"+e}function a0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+Pt(a.href)+'"]');if(l)return t.instance=l,ot(l),l;var c=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ot(l),mt(l,"style",c),pl(l,a.precedence,e),t.instance=l;case"stylesheet":c=Nr(a.href);var f=e.querySelector(Ls(c));if(f)return t.state.loading|=4,t.instance=f,ot(f),f;l=n0(a),(c=en.get(c))&&hc(l,c),f=(e.ownerDocument||e).createElement("link"),ot(f);var v=f;return v._p=new Promise(function(x,j){v.onload=x,v.onerror=j}),mt(f,"link",l),t.state.loading|=4,pl(f,a.precedence,e),t.instance=f;case"script":return f=Cr(a.src),(c=e.querySelector(zs(f)))?(t.instance=c,ot(c),c):(l=a,(c=en.get(f))&&(l=_({},a),mc(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ot(c),mt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,pl(l,a.precedence,e));return t.instance}function pl(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var x=l[v];if(x.dataset.precedence===t)f=x;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function hc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var vl=null;function r0(e,t,a){if(vl===null){var l=new Map,c=vl=new Map;c.set(a,l)}else c=vl,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Wr]||f[ct]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(t)||"";v=e+v;var x=l.get(v);x?x.push(f):l.set(v,[f])}}return l}function s0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function wb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function i0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function _b(e,t,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Nr(l.href),f=t.querySelector(Ls(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=yl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=f,ot(f);return}f=t.ownerDocument||t,l=n0(l),(c=en.get(c))&&hc(l,c),f=f.createElement("link"),ot(f);var v=f;v._p=new Promise(function(x,j){v.onload=x,v.onerror=j}),mt(f,"link",l),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=yl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var gc=0;function xb(e,t){return e.stylesheets&&e.count===0&&wl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&wl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&gc===0&&(gc=62500*nb());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>gc?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function yl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bl=null;function wl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bl=new Map,t.forEach(Sb,e),bl=null,yl.call(e))}function Sb(e,t){if(!(t.state.loading&4)){var a=bl.get(e);if(a)var l=a.get(null);else{a=new Map,bl.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}c=t.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,c),a.set(v,c),this.count++,l=yl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Bs={$$typeof:C,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Eb(e,t,a,l,c,f,v,x,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function l0(e,t,a,l,c,f,v,x,j,L,q,V){return e=new Eb(e,t,a,v,j,L,q,V,x),t=1,f===!0&&(t|=24),f=Ut(3,null,null,t),e.current=f,f.stateNode=e,t=Zo(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:t},Fo(f),e}function o0(e){return e?(e=or,e):or}function u0(e,t,a,l,c,f){c=o0(c),l.context===null?l.context=c:l.pendingContext=c,l=Jn(t),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Qn(e,l,t),a!==null&&(Rt(a,e,t),ps(a,e,t))}function c0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function pc(e,t){c0(e,t),(e=e.alternate)&&c0(e,t)}function d0(e){if(e.tag===13||e.tag===31){var t=Aa(e,67108864);t!==null&&Rt(t,e,67108864),pc(e,67108864)}}function f0(e){if(e.tag===13||e.tag===31){var t=$t();t=co(t);var a=Aa(e,t);a!==null&&Rt(a,e,t),pc(e,t)}}var _l=!0;function jb(e,t,a,l){var c=B.T;B.T=null;var f=Y.p;try{Y.p=2,vc(e,t,a,l)}finally{Y.p=f,B.T=c}}function Ob(e,t,a,l){var c=B.T;B.T=null;var f=Y.p;try{Y.p=8,vc(e,t,a,l)}finally{Y.p=f,B.T=c}}function vc(e,t,a,l){if(_l){var c=yc(l);if(c===null)ac(e,t,l,xl,a),m0(e,l);else if(Tb(c,e,t,a,l))l.stopPropagation();else if(m0(e,l),t&4&&-1<Ab.indexOf(e)){for(;c!==null;){var f=Xa(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=xa(f.pendingLanes);if(v!==0){var x=f;for(x.pendingLanes|=2,x.entangledLanes|=2;v;){var j=1<<31-Mt(v);x.entanglements[1]|=j,v&=~j}mn(f),(ke&6)===0&&(rl=pt()+500,ks(0))}}break;case 31:case 13:x=Aa(f,2),x!==null&&Rt(x,f,2),il(),pc(f,2)}if(f=yc(l),f===null&&ac(e,t,l,xl,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else ac(e,t,l,null,a)}}function yc(e){return e=wo(e),bc(e)}var xl=null;function bc(e){if(xl=null,e=Qa(e),e!==null){var t=u(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=d(t),e!==null)return e;e=null}else if(a===31){if(e=m(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xl=e,null}function h0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lo()){case Zr:return 2;case ci:return 8;case Za:case di:return 32;case Jr:return 268435456;default:return 32}default:return 32}}var wc=!1,la=null,oa=null,ua=null,Hs=new Map,$s=new Map,ca=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m0(e,t){switch(e){case"focusin":case"focusout":la=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":ua=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$s.delete(t.pointerId)}}function qs(e,t,a,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Xa(t),t!==null&&d0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Tb(e,t,a,l,c){switch(t){case"focusin":return la=qs(la,e,t,a,l,c),!0;case"dragenter":return oa=qs(oa,e,t,a,l,c),!0;case"mouseover":return ua=qs(ua,e,t,a,l,c),!0;case"pointerover":var f=c.pointerId;return Hs.set(f,qs(Hs.get(f)||null,e,t,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,$s.set(f,qs($s.get(f)||null,e,t,a,l,c)),!0}return!1}function g0(e){var t=Qa(e.target);if(t!==null){var a=u(t);if(a!==null){if(t=a.tag,t===13){if(t=d(a),t!==null){e.blockedOn=t,Td(e.priority,function(){f0(a)});return}}else if(t===31){if(t=m(a),t!==null){e.blockedOn=t,Td(e.priority,function(){f0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=yc(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);bo=l,a.target.dispatchEvent(l),bo=null}else return t=Xa(a),t!==null&&d0(t),e.blockedOn=a,!1;t.shift()}return!0}function p0(e,t,a){Sl(e)&&a.delete(t)}function Rb(){wc=!1,la!==null&&Sl(la)&&(la=null),oa!==null&&Sl(oa)&&(oa=null),ua!==null&&Sl(ua)&&(ua=null),Hs.forEach(p0),$s.forEach(p0)}function El(e,t){e.blockedOn===t&&(e.blockedOn=null,wc||(wc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Rb)))}var jl=null;function v0(e){jl!==e&&(jl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){jl===e&&(jl=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(bc(l||a)===null)continue;break}var f=Xa(a);f!==null&&(e.splice(t,3),t-=3,yu(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function kr(e){function t(j){return El(j,e)}la!==null&&El(la,e),oa!==null&&El(oa,e),ua!==null&&El(ua,e),Hs.forEach(t),$s.forEach(t);for(var a=0;a<ca.length;a++){var l=ca[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<ca.length&&(a=ca[0],a.blockedOn===null);)g0(a),a.blockedOn===null&&ca.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],v=c[St]||null;if(typeof f=="function")v||v0(a);else if(v){var x=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[St]||null)x=v.formAction;else if(bc(c)!==null)continue}else x=v.action;typeof x=="function"?a[l+1]=x:(a.splice(l,3),l-=3),v0(a)}}}function y0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(v){return c=v})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function _c(e){this._internalRoot=e}Ol.prototype.render=_c.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,l=$t();u0(a,l,e,t,null,null)},Ol.prototype.unmount=_c.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;u0(e.current,2,null,e,null,null),il(),t[Ja]=null}};function Ol(e){this._internalRoot=e}Ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ad();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ca.length&&t!==0&&t<ca[a].priority;a++);ca.splice(a,0,e),a===0&&g0(e)}};var b0=n.version;if(b0!=="19.2.0")throw Error(i(527,b0,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var Nb={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{_a=Al.inject(Nb),kt=Al}catch{}}return Gs.createRoot=function(e,t){if(!o(e))throw Error(i(299));var a=!1,l="",c=Oh,f=Ah,v=Th;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=l0(e,1,!1,null,null,a,l,null,c,f,v,y0),e[Ja]=t.current,nc(e),new _c(t)},Gs.hydrateRoot=function(e,t,a){if(!o(e))throw Error(i(299));var l=!1,c="",f=Oh,v=Ah,x=Th,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(j=a.formState)),t=l0(e,1,!0,t,a??null,l,c,j,f,v,x,y0),t.context=o0(null),a=t.current,l=$t(),l=co(l),c=Jn(l),c.callback=null,Qn(a,c,l),a=l,t.current.lanes=a,Fr(t,a),mn(t),e[Ja]=t.current,nc(e),new Ol(t)},Gs.version="19.2.0",Gs}var R0;function Ib(){if(R0)return Ec.exports;R0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ec.exports=qb(),Ec.exports}var Gb=Ib();const Vb=Bg(Gb);var N0="popstate";function Yb(s={}){function n(i,o){let{pathname:u,search:d,hash:m}=i.location;return $c("",{pathname:u,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(i,o){return typeof o=="string"?o:Qs(o)}return Kb(n,r,null,s)}function Ke(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function un(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function Pb(){return Math.random().toString(36).substring(2,10)}function C0(s,n){return{usr:s.state,key:s.key,idx:n}}function $c(s,n,r=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof n=="string"?Gr(n):n,state:r,key:n&&n.key||i||Pb()}}function Qs({pathname:s="/",search:n="",hash:r=""}){return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(s+=r.charAt(0)==="#"?r:"#"+r),s}function Gr(s){let n={};if(s){let r=s.indexOf("#");r>=0&&(n.hash=s.substring(r),s=s.substring(0,r));let i=s.indexOf("?");i>=0&&(n.search=s.substring(i),s=s.substring(0,i)),s&&(n.pathname=s)}return n}function Kb(s,n,r,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,d=o.history,m="POP",h=null,g=y();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function y(){return(d.state||{idx:null}).idx}function _(){m="POP";let A=y(),$=A==null?null:A-g;g=A,h&&h({action:m,location:R.location,delta:$})}function S(A,$){m="PUSH";let N=$c(R.location,A,$);g=y()+1;let C=C0(N,g),K=R.createHref(N);try{d.pushState(C,"",K)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(K)}u&&h&&h({action:m,location:R.location,delta:1})}function E(A,$){m="REPLACE";let N=$c(R.location,A,$);g=y();let C=C0(N,g),K=R.createHref(N);d.replaceState(C,"",K),u&&h&&h({action:m,location:R.location,delta:0})}function O(A){return Zb(A)}let R={get action(){return m},get location(){return s(o,d)},listen(A){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(N0,_),h=A,()=>{o.removeEventListener(N0,_),h=null}},createHref(A){return n(o,A)},createURL:O,encodeLocation(A){let $=O(A);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:E,go(A){return d.go(A)}};return R}function Zb(s,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(r,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Qs(s);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=r+i),new URL(i,r)}function Hg(s,n,r="/"){return Jb(s,n,r,!1)}function Jb(s,n,r,i){let o=typeof n=="string"?Gr(n):n,u=Hn(o.pathname||"/",r);if(u==null)return null;let d=$g(s);Qb(d);let m=null;for(let h=0;m==null&&h<d.length;++h){let g=lw(u);m=sw(d[h],g,i)}return m}function $g(s,n=[],r=[],i="",o=!1){let u=(d,m,h=o,g)=>{let y={relativePath:g===void 0?d.path||"":g,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(i)&&h)return;Ke(y.relativePath.startsWith(i),`Absolute route path "${y.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(i.length)}let _=Bn([i,y.relativePath]),S=r.concat(y);d.children&&d.children.length>0&&(Ke(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),$g(d.children,n,S,_,h)),!(d.path==null&&!d.index)&&n.push({path:_,score:aw(_,d.index),routesMeta:S})};return s.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let h of qg(d.path))u(d,m,!0,h)}),n}function qg(s){let n=s.split("/");if(n.length===0)return[];let[r,...i]=n,o=r.endsWith("?"),u=r.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let d=qg(i.join("/")),m=[];return m.push(...d.map(h=>h===""?u:[u,h].join("/"))),o&&m.push(...d),m.map(h=>s.startsWith("/")&&h===""?"/":h)}function Qb(s){s.sort((n,r)=>n.score!==r.score?r.score-n.score:rw(n.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var Xb=/^:[\w-]+$/,Fb=3,Wb=2,ew=1,tw=10,nw=-2,k0=s=>s==="*";function aw(s,n){let r=s.split("/"),i=r.length;return r.some(k0)&&(i+=nw),n&&(i+=Wb),r.filter(o=>!k0(o)).reduce((o,u)=>o+(Xb.test(u)?Fb:u===""?ew:tw),i)}function rw(s,n){return s.length===n.length&&s.slice(0,-1).every((i,o)=>i===n[o])?s[s.length-1]-n[n.length-1]:0}function sw(s,n,r=!1){let{routesMeta:i}=s,o={},u="/",d=[];for(let m=0;m<i.length;++m){let h=i[m],g=m===i.length-1,y=u==="/"?n:n.slice(u.length)||"/",_=Gl({path:h.relativePath,caseSensitive:h.caseSensitive,end:g},y),S=h.route;if(!_&&g&&r&&!i[i.length-1].route.index&&(_=Gl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),d.push({params:o,pathname:Bn([u,_.pathname]),pathnameBase:fw(Bn([u,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(u=Bn([u,_.pathnameBase]))}return d}function Gl(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[r,i]=iw(s.path,s.caseSensitive,s.end),o=n.match(r);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((g,{paramName:y,isOptional:_},S)=>{if(y==="*"){let O=m[S]||"";d=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const E=m[S];return _&&!E?g[y]=void 0:g[y]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:d,pattern:s}}function iw(s,n=!1,r=!0){un(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],o="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,h)=>(i.push({paramName:m,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),o+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":s!==""&&s!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),i]}function lw(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return un(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),s}}function Hn(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,i=s.charAt(r);return i&&i!=="/"?null:s.slice(r)||"/"}var ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uw=s=>ow.test(s);function cw(s,n="/"){let{pathname:r,search:i="",hash:o=""}=typeof s=="string"?Gr(s):s,u;if(r)if(uw(r))u=r;else{if(r.includes("//")){let d=r;r=r.replace(/\/\/+/g,"/"),un(!1,`Pathnames cannot have embedded double slashes - normalizing ${d} -> ${r}`)}r.startsWith("/")?u=M0(r.substring(1),"/"):u=M0(r,n)}else u=n;return{pathname:u,search:hw(i),hash:mw(o)}}function M0(s,n){let r=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Tc(s,n,r,i){return`Cannot include a '${s}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dw(s){return s.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Ig(s){let n=dw(s);return n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase)}function Gg(s,n,r,i=!1){let o;typeof s=="string"?o=Gr(s):(o={...s},Ke(!o.pathname||!o.pathname.includes("?"),Tc("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Tc("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Tc("#","search","hash",o)));let u=s===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=r;else{let _=n.length-1;if(!i&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),_-=1;o.pathname=S.join("/")}m=_>=0?n[_]:"/"}let h=cw(o,m),g=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(g||y)&&(h.pathname+="/"),h}var Bn=s=>s.join("/").replace(/\/\/+/g,"/"),fw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),hw=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,mw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function gw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Vg=["POST","PUT","PATCH","DELETE"];new Set(Vg);var pw=["GET",...Vg];new Set(pw);var Vr=b.createContext(null);Vr.displayName="DataRouter";var Fl=b.createContext(null);Fl.displayName="DataRouterState";b.createContext(!1);var Yg=b.createContext({isTransitioning:!1});Yg.displayName="ViewTransition";var vw=b.createContext(new Map);vw.displayName="Fetchers";var yw=b.createContext(null);yw.displayName="Await";var pn=b.createContext(null);pn.displayName="Navigation";var ri=b.createContext(null);ri.displayName="Location";var cn=b.createContext({outlet:null,matches:[],isDataRoute:!1});cn.displayName="Route";var sd=b.createContext(null);sd.displayName="RouteError";function bw(s,{relative:n}={}){Ke(si(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=b.useContext(pn),{hash:o,pathname:u,search:d}=ii(s,{relative:n}),m=u;return r!=="/"&&(m=u==="/"?r:Bn([r,u])),i.createHref({pathname:m,search:d,hash:o})}function si(){return b.useContext(ri)!=null}function ya(){return Ke(si(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(ri).location}var Pg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kg(s){b.useContext(pn).static||b.useLayoutEffect(s)}function vn(){let{isDataRoute:s}=b.useContext(cn);return s?Uw():ww()}function ww(){Ke(si(),"useNavigate() may be used only in the context of a <Router> component.");let s=b.useContext(Vr),{basename:n,navigator:r}=b.useContext(pn),{matches:i}=b.useContext(cn),{pathname:o}=ya(),u=JSON.stringify(Ig(i)),d=b.useRef(!1);return Kg(()=>{d.current=!0}),b.useCallback((h,g={})=>{if(un(d.current,Pg),!d.current)return;if(typeof h=="number"){r.go(h);return}let y=Gg(h,JSON.parse(u),o,g.relative==="path");s==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:Bn([n,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[n,r,u,o,s])}var _w=b.createContext(null);function xw(s){let n=b.useContext(cn).outlet;return b.useMemo(()=>n&&b.createElement(_w.Provider,{value:s},n),[n,s])}function Sw(){let{matches:s}=b.useContext(cn),n=s[s.length-1];return n?n.params:{}}function ii(s,{relative:n}={}){let{matches:r}=b.useContext(cn),{pathname:i}=ya(),o=JSON.stringify(Ig(r));return b.useMemo(()=>Gg(s,JSON.parse(o),i,n==="path"),[s,o,i,n])}function Ew(s,n){return Zg(s,n)}function Zg(s,n,r,i,o){Ke(si(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=b.useContext(pn),{matches:d}=b.useContext(cn),m=d[d.length-1],h=m?m.params:{},g=m?m.pathname:"/",y=m?m.pathnameBase:"/",_=m&&m.route;{let N=_&&_.path||"";Jg(g,!_||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let S=ya(),E;if(n){let N=typeof n=="string"?Gr(n):n;Ke(y==="/"||N.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${N.pathname}" was given in the \`location\` prop.`),E=N}else E=S;let O=E.pathname||"/",R=O;if(y!=="/"){let N=y.replace(/^\//,"").split("/");R="/"+O.replace(/^\//,"").split("/").slice(N.length).join("/")}let A=Hg(s,{pathname:R});un(_||A!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),un(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=Rw(A&&A.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:Bn([y,u.encodeLocation?u.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?y:Bn([y,u.encodeLocation?u.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),d,r,i,o);return n&&$?b.createElement(ri.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},$):$}function jw(){let s=Dw(),n=gw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),r=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},d=null;return console.error("Error handled by React Router default ErrorBoundary:",s),d=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:u},"ErrorBoundary")," or"," ",b.createElement("code",{style:u},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},n),r?b.createElement("pre",{style:o},r):null,d)}var Ow=b.createElement(jw,null),Aw=class extends b.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){this.props.onError?this.props.onError(s,n):console.error("React Router caught the following error during render",s)}render(){return this.state.error!==void 0?b.createElement(cn.Provider,{value:this.props.routeContext},b.createElement(sd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Tw({routeContext:s,match:n,children:r}){let i=b.useContext(Vr);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(cn.Provider,{value:s},r)}function Rw(s,n=[],r=null,i=null,o=null){if(s==null){if(!r)return null;if(r.errors)s=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)s=r.matches;else return null}let u=s,d=r?.errors;if(d!=null){let y=u.findIndex(_=>_.route.id&&d?.[_.route.id]!==void 0);Ke(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,h=-1;if(r)for(let y=0;y<u.length;y++){let _=u[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(h=y),_.route.id){let{loaderData:S,errors:E}=r,O=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||O){m=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let g=r&&i?(y,_)=>{i(y,{location:r.location,params:r.matches?.[0]?.params??{},errorInfo:_})}:void 0;return u.reduceRight((y,_,S)=>{let E,O=!1,R=null,A=null;r&&(E=d&&_.route.id?d[_.route.id]:void 0,R=_.route.errorElement||Ow,m&&(h<0&&S===0?(Jg("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,A=null):h===S&&(O=!0,A=_.route.hydrateFallbackElement||null)));let $=n.concat(u.slice(0,S+1)),N=()=>{let C;return E?C=R:O?C=A:_.route.Component?C=b.createElement(_.route.Component,null):_.route.element?C=_.route.element:C=y,b.createElement(Tw,{match:_,routeContext:{outlet:y,matches:$,isDataRoute:r!=null},children:C})};return r&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?b.createElement(Aw,{location:r.location,revalidation:r.revalidation,component:R,error:E,children:N(),routeContext:{outlet:null,matches:$,isDataRoute:!0},onError:g}):N()},null)}function id(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Nw(s){let n=b.useContext(Vr);return Ke(n,id(s)),n}function Cw(s){let n=b.useContext(Fl);return Ke(n,id(s)),n}function kw(s){let n=b.useContext(cn);return Ke(n,id(s)),n}function ld(s){let n=kw(s),r=n.matches[n.matches.length-1];return Ke(r.route.id,`${s} can only be used on routes that contain a unique "id"`),r.route.id}function Mw(){return ld("useRouteId")}function Dw(){let s=b.useContext(sd),n=Cw("useRouteError"),r=ld("useRouteError");return s!==void 0?s:n.errors?.[r]}function Uw(){let{router:s}=Nw("useNavigate"),n=ld("useNavigate"),r=b.useRef(!1);return Kg(()=>{r.current=!0}),b.useCallback(async(o,u={})=>{un(r.current,Pg),r.current&&(typeof o=="number"?s.navigate(o):await s.navigate(o,{fromRouteId:n,...u}))},[s,n])}var D0={};function Jg(s,n,r){!n&&!D0[s]&&(D0[s]=!0,un(!1,r))}b.memo(Lw);function Lw({routes:s,future:n,state:r,unstable_onError:i}){return Zg(s,void 0,r,i,n)}function zw(s){return xw(s.context)}function Nt(s){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bw({basename:s="/",children:n=null,location:r,navigationType:i="POP",navigator:o,static:u=!1}){Ke(!si(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=s.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof r=="string"&&(r=Gr(r));let{pathname:h="/",search:g="",hash:y="",state:_=null,key:S="default"}=r,E=b.useMemo(()=>{let O=Hn(h,d);return O==null?null:{location:{pathname:O,search:g,hash:y,state:_,key:S},navigationType:i}},[d,h,g,y,_,S,i]);return un(E!=null,`<Router basename="${d}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:b.createElement(pn.Provider,{value:m},b.createElement(ri.Provider,{children:n,value:E}))}function Hw({children:s,location:n}){return Ew(qc(s),n)}function qc(s,n=[]){let r=[];return b.Children.forEach(s,(i,o)=>{if(!b.isValidElement(i))return;let u=[...n,o];if(i.type===b.Fragment){r.push.apply(r,qc(i.props.children,u));return}Ke(i.type===Nt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=qc(i.props.children,u)),r.push(d)}),r}var Hl="get",$l="application/x-www-form-urlencoded";function Wl(s){return s!=null&&typeof s.tagName=="string"}function $w(s){return Wl(s)&&s.tagName.toLowerCase()==="button"}function qw(s){return Wl(s)&&s.tagName.toLowerCase()==="form"}function Iw(s){return Wl(s)&&s.tagName.toLowerCase()==="input"}function Gw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Vw(s,n){return s.button===0&&(!n||n==="_self")&&!Gw(s)}var Tl=null;function Yw(){if(Tl===null)try{new FormData(document.createElement("form"),0),Tl=!1}catch{Tl=!0}return Tl}var Pw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rc(s){return s!=null&&!Pw.has(s)?(un(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$l}"`),null):s}function Kw(s,n){let r,i,o,u,d;if(qw(s)){let m=s.getAttribute("action");i=m?Hn(m,n):null,r=s.getAttribute("method")||Hl,o=Rc(s.getAttribute("enctype"))||$l,u=new FormData(s)}else if($w(s)||Iw(s)&&(s.type==="submit"||s.type==="image")){let m=s.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=s.getAttribute("formaction")||m.getAttribute("action");if(i=h?Hn(h,n):null,r=s.getAttribute("formmethod")||m.getAttribute("method")||Hl,o=Rc(s.getAttribute("formenctype"))||Rc(m.getAttribute("enctype"))||$l,u=new FormData(m,s),!Yw()){let{name:g,type:y,value:_}=s;if(y==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,_)}}else{if(Wl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Hl,i=null,o=$l,d=s}return u&&o==="text/plain"&&(d=u,u=void 0),{action:i,method:r.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function od(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function Zw(s,n,r){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${r}`:n&&Hn(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function Jw(s,n){if(s.id in n)return n[s.id];try{let r=await import(s.module);return n[s.id]=r,r}catch(r){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Xw(s,n,r){let i=await Promise.all(s.map(async o=>{let u=n.routes[o.route.id];if(u){let d=await Jw(u,r);return d.links?d.links():[]}return[]}));return t1(i.flat(1).filter(Qw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function U0(s,n,r,i,o,u){let d=(h,g)=>r[g]?h.route.id!==r[g].route.id:!0,m=(h,g)=>r[g].pathname!==h.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==h.params["*"];return u==="assets"?n.filter((h,g)=>d(h,g)||m(h,g)):u==="data"?n.filter((h,g)=>{let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(d(h,g)||m(h,g))return!0;if(h.route.shouldRevalidate){let _=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(s,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Fw(s,n,{includeHydrateFallback:r}={}){return Ww(s.map(i=>{let o=n.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Ww(s){return[...new Set(s)]}function e1(s){let n={},r=Object.keys(s).sort();for(let i of r)n[i]=s[i];return n}function t1(s,n){let r=new Set;return new Set(n),s.reduce((i,o)=>{let u=JSON.stringify(e1(o));return r.has(u)||(r.add(u),i.push({key:u,link:o})),i},[])}function Qg(){let s=b.useContext(Vr);return od(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function n1(){let s=b.useContext(Fl);return od(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var ud=b.createContext(void 0);ud.displayName="FrameworkContext";function Xg(){let s=b.useContext(ud);return od(s,"You must render this element inside a <HydratedRouter> element"),s}function a1(s,n){let r=b.useContext(ud),[i,o]=b.useState(!1),[u,d]=b.useState(!1),{onFocus:m,onBlur:h,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=n,S=b.useRef(null);b.useEffect(()=>{if(s==="render"&&d(!0),s==="viewport"){let R=$=>{$.forEach(N=>{d(N.isIntersecting)})},A=new IntersectionObserver(R,{threshold:.5});return S.current&&A.observe(S.current),()=>{A.disconnect()}}},[s]),b.useEffect(()=>{if(i){let R=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(R)}}},[i]);let E=()=>{o(!0)},O=()=>{o(!1),d(!1)};return r?s!=="intent"?[u,S,{}]:[u,S,{onFocus:Vs(m,E),onBlur:Vs(h,O),onMouseEnter:Vs(g,E),onMouseLeave:Vs(y,O),onTouchStart:Vs(_,E)}]:[!1,S,{}]}function Vs(s,n){return r=>{s&&s(r),r.defaultPrevented||n(r)}}function r1({page:s,...n}){let{router:r}=Qg(),i=b.useMemo(()=>Hg(r.routes,s,r.basename),[r.routes,s,r.basename]);return i?b.createElement(i1,{page:s,matches:i,...n}):null}function s1(s){let{manifest:n,routeModules:r}=Xg(),[i,o]=b.useState([]);return b.useEffect(()=>{let u=!1;return Xw(s,n,r).then(d=>{u||o(d)}),()=>{u=!0}},[s,n,r]),i}function i1({page:s,matches:n,...r}){let i=ya(),{manifest:o,routeModules:u}=Xg(),{basename:d}=Qg(),{loaderData:m,matches:h}=n1(),g=b.useMemo(()=>U0(s,n,h,o,i,"data"),[s,n,h,o,i]),y=b.useMemo(()=>U0(s,n,h,o,i,"assets"),[s,n,h,o,i]),_=b.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let O=new Set,R=!1;if(n.forEach($=>{let N=o.routes[$.route.id];!N||!N.hasLoader||(!g.some(C=>C.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||N.hasClientLoader?R=!0:O.add($.route.id))}),O.size===0)return[];let A=Zw(s,d,"data");return R&&O.size>0&&A.searchParams.set("_routes",n.filter($=>O.has($.route.id)).map($=>$.route.id).join(",")),[A.pathname+A.search]},[d,m,i,o,g,n,s,u]),S=b.useMemo(()=>Fw(y,o),[y,o]),E=s1(y);return b.createElement(b.Fragment,null,_.map(O=>b.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),S.map(O=>b.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),E.map(({key:O,link:R})=>b.createElement("link",{key:O,nonce:r.nonce,...R})))}function l1(...s){return n=>{s.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var Fg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Fg&&(window.__reactRouterVersion="7.9.6")}catch{}function o1({basename:s,children:n,window:r}){let i=b.useRef();i.current==null&&(i.current=Yb({window:r,v5Compat:!0}));let o=i.current,[u,d]=b.useState({action:o.action,location:o.location}),m=b.useCallback(h=>{b.startTransition(()=>d(h))},[d]);return b.useLayoutEffect(()=>o.listen(m),[o,m]),b.createElement(Bw,{basename:s,children:n,location:u.location,navigationType:u.action,navigator:o})}var Wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xs=b.forwardRef(function({onClick:n,discover:r="render",prefetch:i="none",relative:o,reloadDocument:u,replace:d,state:m,target:h,to:g,preventScrollReset:y,viewTransition:_,...S},E){let{basename:O}=b.useContext(pn),R=typeof g=="string"&&Wg.test(g),A,$=!1;if(typeof g=="string"&&R&&(A=g,Fg))try{let ye=new URL(window.location.href),se=g.startsWith("//")?new URL(ye.protocol+g):new URL(g),Q=Hn(se.pathname,O);se.origin===ye.origin&&Q!=null?g=Q+se.search+se.hash:$=!0}catch{un(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=bw(g,{relative:o}),[C,K,W]=a1(i,S),te=f1(g,{replace:d,state:m,target:h,preventScrollReset:y,relative:o,viewTransition:_});function X(ye){n&&n(ye),ye.defaultPrevented||te(ye)}let xe=b.createElement("a",{...S,...W,href:A||N,onClick:$||u?n:X,ref:l1(E,K),target:h,"data-discover":!R&&r==="render"?"true":void 0});return C&&!R?b.createElement(b.Fragment,null,xe,b.createElement(r1,{page:N})):xe});Xs.displayName="Link";var u1=b.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:i="",end:o=!1,style:u,to:d,viewTransition:m,children:h,...g},y){let _=ii(d,{relative:g.relative}),S=ya(),E=b.useContext(Fl),{navigator:O,basename:R}=b.useContext(pn),A=E!=null&&v1(_)&&m===!0,$=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,N=S.pathname,C=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(N=N.toLowerCase(),C=C?C.toLowerCase():null,$=$.toLowerCase()),C&&R&&(C=Hn(C,R)||C);const K=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let W=N===$||!o&&N.startsWith($)&&N.charAt(K)==="/",te=C!=null&&(C===$||!o&&C.startsWith($)&&C.charAt($.length)==="/"),X={isActive:W,isPending:te,isTransitioning:A},xe=W?n:void 0,ye;typeof i=="function"?ye=i(X):ye=[i,W?"active":null,te?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let se=typeof u=="function"?u(X):u;return b.createElement(Xs,{...g,"aria-current":xe,className:ye,ref:y,style:se,to:d,viewTransition:m},typeof h=="function"?h(X):h)});u1.displayName="NavLink";var c1=b.forwardRef(({discover:s="render",fetcherKey:n,navigate:r,reloadDocument:i,replace:o,state:u,method:d=Hl,action:m,onSubmit:h,relative:g,preventScrollReset:y,viewTransition:_,...S},E)=>{let O=g1(),R=p1(m,{relative:g}),A=d.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&Wg.test(m),N=C=>{if(h&&h(C),C.defaultPrevented)return;C.preventDefault();let K=C.nativeEvent.submitter,W=K?.getAttribute("formmethod")||d;O(K||C.currentTarget,{fetcherKey:n,method:W,navigate:r,replace:o,state:u,relative:g,preventScrollReset:y,viewTransition:_})};return b.createElement("form",{ref:E,method:A,action:R,onSubmit:i?h:N,...S,"data-discover":!$&&s==="render"?"true":void 0})});c1.displayName="Form";function d1(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ep(s){let n=b.useContext(Vr);return Ke(n,d1(s)),n}function f1(s,{target:n,replace:r,state:i,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=vn(),h=ya(),g=ii(s,{relative:u});return b.useCallback(y=>{if(Vw(y,n)){y.preventDefault();let _=r!==void 0?r:Qs(h)===Qs(g);m(s,{replace:_,state:i,preventScrollReset:o,relative:u,viewTransition:d})}},[h,m,g,r,i,n,s,o,u,d])}var h1=0,m1=()=>`__${String(++h1)}__`;function g1(){let{router:s}=ep("useSubmit"),{basename:n}=b.useContext(pn),r=Mw();return b.useCallback(async(i,o={})=>{let{action:u,method:d,encType:m,formData:h,body:g}=Kw(i,n);if(o.navigate===!1){let y=o.fetcherKey||m1();await s.fetch(y,r,o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await s.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:h,body:g,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,n,r])}function p1(s,{relative:n}={}){let{basename:r}=b.useContext(pn),i=b.useContext(cn);Ke(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...ii(s||".",{relative:n})},d=ya();if(s==null){u.search=d.search;let m=new URLSearchParams(u.search),h=m.getAll("index");if(h.some(y=>y==="")){m.delete("index"),h.filter(_=>_).forEach(_=>m.append("index",_));let y=m.toString();u.search=y?`?${y}`:""}}return(!s||s===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(u.pathname=u.pathname==="/"?r:Bn([r,u.pathname])),Qs(u)}function v1(s,{relative:n}={}){let r=b.useContext(Yg);Ke(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=ep("useViewTransitionState"),o=ii(s,{relative:n});if(!r.isTransitioning)return!1;let u=Hn(r.currentLocation.pathname,i)||r.currentLocation.pathname,d=Hn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return Gl(o.pathname,d)!=null||Gl(o.pathname,u)!=null}let y1={data:""},b1=s=>{if(typeof window=="object"){let n=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(s||document.head).appendChild(n),n.firstChild}return s||y1},w1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_1=/\/\*[^]*?\*\/|  +/g,L0=/\n+/g,ma=(s,n)=>{let r="",i="",o="";for(let u in s){let d=s[u];u[0]=="@"?u[1]=="i"?r=u+" "+d+";":i+=u[1]=="f"?ma(d,u):u+"{"+ma(d,u[1]=="k"?"":n)+"}":typeof d=="object"?i+=ma(d,n?n.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,m):m?m+" "+h:h)):u):d!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=ma.p?ma.p(u,d):u+":"+d+";")}return r+(n&&o?n+"{"+o+"}":o)+i},Ln={},tp=s=>{if(typeof s=="object"){let n="";for(let r in s)n+=r+tp(s[r]);return n}return s},x1=(s,n,r,i,o)=>{let u=tp(s),d=Ln[u]||(Ln[u]=(h=>{let g=0,y=11;for(;g<h.length;)y=101*y+h.charCodeAt(g++)>>>0;return"go"+y})(u));if(!Ln[d]){let h=u!==s?s:(g=>{let y,_,S=[{}];for(;y=w1.exec(g.replace(_1,""));)y[4]?S.shift():y[3]?(_=y[3].replace(L0," ").trim(),S.unshift(S[0][_]=S[0][_]||{})):S[0][y[1]]=y[2].replace(L0," ").trim();return S[0]})(s);Ln[d]=ma(o?{["@keyframes "+d]:h}:h,r?"":"."+d)}let m=r&&Ln.g?Ln.g:null;return r&&(Ln.g=Ln[d]),((h,g,y,_)=>{_?g.data=g.data.replace(_,h):g.data.indexOf(h)===-1&&(g.data=y?h+g.data:g.data+h)})(Ln[d],n,i,m),d},S1=(s,n,r)=>s.reduce((i,o,u)=>{let d=n[u];if(d&&d.call){let m=d(r),h=m&&m.props&&m.props.className||/^go/.test(m)&&m;d=h?"."+h:m&&typeof m=="object"?m.props?"":ma(m,""):m===!1?"":m}return i+o+(d??"")},"");function eo(s){let n=this||{},r=s.call?s(n.p):s;return x1(r.unshift?r.raw?S1(r,[].slice.call(arguments,1),n.p):r.reduce((i,o)=>Object.assign(i,o&&o.call?o(n.p):o),{}):r,b1(n.target),n.g,n.o,n.k)}let np,Ic,Gc;eo.bind({g:1});let $n=eo.bind({k:1});function E1(s,n,r,i){ma.p=n,np=s,Ic=r,Gc=i}function ba(s,n){let r=this||{};return function(){let i=arguments;function o(u,d){let m=Object.assign({},u),h=m.className||o.className;r.p=Object.assign({theme:Ic&&Ic()},m),r.o=/ *go\d+/.test(h),m.className=eo.apply(r,i)+(h?" "+h:"");let g=s;return s[0]&&(g=m.as||s,delete m.as),Gc&&g[0]&&Gc(m),np(g,m)}return o}}var j1=s=>typeof s=="function",Vl=(s,n)=>j1(s)?s(n):s,O1=(()=>{let s=0;return()=>(++s).toString()})(),ap=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");s=!n||n.matches}return s}})(),A1=20,cd="default",rp=(s,n)=>{let{toastLimit:r}=s.settings;switch(n.type){case 0:return{...s,toasts:[n.toast,...s.toasts].slice(0,r)};case 1:return{...s,toasts:s.toasts.map(d=>d.id===n.toast.id?{...d,...n.toast}:d)};case 2:let{toast:i}=n;return rp(s,{type:s.toasts.find(d=>d.id===i.id)?1:0,toast:i});case 3:let{toastId:o}=n;return{...s,toasts:s.toasts.map(d=>d.id===o||o===void 0?{...d,dismissed:!0,visible:!1}:d)};case 4:return n.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(d=>d.id!==n.toastId)};case 5:return{...s,pausedAt:n.time};case 6:let u=n.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(d=>({...d,pauseDuration:d.pauseDuration+u}))}}},ql=[],sp={toasts:[],pausedAt:void 0,settings:{toastLimit:A1}},gn={},ip=(s,n=cd)=>{gn[n]=rp(gn[n]||sp,s),ql.forEach(([r,i])=>{r===n&&i(gn[n])})},lp=s=>Object.keys(gn).forEach(n=>ip(s,n)),T1=s=>Object.keys(gn).find(n=>gn[n].toasts.some(r=>r.id===s)),to=(s=cd)=>n=>{ip(n,s)},R1={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},N1=(s={},n=cd)=>{let[r,i]=b.useState(gn[n]||sp),o=b.useRef(gn[n]);b.useEffect(()=>(o.current!==gn[n]&&i(gn[n]),ql.push([n,i]),()=>{let d=ql.findIndex(([m])=>m===n);d>-1&&ql.splice(d,1)}),[n]);let u=r.toasts.map(d=>{var m,h,g;return{...s,...s[d.type],...d,removeDelay:d.removeDelay||((m=s[d.type])==null?void 0:m.removeDelay)||s?.removeDelay,duration:d.duration||((h=s[d.type])==null?void 0:h.duration)||s?.duration||R1[d.type],style:{...s.style,...(g=s[d.type])==null?void 0:g.style,...d.style}}});return{...r,toasts:u}},C1=(s,n="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...r,id:r?.id||O1()}),li=s=>(n,r)=>{let i=C1(n,s,r);return to(i.toasterId||T1(i.id))({type:2,toast:i}),i.id},it=(s,n)=>li("blank")(s,n);it.error=li("error");it.success=li("success");it.loading=li("loading");it.custom=li("custom");it.dismiss=(s,n)=>{let r={type:3,toastId:s};n?to(n)(r):lp(r)};it.dismissAll=s=>it.dismiss(void 0,s);it.remove=(s,n)=>{let r={type:4,toastId:s};n?to(n)(r):lp(r)};it.removeAll=s=>it.remove(void 0,s);it.promise=(s,n,r)=>{let i=it.loading(n.loading,{...r,...r?.loading});return typeof s=="function"&&(s=s()),s.then(o=>{let u=n.success?Vl(n.success,o):void 0;return u?it.success(u,{id:i,...r,...r?.success}):it.dismiss(i),o}).catch(o=>{let u=n.error?Vl(n.error,o):void 0;u?it.error(u,{id:i,...r,...r?.error}):it.dismiss(i)}),s};var k1=1e3,M1=(s,n="default")=>{let{toasts:r,pausedAt:i}=N1(s,n),o=b.useRef(new Map).current,u=b.useCallback((_,S=k1)=>{if(o.has(_))return;let E=setTimeout(()=>{o.delete(_),d({type:4,toastId:_})},S);o.set(_,E)},[]);b.useEffect(()=>{if(i)return;let _=Date.now(),S=r.map(E=>{if(E.duration===1/0)return;let O=(E.duration||0)+E.pauseDuration-(_-E.createdAt);if(O<0){E.visible&&it.dismiss(E.id);return}return setTimeout(()=>it.dismiss(E.id,n),O)});return()=>{S.forEach(E=>E&&clearTimeout(E))}},[r,i,n]);let d=b.useCallback(to(n),[n]),m=b.useCallback(()=>{d({type:5,time:Date.now()})},[d]),h=b.useCallback((_,S)=>{d({type:1,toast:{id:_,height:S}})},[d]),g=b.useCallback(()=>{i&&d({type:6,time:Date.now()})},[i,d]),y=b.useCallback((_,S)=>{let{reverseOrder:E=!1,gutter:O=8,defaultPosition:R}=S||{},A=r.filter(C=>(C.position||R)===(_.position||R)&&C.height),$=A.findIndex(C=>C.id===_.id),N=A.filter((C,K)=>K<$&&C.visible).length;return A.filter(C=>C.visible).slice(...E?[N+1]:[0,N]).reduce((C,K)=>C+(K.height||0)+O,0)},[r]);return b.useEffect(()=>{r.forEach(_=>{if(_.dismissed)u(_.id,_.removeDelay);else{let S=o.get(_.id);S&&(clearTimeout(S),o.delete(_.id))}})},[r,u]),{toasts:r,handlers:{updateHeight:h,startPause:m,endPause:g,calculateOffset:y}}},D1=$n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,U1=$n`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,L1=$n`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,z1=ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${D1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${U1} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${L1} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,B1=$n`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,H1=ba("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${B1} 1s linear infinite;
`,$1=$n`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,q1=$n`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,I1=ba("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$1} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${q1} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,G1=ba("div")`
  position: absolute;
`,V1=ba("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Y1=$n`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,P1=ba("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Y1} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,K1=({toast:s})=>{let{icon:n,type:r,iconTheme:i}=s;return n!==void 0?typeof n=="string"?b.createElement(P1,null,n):n:r==="blank"?null:b.createElement(V1,null,b.createElement(H1,{...i}),r!=="loading"&&b.createElement(G1,null,r==="error"?b.createElement(z1,{...i}):b.createElement(I1,{...i})))},Z1=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,J1=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Q1="0%{opacity:0;} 100%{opacity:1;}",X1="0%{opacity:1;} 100%{opacity:0;}",F1=ba("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,W1=ba("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,e_=(s,n)=>{let r=s.includes("top")?1:-1,[i,o]=ap()?[Q1,X1]:[Z1(r),J1(r)];return{animation:n?`${$n(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${$n(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},t_=b.memo(({toast:s,position:n,style:r,children:i})=>{let o=s.height?e_(s.position||n||"top-center",s.visible):{opacity:0},u=b.createElement(K1,{toast:s}),d=b.createElement(W1,{...s.ariaProps},Vl(s.message,s));return b.createElement(F1,{className:s.className,style:{...o,...r,...s.style}},typeof i=="function"?i({icon:u,message:d}):b.createElement(b.Fragment,null,u,d))});E1(b.createElement);var n_=({id:s,className:n,style:r,onHeightUpdate:i,children:o})=>{let u=b.useCallback(d=>{if(d){let m=()=>{let h=d.getBoundingClientRect().height;i(s,h)};m(),new MutationObserver(m).observe(d,{subtree:!0,childList:!0,characterData:!0})}},[s,i]);return b.createElement("div",{ref:u,className:n,style:r},o)},a_=(s,n)=>{let r=s.includes("top"),i=r?{top:0}:{bottom:0},o=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ap()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${n*(r?1:-1)}px)`,...i,...o}},r_=eo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Rl=16,s_=({reverseOrder:s,position:n="top-center",toastOptions:r,gutter:i,children:o,toasterId:u,containerStyle:d,containerClassName:m})=>{let{toasts:h,handlers:g}=M1(r,u);return b.createElement("div",{"data-rht-toaster":u||"",style:{position:"fixed",zIndex:9999,top:Rl,left:Rl,right:Rl,bottom:Rl,pointerEvents:"none",...d},className:m,onMouseEnter:g.startPause,onMouseLeave:g.endPause},h.map(y=>{let _=y.position||n,S=g.calculateOffset(y,{reverseOrder:s,gutter:i,defaultPosition:n}),E=a_(_,S);return b.createElement(n_,{id:y.id,key:y.id,onHeightUpdate:g.updateHeight,className:y.visible?r_:"",style:E},y.type==="custom"?Vl(y.message,y):o?o(y):b.createElement(t_,{toast:y,position:_}))}))},Ae=it;function i_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Nc=b.forwardRef(i_);function l_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const o_=b.forwardRef(l_);function u_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const op=b.forwardRef(u_);function c_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const d_=b.forwardRef(c_);function f_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const h_=b.forwardRef(f_);function m_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const up=b.forwardRef(m_);function g_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"}))}const cp=b.forwardRef(g_);function p_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const z0=b.forwardRef(p_);function v_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Yl=b.forwardRef(v_);function y_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.625 12a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H8.25m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0H12m4.125 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm0 0h-.375M21 12c0 4.556-4.03 8.25-9 8.25a9.764 9.764 0 0 1-2.555-.337A5.972 5.972 0 0 1 5.41 20.97a5.969 5.969 0 0 1-.474-.065 4.48 4.48 0 0 0 .978-2.025c.09-.457-.133-.901-.467-1.226C3.93 16.178 3 14.189 3 12c0-4.556 4.03-8.25 9-8.25s9 3.694 9 8.25Z"}))}const B0=b.forwardRef(y_);function b_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const w_=b.forwardRef(b_);function __({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const x_=b.forwardRef(__);function S_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const dp=b.forwardRef(S_);function E_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Fs=b.forwardRef(E_);function j_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const O_=b.forwardRef(j_);function A_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const T_=b.forwardRef(A_);function R_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const H0=b.forwardRef(R_);function N_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const fp=b.forwardRef(N_);function C_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const k_=b.forwardRef(C_);function M_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 12 3.269 3.125A59.769 59.769 0 0 1 21.485 12 59.768 59.768 0 0 1 3.27 20.875L5.999 12Zm0 0h7.5"}))}const hp=b.forwardRef(M_);function D_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m18.375 12.739-7.693 7.693a4.5 4.5 0 0 1-6.364-6.364l10.94-10.94A3 3 0 1 1 19.5 7.372L8.552 18.32m.009-.01-.01.01m5.699-9.941-7.81 7.81a1.5 1.5 0 0 0 2.112 2.13"}))}const $0=b.forwardRef(D_);function U_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const L_=b.forwardRef(U_);function z_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const q0=b.forwardRef(z_);function B_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Ps=b.forwardRef(B_);function H_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const mp=b.forwardRef(H_);function $_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const q_=b.forwardRef($_);function I_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Pl=b.forwardRef(I_);function G_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const gp=b.forwardRef(G_);function V_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Y_=b.forwardRef(V_);function P_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m15.75 10.5 4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25h-9A2.25 2.25 0 0 0 2.25 7.5v9a2.25 2.25 0 0 0 2.25 2.25Z"}))}const dd=b.forwardRef(P_);function K_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Z_=b.forwardRef(K_);function J_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const pp=b.forwardRef(J_);function Q_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{d:"M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z"}),b.createElement("path",{fillRule:"evenodd",d:"M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z",clipRule:"evenodd"}))}const X_=b.forwardRef(Q_);function F_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{fillRule:"evenodd",d:"M4.804 21.644A6.707 6.707 0 0 0 6 21.75a6.721 6.721 0 0 0 3.583-1.029c.774.182 1.584.279 2.417.279 5.322 0 9.75-3.97 9.75-9 0-5.03-4.428-9-9.75-9s-9.75 3.97-9.75 9c0 2.409 1.025 4.587 2.674 6.192.232.226.277.428.254.543a3.73 3.73 0 0 1-.814 1.686.75.75 0 0 0 .44 1.223ZM8.25 10.875a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25ZM10.875 12a1.125 1.125 0 1 1 2.25 0 1.125 1.125 0 0 1-2.25 0Zm4.875-1.125a1.125 1.125 0 1 0 0 2.25 1.125 1.125 0 0 0 0-2.25Z",clipRule:"evenodd"}))}const I0=b.forwardRef(F_);function W_({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{fillRule:"evenodd",d:"M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a1.875 1.875 0 0 1-1.875-1.875V5.25A3.75 3.75 0 0 0 9 1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z",clipRule:"evenodd"}),b.createElement("path",{d:"M12.971 1.816A5.23 5.23 0 0 1 14.25 5.25v1.875c0 .207.168.375.375.375H16.5a5.23 5.23 0 0 1 3.434 1.279 9.768 9.768 0 0 0-6.963-6.963Z"}))}const ex=b.forwardRef(W_);function tx({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),b.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const G0=b.forwardRef(tx);function nx({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const ax=b.forwardRef(nx);function rx({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{fillRule:"evenodd",d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.006 5.404.434c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.434 2.082-5.005Z",clipRule:"evenodd"}))}const Vc=b.forwardRef(rx);function sx({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{fillRule:"evenodd",d:"M18.685 19.097A9.723 9.723 0 0 0 21.75 12c0-5.385-4.365-9.75-9.75-9.75S2.25 6.615 2.25 12a9.723 9.723 0 0 0 3.065 7.097A9.716 9.716 0 0 0 12 21.75a9.716 9.716 0 0 0 6.685-2.653Zm-12.54-1.285A7.486 7.486 0 0 1 12 15a7.486 7.486 0 0 1 5.855 2.812A8.224 8.224 0 0 1 12 20.25a8.224 8.224 0 0 1-5.855-2.438ZM15.75 9a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z",clipRule:"evenodd"}))}const V0=b.forwardRef(sx);function ix({title:s,titleId:n,...r},i){return b.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":n},r),s?b.createElement("title",{id:n},s):null,b.createElement("path",{fillRule:"evenodd",d:"M8.25 6.75a3.75 3.75 0 1 1 7.5 0 3.75 3.75 0 0 1-7.5 0ZM15.75 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM2.25 9.75a3 3 0 1 1 6 0 3 3 0 0 1-6 0ZM6.31 15.117A6.745 6.745 0 0 1 12 12a6.745 6.745 0 0 1 6.709 7.498.75.75 0 0 1-.372.568A12.696 12.696 0 0 1 12 21.75c-2.305 0-4.47-.612-6.337-1.684a.75.75 0 0 1-.372-.568 6.787 6.787 0 0 1 1.019-4.38Z",clipRule:"evenodd"}),b.createElement("path",{d:"M5.082 14.254a8.287 8.287 0 0 0-1.308 5.135 9.687 9.687 0 0 1-1.764-.44l-.115-.04a.563.563 0 0 1-.373-.487l-.01-.121a3.75 3.75 0 0 1 3.57-4.047ZM20.226 19.389a8.287 8.287 0 0 0-1.308-5.135 3.75 3.75 0 0 1 3.57 4.047l-.01.121a.563.563 0 0 1-.373.486l-.115.04c-.567.2-1.156.349-1.764.441Z"}))}const lx=b.forwardRef(ix);var Yc=function(s,n){return Yc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},Yc(s,n)};function vp(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Yc(s,n);function r(){this.constructor=s}s.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Kl=function(){return Kl=Object.assign||function(n){for(var r,i=1,o=arguments.length;i<o;i++){r=arguments[i];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},Kl.apply(this,arguments)};function Yr(s,n){var r={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&n.indexOf(i)<0&&(r[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(s);o<i.length;o++)n.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(s,i[o])&&(r[i[o]]=s[i[o]]);return r}function yp(s,n,r,i){var o=arguments.length,u=o<3?n:i===null?i=Object.getOwnPropertyDescriptor(n,r):i,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(s,n,r,i);else for(var m=s.length-1;m>=0;m--)(d=s[m])&&(u=(o<3?d(u):o>3?d(n,r,u):d(n,r))||u);return o>3&&u&&Object.defineProperty(n,r,u),u}function bp(s,n){return function(r,i){n(r,i,s)}}function wp(s,n,r,i,o,u){function d($){if($!==void 0&&typeof $!="function")throw new TypeError("Function expected");return $}for(var m=i.kind,h=m==="getter"?"get":m==="setter"?"set":"value",g=!n&&s?i.static?s:s.prototype:null,y=n||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),_,S=!1,E=r.length-1;E>=0;E--){var O={};for(var R in i)O[R]=R==="access"?{}:i[R];for(var R in i.access)O.access[R]=i.access[R];O.addInitializer=function($){if(S)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d($||null))};var A=(0,r[E])(m==="accessor"?{get:y.get,set:y.set}:y[h],O);if(m==="accessor"){if(A===void 0)continue;if(A===null||typeof A!="object")throw new TypeError("Object expected");(_=d(A.get))&&(y.get=_),(_=d(A.set))&&(y.set=_),(_=d(A.init))&&o.unshift(_)}else(_=d(A))&&(m==="field"?o.unshift(_):y[h]=_)}g&&Object.defineProperty(g,i.name,y),S=!0}function _p(s,n,r){for(var i=arguments.length>2,o=0;o<n.length;o++)r=i?n[o].call(s,r):n[o].call(s);return i?r:void 0}function xp(s){return typeof s=="symbol"?s:"".concat(s)}function Sp(s,n,r){return typeof n=="symbol"&&(n=n.description?"[".concat(n.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:r?"".concat(r," ",n):n})}function Ep(s,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,n)}function ie(s,n,r,i){function o(u){return u instanceof r?u:new r(function(d){d(u)})}return new(r||(r=Promise))(function(u,d){function m(y){try{g(i.next(y))}catch(_){d(_)}}function h(y){try{g(i.throw(y))}catch(_){d(_)}}function g(y){y.done?u(y.value):o(y.value).then(m,h)}g((i=i.apply(s,n||[])).next())})}function jp(s,n){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},i,o,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=m(0),d.throw=m(1),d.return=m(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function m(g){return function(y){return h([g,y])}}function h(g){if(i)throw new TypeError("Generator is already executing.");for(;d&&(d=0,g[0]&&(r=0)),r;)try{if(i=1,o&&(u=g[0]&2?o.return:g[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,g[1])).done)return u;switch(o=0,u&&(g=[g[0]&2,u.value]),g[0]){case 0:case 1:u=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,o=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(u=r.trys,!(u=u.length>0&&u[u.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!u||g[1]>u[0]&&g[1]<u[3])){r.label=g[1];break}if(g[0]===6&&r.label<u[1]){r.label=u[1],u=g;break}if(u&&r.label<u[2]){r.label=u[2],r.ops.push(g);break}u[2]&&r.ops.pop(),r.trys.pop();continue}g=n.call(s,r)}catch(y){g=[6,y],o=0}finally{i=u=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var no=Object.create?(function(s,n,r,i){i===void 0&&(i=r);var o=Object.getOwnPropertyDescriptor(n,r);(!o||("get"in o?!n.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return n[r]}}),Object.defineProperty(s,i,o)}):(function(s,n,r,i){i===void 0&&(i=r),s[i]=n[r]});function Op(s,n){for(var r in s)r!=="default"&&!Object.prototype.hasOwnProperty.call(n,r)&&no(n,s,r)}function Zl(s){var n=typeof Symbol=="function"&&Symbol.iterator,r=n&&s[n],i=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function fd(s,n){var r=typeof Symbol=="function"&&s[Symbol.iterator];if(!r)return s;var i=r.call(s),o,u=[],d;try{for(;(n===void 0||n-- >0)&&!(o=i.next()).done;)u.push(o.value)}catch(m){d={error:m}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(d)throw d.error}}return u}function Ap(){for(var s=[],n=0;n<arguments.length;n++)s=s.concat(fd(arguments[n]));return s}function Tp(){for(var s=0,n=0,r=arguments.length;n<r;n++)s+=arguments[n].length;for(var i=Array(s),o=0,n=0;n<r;n++)for(var u=arguments[n],d=0,m=u.length;d<m;d++,o++)i[o]=u[d];return i}function Rp(s,n,r){if(r||arguments.length===2)for(var i=0,o=n.length,u;i<o;i++)(u||!(i in n))&&(u||(u=Array.prototype.slice.call(n,0,i)),u[i]=n[i]);return s.concat(u||Array.prototype.slice.call(n))}function Ir(s){return this instanceof Ir?(this.v=s,this):new Ir(s)}function Np(s,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(s,n||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),m("next"),m("throw"),m("return",d),o[Symbol.asyncIterator]=function(){return this},o;function d(E){return function(O){return Promise.resolve(O).then(E,_)}}function m(E,O){i[E]&&(o[E]=function(R){return new Promise(function(A,$){u.push([E,R,A,$])>1||h(E,R)})},O&&(o[E]=O(o[E])))}function h(E,O){try{g(i[E](O))}catch(R){S(u[0][3],R)}}function g(E){E.value instanceof Ir?Promise.resolve(E.value.v).then(y,_):S(u[0][2],E)}function y(E){h("next",E)}function _(E){h("throw",E)}function S(E,O){E(O),u.shift(),u.length&&h(u[0][0],u[0][1])}}function Cp(s){var n,r;return n={},i("next"),i("throw",function(o){throw o}),i("return"),n[Symbol.iterator]=function(){return this},n;function i(o,u){n[o]=s[o]?function(d){return(r=!r)?{value:Ir(s[o](d)),done:!1}:u?u(d):d}:u}}function kp(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=s[Symbol.asyncIterator],r;return n?n.call(s):(s=typeof Zl=="function"?Zl(s):s[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(u){r[u]=s[u]&&function(d){return new Promise(function(m,h){d=s[u](d),o(m,h,d.done,d.value)})}}function o(u,d,m,h){Promise.resolve(h).then(function(g){u({value:g,done:m})},d)}}function Mp(s,n){return Object.defineProperty?Object.defineProperty(s,"raw",{value:n}):s.raw=n,s}var ox=Object.create?(function(s,n){Object.defineProperty(s,"default",{enumerable:!0,value:n})}):function(s,n){s.default=n},Pc=function(s){return Pc=Object.getOwnPropertyNames||function(n){var r=[];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[r.length]=i);return r},Pc(s)};function Dp(s){if(s&&s.__esModule)return s;var n={};if(s!=null)for(var r=Pc(s),i=0;i<r.length;i++)r[i]!=="default"&&no(n,s,r[i]);return ox(n,s),n}function Up(s){return s&&s.__esModule?s:{default:s}}function Lp(s,n,r,i){if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?s!==n||!i:!n.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?i:r==="a"?i.call(s):i?i.value:n.get(s)}function zp(s,n,r,i,o){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?s!==n||!o:!n.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?o.call(s,r):o?o.value=r:n.set(s,r),r}function Bp(s,n){if(n===null||typeof n!="object"&&typeof n!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?n===s:s.has(n)}function Hp(s,n,r){if(n!=null){if(typeof n!="object"&&typeof n!="function")throw new TypeError("Object expected.");var i,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=n[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=n[Symbol.dispose],r&&(o=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");o&&(i=function(){try{o.call(this)}catch(u){return Promise.reject(u)}}),s.stack.push({value:n,dispose:i,async:r})}else r&&s.stack.push({async:!0});return n}var ux=typeof SuppressedError=="function"?SuppressedError:function(s,n,r){var i=new Error(r);return i.name="SuppressedError",i.error=s,i.suppressed=n,i};function $p(s){function n(u){s.error=s.hasError?new ux(u,s.error,"An error was suppressed during disposal."):u,s.hasError=!0}var r,i=0;function o(){for(;r=s.stack.pop();)try{if(!r.async&&i===1)return i=0,s.stack.push(r),Promise.resolve().then(o);if(r.dispose){var u=r.dispose.call(r.value);if(r.async)return i|=2,Promise.resolve(u).then(o,function(d){return n(d),o()})}else i|=1}catch(d){n(d)}if(i===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return o()}function qp(s,n){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,i,o,u,d){return i?n?".jsx":".js":o&&(!u||!d)?r:o+u+"."+d.toLowerCase()+"js"}):s}const cx={__extends:vp,__assign:Kl,__rest:Yr,__decorate:yp,__param:bp,__esDecorate:wp,__runInitializers:_p,__propKey:xp,__setFunctionName:Sp,__metadata:Ep,__awaiter:ie,__generator:jp,__createBinding:no,__exportStar:Op,__values:Zl,__read:fd,__spread:Ap,__spreadArrays:Tp,__spreadArray:Rp,__await:Ir,__asyncGenerator:Np,__asyncDelegator:Cp,__asyncValues:kp,__makeTemplateObject:Mp,__importStar:Dp,__importDefault:Up,__classPrivateFieldGet:Lp,__classPrivateFieldSet:zp,__classPrivateFieldIn:Bp,__addDisposableResource:Hp,__disposeResources:$p,__rewriteRelativeImportExtension:qp},dx=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Hp,get __assign(){return Kl},__asyncDelegator:Cp,__asyncGenerator:Np,__asyncValues:kp,__await:Ir,__awaiter:ie,__classPrivateFieldGet:Lp,__classPrivateFieldIn:Bp,__classPrivateFieldSet:zp,__createBinding:no,__decorate:yp,__disposeResources:$p,__esDecorate:wp,__exportStar:Op,__extends:vp,__generator:jp,__importDefault:Up,__importStar:Dp,__makeTemplateObject:Mp,__metadata:Ep,__param:bp,__propKey:xp,__read:fd,__rest:Yr,__rewriteRelativeImportExtension:qp,__runInitializers:_p,__setFunctionName:Sp,__spread:Ap,__spreadArray:Rp,__spreadArrays:Tp,__values:Zl,default:cx},Symbol.toStringTag,{value:"Module"})),fx=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class hd extends Error{constructor(n,r="FunctionsError",i){super(n),this.name=r,this.context=i}}class hx extends hd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class Y0 extends hd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class P0 extends hd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var Kc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Kc||(Kc={}));class mx{constructor(n,{headers:r={},customFetch:i,region:o=Kc.Any}={}){this.url=n,this.headers=r,this.region=o,this.fetch=fx(i)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return ie(this,arguments,void 0,function*(r,i={}){var o;let u,d;try{const{headers:m,method:h,body:g,signal:y,timeout:_}=i;let S={},{region:E}=i;E||(E=this.region);const O=new URL(`${this.url}/${r}`);E&&E!=="any"&&(S["x-region"]=E,O.searchParams.set("forceFunctionRegion",E));let R;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",R=g):typeof g=="string"?(S["Content-Type"]="text/plain",R=g):typeof FormData<"u"&&g instanceof FormData?R=g:(S["Content-Type"]="application/json",R=JSON.stringify(g)):R=g;let A=y;_&&(d=new AbortController,u=setTimeout(()=>d.abort(),_),y?(A=d.signal,y.addEventListener("abort",()=>d.abort())):A=d.signal);const $=yield this.fetch(O.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),m),body:R,signal:A}).catch(W=>{throw new hx(W)}),N=$.headers.get("x-relay-error");if(N&&N==="true")throw new Y0($);if(!$.ok)throw new P0($);let C=((o=$.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),K;return C==="application/json"?K=yield $.json():C==="application/octet-stream"||C==="application/pdf"?K=yield $.blob():C==="text/event-stream"?K=$:C==="multipart/form-data"?K=yield $.formData():K=yield $.text(),{data:K,error:null,response:$}}catch(m){return{data:null,error:m,response:m instanceof P0||m instanceof Y0?m.context:void 0}}finally{u&&clearTimeout(u)}})}}var yt={};const Pr=Mb(dx);var Nl={},Cl={},kl={},Ml={},Dl={},Ul={},K0;function Ip(){if(K0)return Ul;K0=1,Object.defineProperty(Ul,"__esModule",{value:!0});class s extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ul.default=s,Ul}var Z0;function Gp(){if(Z0)return Dl;Z0=1,Object.defineProperty(Dl,"__esModule",{value:!0});const n=Pr.__importDefault(Ip());class r{constructor(o){var u,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var g,y,_,S;let E=null,O=null,R=null,A=h.status,$=h.statusText;if(h.ok){if(this.method!=="HEAD"){const W=await h.text();W===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?O=W:O=JSON.parse(W))}const C=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),K=(_=h.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");C&&K&&K.length>1&&(R=parseInt(K[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(O)&&(O.length>1?(E={code:"PGRST116",details:`Results contain ${O.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},O=null,R=null,A=406,$="Not Acceptable"):O.length===1?O=O[0]:O=null)}else{const C=await h.text();try{E=JSON.parse(C),Array.isArray(E)&&h.status===404&&(O=[],E=null,A=200,$="OK")}catch{h.status===404&&C===""?(A=204,$="No Content"):E={message:C}}if(E&&this.isMaybeSingle&&(!((S=E?.details)===null||S===void 0)&&S.includes("0 rows"))&&(E=null,A=200,$="OK"),E&&this.shouldThrowOnError)throw new n.default(E)}return{error:E,data:O,count:R,status:A,statusText:$}});return this.shouldThrowOnError||(m=m.catch(h=>{var g,y,_,S,E,O;let R="";const A=h?.cause;if(A){const $=(g=A?.message)!==null&&g!==void 0?g:"",N=(y=A?.code)!==null&&y!==void 0?y:"";R=`${(_=h?.name)!==null&&_!==void 0?_:"FetchError"}: ${h?.message}`,R+=`

Caused by: ${(S=A?.name)!==null&&S!==void 0?S:"Error"}: ${$}`,N&&(R+=` (${N})`),A?.stack&&(R+=`
${A.stack}`)}else R=(E=h?.stack)!==null&&E!==void 0?E:"";return{error:{message:`${(O=h?.name)!==null&&O!==void 0?O:"FetchError"}: ${h?.message}`,details:R,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),m.then(o,u)}returns(){return this}overrideTypes(){return this}}return Dl.default=r,Dl}var J0;function Vp(){if(J0)return Ml;J0=1,Object.defineProperty(Ml,"__esModule",{value:!0});const n=Pr.__importDefault(Gp());class r extends n.default{select(o){let u=!1;const d=(o??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(o,{ascending:u=!0,nullsFirst:d,foreignTable:m,referencedTable:h=m}={}){const g=h?`${h}.order`:"order",y=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${y?`${y},`:""}${o}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:u,referencedTable:d=u}={}){const m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${o}`),this}range(o,u,{foreignTable:d,referencedTable:m=d}={}){const h=typeof m>"u"?"offset":`${m}.offset`,g=typeof m>"u"?"limit":`${m}.limit`;return this.url.searchParams.set(h,`${o}`),this.url.searchParams.set(g,`${u-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:o=!1,verbose:u=!1,settings:d=!1,buffers:m=!1,wal:h=!1,format:g="text"}={}){var y;const _=[o?"analyze":null,u?"verbose":null,d?"settings":null,m?"buffers":null,h?"wal":null].filter(Boolean).join("|"),S=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${S}"; options=${_};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(o){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${o}`),this}}return Ml.default=r,Ml}var Q0;function md(){if(Q0)return kl;Q0=1,Object.defineProperty(kl,"__esModule",{value:!0});const n=Pr.__importDefault(Vp()),r=new RegExp("[,()]");class i extends n.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const m=Array.from(new Set(d)).map(h=>typeof h=="string"&&r.test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(u,`in.(${m})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:m,type:h}={}){let g="";h==="plain"?g="pl":h==="phrase"?g="ph":h==="websearch"&&(g="w");const y=m===void 0?"":`(${m})`;return this.url.searchParams.append(u,`${g}fts${y}.${d}`),this}match(u){return Object.entries(u).forEach(([d,m])=>{this.url.searchParams.append(d,`eq.${m}`)}),this}not(u,d,m){return this.url.searchParams.append(u,`not.${d}.${m}`),this}or(u,{foreignTable:d,referencedTable:m=d}={}){const h=m?`${m}.or`:"or";return this.url.searchParams.append(h,`(${u})`),this}filter(u,d,m){return this.url.searchParams.append(u,`${d}.${m}`),this}}return kl.default=i,kl}var X0;function Yp(){if(X0)return Cl;X0=1,Object.defineProperty(Cl,"__esModule",{value:!0});const n=Pr.__importDefault(md());class r{constructor(o,{headers:u={},schema:d,fetch:m}){this.url=o,this.headers=new Headers(u),this.schema=d,this.fetch=m}select(o,u){const{head:d=!1,count:m}=u??{},h=d?"HEAD":"GET";let g=!1;const y=(o??"*").split("").map(_=>/\s/.test(_)&&!g?"":(_==='"'&&(g=!g),_)).join("");return this.url.searchParams.set("select",y),m&&this.headers.append("Prefer",`count=${m}`),new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(o,{count:u,defaultToNull:d=!0}={}){var m;const h="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const g=o.reduce((y,_)=>y.concat(Object.keys(_)),[]);if(g.length>0){const y=[...new Set(g)].map(_=>`"${_}"`);this.url.searchParams.set("columns",y.join(","))}}return new n.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}upsert(o,{onConflict:u,ignoreDuplicates:d=!1,count:m,defaultToNull:h=!0}={}){var g;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),m&&this.headers.append("Prefer",`count=${m}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(o)){const _=o.reduce((S,E)=>S.concat(Object.keys(E)),[]);if(_.length>0){const S=[...new Set(_)].map(E=>`"${E}"`);this.url.searchParams.set("columns",S.join(","))}}return new n.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(o,{count:u}={}){var d;const m="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new n.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:o}={}){var u;const d="DELETE";return o&&this.headers.append("Prefer",`count=${o}`),new n.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return Cl.default=r,Cl}var F0;function gx(){if(F0)return Nl;F0=1,Object.defineProperty(Nl,"__esModule",{value:!0});const s=Pr,n=s.__importDefault(Yp()),r=s.__importDefault(md());class i{constructor(u,{headers:d={},schema:m,fetch:h}={}){this.url=u,this.headers=new Headers(d),this.schemaName=m,this.fetch=h}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new n.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:m=!1,get:h=!1,count:g}={}){var y;let _;const S=new URL(`${this.url}/rpc/${u}`);let E;m||h?(_=m?"HEAD":"GET",Object.entries(d).filter(([R,A])=>A!==void 0).map(([R,A])=>[R,Array.isArray(A)?`{${A.join(",")}}`:`${A}`]).forEach(([R,A])=>{S.searchParams.append(R,A)})):(_="POST",E=d);const O=new Headers(this.headers);return g&&O.set("Prefer",`count=${g}`),new r.default({method:_,url:S,headers:O,schema:this.schemaName,body:E,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return Nl.default=i,Nl}var W0;function px(){if(W0)return yt;W0=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const s=Pr,n=s.__importDefault(gx());yt.PostgrestClient=n.default;const r=s.__importDefault(Yp());yt.PostgrestQueryBuilder=r.default;const i=s.__importDefault(md());yt.PostgrestFilterBuilder=i.default;const o=s.__importDefault(Vp());yt.PostgrestTransformBuilder=o.default;const u=s.__importDefault(Gp());yt.PostgrestBuilder=u.default;const d=s.__importDefault(Ip());return yt.PostgrestError=d.default,yt.default={PostgrestClient:n.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:u.default,PostgrestError:d.default},yt}var Pp=px();const Kp=Bg(Pp),vx=kb({__proto__:null,default:Kp},[Pp]),{PostgrestClient:yx,PostgrestQueryBuilder:kE,PostgrestFilterBuilder:ME,PostgrestTransformBuilder:DE,PostgrestBuilder:UE,PostgrestError:LE}=Kp||vx;class bx{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const i=this.getWebSocketConstructor();return new i(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const wx="2.84.0",_x=`realtime-js/${wx}`,Zp="1.0.0",xx="2.0.0",eg=Zp,Zc=1e4,Sx=1e3,Ex=100;var Ga;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ga||(Ga={}));var st;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(st||(st={}));var on;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(on||(on={}));var Jc;(function(s){s.websocket="websocket"})(Jc||(Jc={}));var Va;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Va||(Va={}));class jx{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let i=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,i,o,u;const d=n.topic,m=(r=n.ref)!==null&&r!==void 0?r:"",h=(i=n.join_ref)!==null&&i!==void 0?i:"",g=n.payload.event,y=(u=(o=n.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:new ArrayBuffer(0),_=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+m.length+d.length+g.length,S=new ArrayBuffer(this.HEADER_LENGTH+_);let E=new DataView(S),O=0;E.setUint8(O++,this.KINDS.userBroadcastPush),E.setUint8(O++,h.length),E.setUint8(O++,m.length),E.setUint8(O++,d.length),E.setUint8(O++,g.length),E.setUint8(O++,this.BINARY_ENCODING),Array.from(h,A=>E.setUint8(O++,A.charCodeAt(0))),Array.from(m,A=>E.setUint8(O++,A.charCodeAt(0))),Array.from(d,A=>E.setUint8(O++,A.charCodeAt(0))),Array.from(g,A=>E.setUint8(O++,A.charCodeAt(0)));var R=new Uint8Array(S.byteLength+y.byteLength);return R.set(new Uint8Array(S),0),R.set(new Uint8Array(y),S.byteLength),R.buffer}_encodeJsonUserBroadcastPush(n){var r,i,o,u;const d=n.topic,m=(r=n.ref)!==null&&r!==void 0?r:"",h=(i=n.join_ref)!==null&&i!==void 0?i:"",g=n.payload.event,y=(u=(o=n.payload)===null||o===void 0?void 0:o.payload)!==null&&u!==void 0?u:{},S=new TextEncoder().encode(JSON.stringify(y)).buffer,E=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+m.length+d.length+g.length,O=new ArrayBuffer(this.HEADER_LENGTH+E);let R=new DataView(O),A=0;R.setUint8(A++,this.KINDS.userBroadcastPush),R.setUint8(A++,h.length),R.setUint8(A++,m.length),R.setUint8(A++,d.length),R.setUint8(A++,g.length),R.setUint8(A++,this.JSON_ENCODING),Array.from(h,N=>R.setUint8(A++,N.charCodeAt(0))),Array.from(m,N=>R.setUint8(A++,N.charCodeAt(0))),Array.from(d,N=>R.setUint8(A++,N.charCodeAt(0))),Array.from(g,N=>R.setUint8(A++,N.charCodeAt(0)));var $=new Uint8Array(O.byteLength+S.byteLength);return $.set(new Uint8Array(O),0),$.set(new Uint8Array(S),O.byteLength),$.buffer}decode(n,r){if(this._isArrayBuffer(n)){let i=this._binaryDecode(n);return r(i)}if(typeof n=="string"){const i=JSON.parse(n),[o,u,d,m,h]=i;return r({join_ref:o,ref:u,topic:d,event:m,payload:h})}return r({})}_binaryDecode(n){const r=new DataView(n),i=r.getUint8(0),o=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,o)}}_decodeUserBroadcast(n,r,i){const o=r.getUint8(1),u=r.getUint8(2),d=r.getUint8(3),m=r.getUint8(4);let h=this.HEADER_LENGTH+4;const g=i.decode(n.slice(h,h+o));h=h+o;const y=i.decode(n.slice(h,h+u));h=h+u;const _=i.decode(n.slice(h,h+d));h=h+d;const S=n.slice(h,n.byteLength),E=m===this.JSON_ENCODING?JSON.parse(i.decode(S)):S,O={type:this.BROADCAST_EVENT,event:y,payload:E};return d>0&&(O.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class Jp{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Ie||(Ie={}));const tg=(s,n,r={})=>{var i;const o=(i=r.skipTypes)!==null&&i!==void 0?i:[];return n?Object.keys(n).reduce((u,d)=>(u[d]=Ox(d,s,n,o),u),{}):{}},Ox=(s,n,r,i)=>{const o=n.find(m=>m.name===s),u=o?.type,d=r[s];return u&&!i.includes(u)?Qp(u,d):Qc(d)},Qp=(s,n)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return Nx(n,r)}switch(s){case Ie.bool:return Ax(n);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return Tx(n);case Ie.json:case Ie.jsonb:return Rx(n);case Ie.timestamp:return Cx(n);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return Qc(n);default:return Qc(n)}},Qc=s=>s,Ax=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Tx=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},Rx=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(n){return console.log(`JSON parse error: ${n}`),s}return s},Nx=(s,n)=>{if(typeof s!="string")return s;const r=s.length-1,i=s[r];if(s[0]==="{"&&i==="}"){let u;const d=s.slice(1,r);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(m=>Qp(n,m))}return s},Cx=s=>typeof s=="string"?s.replace(" ","T"):s,Xp=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Cc{constructor(n,r,i={},o=Zc){this.channel=n,this.event=r,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var i;return this._hasReceived(n)&&r((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(i=>i.status===n).forEach(i=>i.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var ng;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(ng||(ng={}));class Ks{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ks.syncState(this.state,o,u,d),this.pendingDiffs.forEach(h=>{this.state=Ks.syncDiff(this.state,h,u,d)}),this.pendingDiffs=[],m()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ks.syncDiff(this.state,o,u,d),m())}),this.onJoin((o,u,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:d})}),this.onLeave((o,u,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,i,o){const u=this.cloneDeep(n),d=this.transformState(r),m={},h={};return this.map(u,(g,y)=>{d[g]||(h[g]=y)}),this.map(d,(g,y)=>{const _=u[g];if(_){const S=y.map(A=>A.presence_ref),E=_.map(A=>A.presence_ref),O=y.filter(A=>E.indexOf(A.presence_ref)<0),R=_.filter(A=>S.indexOf(A.presence_ref)<0);O.length>0&&(m[g]=O),R.length>0&&(h[g]=R)}else m[g]=y}),this.syncDiff(u,{joins:m,leaves:h},i,o)}static syncDiff(n,r,i,o){const{joins:u,leaves:d}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(m,h)=>{var g;const y=(g=n[m])!==null&&g!==void 0?g:[];if(n[m]=this.cloneDeep(h),y.length>0){const _=n[m].map(E=>E.presence_ref),S=y.filter(E=>_.indexOf(E.presence_ref)<0);n[m].unshift(...S)}i(m,y,h)}),this.map(d,(m,h)=>{let g=n[m];if(!g)return;const y=h.map(_=>_.presence_ref);g=g.filter(_=>y.indexOf(_.presence_ref)<0),n[m]=g,o(m,g,h),g.length===0&&delete n[m]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(i=>r(i,n[i]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,i)=>{const o=n[i];return"metas"in o?r[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):r[i]=o,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ag;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(ag||(ag={}));var Zs;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Zs||(Zs={}));var zn;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(zn||(zn={}));class gd{constructor(n,r={config:{}},i){var o,u;if(this.topic=n,this.params=r,this.socket=i,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Cc(this,on.join,this.params,this.timeout),this.rejoinTimer=new Jp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(on.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new Ks(this),this.broadcastEndpointURL=Xp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:d,presence:m,private:h}}=this.params,g=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(E=>E.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[Zs.PRESENCE]&&this.bindings[Zs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,_={},S={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:y}),postgres_changes:g,private:h};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(zn.CHANNEL_ERROR,E)),this._onClose(()=>n?.(zn.CLOSED)),this.updateJoinPayload(Object.assign({config:S},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var O;if(this.socket.setAuth(),E===void 0){n?.(zn.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,A=(O=R?.length)!==null&&O!==void 0?O:0,$=[];for(let N=0;N<A;N++){const C=R[N],{filter:{event:K,schema:W,table:te,filter:X}}=C,xe=E&&E[N];if(xe&&xe.event===K&&xe.schema===W&&xe.table===te&&xe.filter===X)$.push(Object.assign(Object.assign({},C),{id:xe.id}));else{this.unsubscribe(),this.state=st.errored,n?.(zn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=$,n&&n(zn.SUBSCRIBED);return}}).receive("error",E=>{this.state=st.errored,n?.(zn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(zn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,i){return this.state===st.joined&&n===Zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(n,r,i)}async httpSend(n,r,i={}){var o;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let h=m.statusText;try{const g=await m.json();h=g.error||g.message||h}catch{}return Promise.reject(new Error(h))}async send(n,r={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=n,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,m,h;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((h=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),g.receive("ok",()=>u("ok")),g.receive("error",()=>u("error")),g.receive("timeout",()=>u("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(on.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Cc(this,on.leave,{},n),i.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(n,r,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),d=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(u),d}_push(n,r,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Cc(this,n,r,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Ex){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,i){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,i){var o,u;const d=n.toLocaleLowerCase(),{close:m,error:h,leave:g,join:y}=on;if(i&&[m,h,g,y].indexOf(d)>=0&&i!==this._joinRef())return;let S=this._onMessage(d,r,i);if(r&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var O,R,A;return((O=E.filter)===null||O===void 0?void 0:O.event)==="*"||((A=(R=E.filter)===null||R===void 0?void 0:R.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===d}).map(E=>E.callback(S,i)):(u=this.bindings[d])===null||u===void 0||u.filter(E=>{var O,R,A,$,N,C;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const K=E.id,W=(O=E.filter)===null||O===void 0?void 0:O.event;return K&&((R=r.ids)===null||R===void 0?void 0:R.includes(K))&&(W==="*"||W?.toLocaleLowerCase()===((A=r.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const K=(N=($=E?.filter)===null||$===void 0?void 0:$.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return K==="*"||K===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof S=="object"&&"ids"in S){const O=S.data,{schema:R,table:A,commit_timestamp:$,type:N,errors:C}=O;S=Object.assign(Object.assign({},{schema:R,table:A,commit_timestamp:$,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(O))}E.callback(S,i)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,i){const o=n.toLocaleLowerCase(),u={type:o,filter:r,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(n,r){const i=n.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&gd.isEqual(o.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const i in n)if(n[i]!==r[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(on.close,{},n)}_onError(n){this._on(on.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=tg(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=tg(n.columns,n.old_record)),r}}const kc=()=>{},Ll={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},kx=[1e3,2e3,5e3,1e4],Mx=1e4,Dx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ux{constructor(n,r){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zc,this.transport=null,this.heartbeatIntervalMs=Ll.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kc,this.ref=0,this.reconnectTimer=null,this.vsn=eg,this.logger=kc,this.conn=null,this.sendBuffer=[],this.serializer=new jx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((i=r?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${Jc.websocket}`,this.httpEndpoint=Xp(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=bx.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,i){this.logger(n,r,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Ga.connecting:return Va.Connecting;case Ga.open:return Va.Open;case Ga.closing:return Va.Closing;default:return Va.Closed}}isConnected(){return this.connectionState()===Va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const i=`realtime:${n}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new gd(`realtime:${n}`,r,this);return this.channels.push(u),u}}push(n){const{topic:r,event:i,payload:o,ref:u}=n,d=()=>{this.encode(n,m=>{var h;(h=this.conn)===null||h===void 0||h.send(m)})};this.log("push",`${r} ${i} (${u})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Sx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ll.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(i=>i.topic===n&&(i._isJoined()||i._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:u,ref:d}=r,m=d?`(${d})`:"",h=u.status||"";this.log("receive",`${h} ${i} ${o} ${m}`.trim(),u),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(o,u,d)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ga.open||this.conn.readyState===Ga.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(on.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const i=n.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${n}${i}${o}`}_workerObjectUrl(n){let r;if(n)r=n;else{const i=new Blob([Dx],{type:"application/javascript"});r=URL.createObjectURL(i)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r;n?r=n:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const o={access_token:r,version:_x};r&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(on.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(i=>{try{i(r)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(i){this.log("error",`error triggering ${n} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Jp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ll.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,i,o,u,d,m,h,g,y,_,S,E;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(i=n?.timeout)!==null&&i!==void 0?i:Zc,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ll.HEARTBEAT_INTERVAL,this.worker=(u=n?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=n?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=n?.heartbeatCallback)!==null&&m!==void 0?m:kc,this.vsn=(h=n?.vsn)!==null&&h!==void 0?h:eg,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(O=>kx[O-1]||Mx),this.vsn){case Zp:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((O,R)=>R(JSON.stringify(O))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((O,R)=>R(JSON.parse(O)));break;case xx:this.encode=(S=n?.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(E=n?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}class pd extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}}function Pe(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class Lx extends pd{constructor(n,r,i){super(n),this.name="StorageApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Xc extends pd{constructor(n,r){super(n),this.name="StorageUnknownError",this.originalError=r}}const vd=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),zx=()=>Response,Fc=s=>{if(Array.isArray(s))return s.map(r=>Fc(r));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([r,i])=>{const o=r.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));n[o]=Fc(i)}),n},Bx=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Mc=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},Hx=(s,n,r)=>ie(void 0,void 0,void 0,function*(){const i=yield zx();s instanceof i&&!r?.noResolveJson?s.json().then(o=>{const u=s.status||500,d=o?.statusCode||u+"";n(new Lx(Mc(o),u,d))}).catch(o=>{n(new Xc(Mc(o),o))}):n(new Xc(Mc(s),s))}),$x=(s,n,r,i)=>{const o={method:s,headers:n?.headers||{}};return s==="GET"||!i?o:(Bx(i)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(i)):o.body=i,n?.duplex&&(o.duplex=n.duplex),Object.assign(Object.assign({},o),r))};function oi(s,n,r,i,o,u){return ie(this,void 0,void 0,function*(){return new Promise((d,m)=>{s(r,$x(n,i,o,u)).then(h=>{if(!h.ok)throw h;return i?.noResolveJson?h:h.json()}).then(h=>d(h)).catch(h=>Hx(h,m,i))})})}function Ws(s,n,r,i){return ie(this,void 0,void 0,function*(){return oi(s,"GET",n,r,i)})}function ln(s,n,r,i,o){return ie(this,void 0,void 0,function*(){return oi(s,"POST",n,i,o,r)})}function Wc(s,n,r,i,o){return ie(this,void 0,void 0,function*(){return oi(s,"PUT",n,i,o,r)})}function qx(s,n,r,i){return ie(this,void 0,void 0,function*(){return oi(s,"HEAD",n,Object.assign(Object.assign({},r),{noResolveJson:!0}),i)})}function yd(s,n,r,i,o){return ie(this,void 0,void 0,function*(){return oi(s,"DELETE",n,i,o,r)})}class Ix{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r}then(n,r){return this.execute().then(n,r)}execute(){return ie(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}var Fp;class Gx{constructor(n,r){this.downloadFn=n,this.shouldThrowOnError=r,this[Fp]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ix(this.downloadFn,this.shouldThrowOnError)}then(n,r){return this.getPromise().then(n,r)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return ie(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pe(n))return{data:null,error:n};throw n}})}}Fp=Symbol.toStringTag;const Vx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},rg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Yx{constructor(n,r={},i,o){this.shouldThrowOnError=!1,this.url=n,this.headers=r,this.bucketId=i,this.fetch=vd(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(n,r,i,o){return ie(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},rg),o);let m=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const h=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),h&&u.append("metadata",this.encodeMetadata(h)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),h&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(h))):(u=i,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,h&&(m["x-metadata"]=this.toBase64(this.encodeMetadata(h))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),o?.headers&&(m=Object.assign(Object.assign({},m),o.headers));const g=this._removeEmptyFolders(r),y=this._getFinalPath(g),_=yield(n=="PUT"?Wc:ln)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:m},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:_.Id,fullPath:_.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Pe(u))return{data:null,error:u};throw u}})}upload(n,r,i){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,r,i)})}uploadToSignedUrl(n,r,i,o){return ie(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),m=new URL(this.url+`/object/upload/sign/${d}`);m.searchParams.set("token",r);try{let h;const g=Object.assign({upsert:rg.upsert},o),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",g.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",g.cacheControl)):(h=i,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType);const _=yield Wc(this.fetch,m.toString(),h,{headers:y});return{data:{path:u,fullPath:_.Key},error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Pe(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(n,r){return ie(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n);const o=Object.assign({},this.headers);r?.upsert&&(o["x-upsert"]="true");const u=yield ln(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),d=new URL(this.url+u.url),m=d.searchParams.get("token");if(!m)throw new pd("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:m},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}update(n,r,i){return ie(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,r,i)})}move(n,r,i){return ie(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}copy(n,r,i){return ie(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:r,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrl(n,r,i){return ie(this,void 0,void 0,function*(){try{let o=this._getFinalPath(n),u=yield ln(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:r},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}createSignedUrls(n,r,i){return ie(this,void 0,void 0,function*(){try{const o=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:n},{headers:this.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}download(n,r){const o=typeof r?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(r?.transform||{}),d=u?`?${u}`:"",m=this._getFinalPath(n),h=()=>Ws(this.fetch,`${this.url}/${o}/${m}${d}`,{headers:this.headers,noResolveJson:!0});return new Gx(h,this.shouldThrowOnError)}info(n){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{const i=yield Ws(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Fc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}exists(n){return ie(this,void 0,void 0,function*(){const r=this._getFinalPath(n);try{return yield qx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i)&&i instanceof Xc){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(n,r){const i=this._getFinalPath(n),o=[],u=r?.download?`download=${r.download===!0?"":r.download}`:"";u!==""&&o.push(u);const m=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&o.push(h);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${m}/public/${i}${g}`)}}}remove(n){return ie(this,void 0,void 0,function*(){try{return{data:yield yd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}list(n,r,i){return ie(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},Vx),r),{prefix:n||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}listV2(n,r){return ie(this,void 0,void 0,function*(){try{const i=Object.assign({},n);return{data:yield ln(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const r=[];return n.width&&r.push(`width=${n.width}`),n.height&&r.push(`height=${n.height}`),n.resize&&r.push(`resize=${n.resize}`),n.format&&r.push(`format=${n.format}`),n.quality&&r.push(`quality=${n.quality}`),r.join("&")}}const Wp="2.84.0",ev={"X-Client-Info":`storage-js/${Wp}`};class Px{constructor(n,r={},i,o){this.shouldThrowOnError=!1;const u=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ev),r),this.fetch=vd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(n){return ie(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(n);return{data:yield Ws(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}getBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield Ws(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}createBucket(n){return ie(this,arguments,void 0,function*(r,i={public:!1}){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Pe(o))return{data:null,error:o};throw o}})}updateBucket(n,r){return ie(this,void 0,void 0,function*(){try{return{data:yield Wc(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Pe(i))return{data:null,error:i};throw i}})}emptyBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield yd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(n){const r={};return n&&("limit"in n&&(r.limit=String(n.limit)),"offset"in n&&(r.offset=String(n.offset)),n.search&&(r.search=n.search),n.sortColumn&&(r.sortColumn=n.sortColumn),n.sortOrder&&(r.sortOrder=n.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class Kx{constructor(n,r={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ev),r),this.fetch=vd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{name:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}listBuckets(n){return ie(this,void 0,void 0,function*(){try{const r=new URLSearchParams;n?.limit!==void 0&&r.set("limit",n.limit.toString()),n?.offset!==void 0&&r.set("offset",n.offset.toString()),n?.sortColumn&&r.set("sortColumn",n.sortColumn),n?.sortOrder&&r.set("sortOrder",n.sortOrder),n?.search&&r.set("search",n.search);const i=r.toString(),o=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ws(this.fetch,o,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield yd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pe(r))return{data:null,error:r};throw r}})}}const bd={"X-Client-Info":`storage-js/${Wp}`,"Content-Type":"application/json"};class tv extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function It(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class Dc extends tv{constructor(n,r,i){super(n),this.name="StorageVectorsApiError",this.status=r,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zx extends tv{constructor(n,r){super(n),this.name="StorageVectorsUnknownError",this.originalError=r}}var sg;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(sg||(sg={}));const wd=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),Jx=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},ig=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Qx=(s,n,r)=>ie(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!r?.noResolveJson){const o=s.status||500,u=s;if(typeof u.json=="function")u.json().then(d=>{const m=d?.statusCode||d?.code||o+"";n(new Dc(ig(d),o,m))}).catch(()=>{const d=o+"",m=u.statusText||`HTTP ${o} error`;n(new Dc(m,o,d))});else{const d=o+"",m=u.statusText||`HTTP ${o} error`;n(new Dc(m,o,d))}}else n(new Zx(ig(s),s))}),Xx=(s,n,r,i)=>{const o={method:s,headers:n?.headers||{}};return i?(Jx(i)?(o.headers=Object.assign({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(i)):o.body=i,Object.assign(Object.assign({},o),r)):o};function Fx(s,n,r,i,o,u){return ie(this,void 0,void 0,function*(){return new Promise((d,m)=>{s(r,Xx(n,i,o,u)).then(h=>{if(!h.ok)throw h;if(i?.noResolveJson)return h;const g=h.headers.get("content-type");return!g||!g.includes("application/json")?{}:h.json()}).then(h=>d(h)).catch(h=>Qx(h,m,i))})})}function Gt(s,n,r,i,o){return ie(this,void 0,void 0,function*(){return Fx(s,"POST",n,i,o,r)})}class Wx{constructor(n,r={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=wd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(n){return ie(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/CreateIndex`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}getIndex(n,r){return ie(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:n,indexName:r},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}listIndexes(n){return ie(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/ListIndexes`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}deleteIndex(n,r){return ie(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:n,indexName:r},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}})}}class e2{constructor(n,r={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=wd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(n){return ie(this,void 0,void 0,function*(){try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Gt(this.fetch,`${this.url}/PutVectors`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}getVectors(n){return ie(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}listVectors(n){return ie(this,void 0,void 0,function*(){try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:yield Gt(this.fetch,`${this.url}/ListVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}queryVectors(n){return ie(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/QueryVectors`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}deleteVectors(n){return ie(this,void 0,void 0,function*(){try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Gt(this.fetch,`${this.url}/DeleteVectors`,n,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}}class t2{constructor(n,r={},i){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},bd),r),this.fetch=wd(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}getBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:yield Gt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}listBuckets(){return ie(this,arguments,void 0,function*(n={}){try{return{data:yield Gt(this.fetch,`${this.url}/ListVectorBuckets`,n,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}deleteBucket(n){return ie(this,void 0,void 0,function*(){try{return{data:(yield Gt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(It(r))return{data:null,error:r};throw r}})}}class n2 extends t2{constructor(n,r={}){super(n,r.headers||{},r.fetch)}from(n){return new a2(this.url,this.headers,n,this.fetch)}}class a2 extends Wx{constructor(n,r,i,o){super(n,r,o),this.vectorBucketName=i}createIndex(n){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return ie(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const n=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return ie(this,arguments,void 0,function*(r={}){return n.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(n){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return ie(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,n)})}deleteIndex(n){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return ie(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,n)})}index(n){return new r2(this.url,this.headers,this.vectorBucketName,n,this.fetch)}}class r2 extends e2{constructor(n,r,i,o,u){super(n,r,u),this.vectorBucketName=i,this.indexName=o}putVectors(n){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return ie(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(n){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return ie(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const n=Object.create(null,{listVectors:{get:()=>super.listVectors}});return ie(this,arguments,void 0,function*(r={}){return n.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(n){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return ie(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(n){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return ie(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class s2 extends Px{constructor(n,r={},i,o){super(n,r,i,o)}from(n){return new Yx(this.url,this.headers,n,this.fetch)}get vectors(){return new n2(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Kx(this.url+"/iceberg",this.headers,this.fetch)}}const i2="2.84.0";let Ys="";typeof Deno<"u"?Ys="deno":typeof document<"u"?Ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ys="react-native":Ys="node";const l2={"X-Client-Info":`supabase-js-${Ys}/${i2}`},o2={headers:l2},u2={schema:"public"},c2={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d2={},f2=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),h2=()=>Headers,m2=(s,n,r)=>{const i=f2(r),o=h2();return async(u,d)=>{var m;const h=(m=await n())!==null&&m!==void 0?m:s;let g=new o(d?.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${h}`),i(u,Object.assign(Object.assign({},d),{headers:g}))}};function g2(s){return s.endsWith("/")?s:s+"/"}function p2(s,n){var r,i;const{db:o,auth:u,realtime:d,global:m}=s,{db:h,auth:g,realtime:y,global:_}=n,S={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},g),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},_),m),{headers:Object.assign(Object.assign({},(r=_?.headers)!==null&&r!==void 0?r:{}),(i=m?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return s.accessToken?S.accessToken=s.accessToken:delete S.accessToken,S}function v2(s){const n=s?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(g2(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const nv="2.84.0",Hr=30*1e3,ed=3,Uc=ed*Hr,y2="http://localhost:9999",b2="supabase.auth.token",w2={"X-Client-Info":`gotrue-js/${nv}`},td="X-Supabase-Api-Version",av={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_2=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,x2=600*1e3;class ei extends Error{constructor(n,r,i){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=i}}function oe(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class S2 extends ei{constructor(n,r,i){super(n,r,i),this.name="AuthApiError",this.status=r,this.code=i}}function E2(s){return oe(s)&&s.name==="AuthApiError"}class Ya extends ei{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class wa extends ei{constructor(n,r,i,o){super(n,i,o),this.name=r,this.status=i}}class qt extends wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function j2(s){return oe(s)&&s.name==="AuthSessionMissingError"}class Mr extends wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zl extends wa{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class Bl extends wa{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function O2(s){return oe(s)&&s.name==="AuthImplicitGrantRedirectError"}class lg extends wa{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nd extends wa{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Lc(s){return oe(s)&&s.name==="AuthRetryableFetchError"}class og extends wa{constructor(n,r,i){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=i}}class ad extends wa{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ug=` 	
\r=`.split(""),A2=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<ug.length;n+=1)s[ug[n].charCodeAt(0)]=-2;for(let n=0;n<Jl.length;n+=1)s[Jl[n].charCodeAt(0)]=n;return s})();function cg(s,n,r){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Jl[i]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const i=n.queue>>n.queuedBits-6&63;r(Jl[i]),n.queuedBits-=6}}function rv(s,n,r){const i=A2[s];if(i>-1)for(n.queue=n.queue<<6|i,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function dg(s){const n=[],r=d=>{n.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=d=>{N2(d,i,r)};for(let d=0;d<s.length;d+=1)rv(s.charCodeAt(d),o,u);return n.join("")}function T2(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function R2(s,n){for(let r=0;r<s.length;r+=1){let i=s.charCodeAt(r);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(s.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}T2(i,n)}}function N2(s,n,r){if(n.utf8seq===0){if(s<=127){r(s);return}for(let i=1;i<6;i+=1)if((s>>7-i&1)===0){n.utf8seq=i;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function qr(s){const n=[],r={queue:0,queuedBits:0},i=o=>{n.push(o)};for(let o=0;o<s.length;o+=1)rv(s.charCodeAt(o),r,i);return new Uint8Array(n)}function C2(s){const n=[];return R2(s,r=>n.push(r)),new Uint8Array(n)}function Pa(s){const n=[],r={queue:0,queuedBits:0},i=o=>{n.push(o)};return s.forEach(o=>cg(o,r,i)),cg(null,r,i),n.join("")}function k2(s){return Math.round(Date.now()/1e3)+s}function M2(){return Symbol("auth-callback")}const gt=()=>typeof window<"u"&&typeof document<"u",$a={tested:!1,writable:!1},sv=()=>{if(!gt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if($a.tested)return $a.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),$a.tested=!0,$a.writable=!0}catch{$a.tested=!0,$a.writable=!1}return $a.writable};function D2(s){const n={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,u)=>{n[u]=o})}catch{}return r.searchParams.forEach((i,o)=>{n[o]=i}),n}const iv=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),U2=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",$r=async(s,n,r)=>{await s.setItem(n,JSON.stringify(r))},qa=async(s,n)=>{const r=await s.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fa=async(s,n)=>{await s.removeItem(n)};class ao{constructor(){this.promise=new ao.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}ao.promiseConstructor=Promise;function zc(s){const n=s.split(".");if(n.length!==3)throw new ad("Invalid JWT structure");for(let i=0;i<n.length;i++)if(!_2.test(n[i]))throw new ad("JWT not in base64url format");return{header:JSON.parse(dg(n[0])),payload:JSON.parse(dg(n[1])),signature:qr(n[2]),raw:{header:n[0],payload:n[1]}}}async function L2(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function z2(s,n){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await s(u);if(!n(u,null,d)){i(d);return}}catch(d){if(!n(u,d)){o(d);return}}})()})}function B2(s){return("0"+s.toString(16)).substr(-2)}function H2(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=r.length;let o="";for(let u=0;u<56;u++)o+=r.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(n),Array.from(n,B2).join("")}async function $2(s){const r=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function q2(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await $2(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dr(s,n,r=!1){const i=H2();let o=i;r&&(o+="/PASSWORD_RECOVERY"),await $r(s,`${n}-code-verifier`,o);const u=await q2(i);return[u,i===u?"plain":"s256"]}const I2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G2(s){const n=s.headers.get(td);if(!n||!n.match(I2))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function V2(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function Y2(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const P2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ur(s){if(!P2.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Bc(){const s={};return new Proxy(s,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function K2(s,n){return new Proxy(s,{get:(r,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,i,o)}return!n.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,i,o)}})}function fg(s){return JSON.parse(JSON.stringify(s))}const Ia=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Z2=[502,503,504];async function hg(s){var n;if(!U2(s))throw new nd(Ia(s),0);if(Z2.includes(s.status))throw new nd(Ia(s),s.status);let r;try{r=await s.json()}catch(u){throw new Ya(Ia(u),u)}let i;const o=G2(s);if(o&&o.getTime()>=av["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?i=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(i=r.error_code),i){if(i==="weak_password")throw new og(Ia(r),s.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(i==="session_not_found")throw new qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new og(Ia(r),s.status,r.weak_password.reasons);throw new S2(Ia(r),s.status||500,i)}const J2=(s,n,r,i)=>{const o={method:s,headers:n?.headers||{}};return s==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),r))};async function he(s,n,r,i){var o;const u=Object.assign({},i?.headers);u[td]||(u[td]=av["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",h=await Q2(s,n,r+m,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(h):{data:Object.assign({},h),error:null}}async function Q2(s,n,r,i,o,u){const d=J2(n,i,o,u);let m;try{m=await s(r,Object.assign({},d))}catch(h){throw console.error(h),new nd(Ia(h),0)}if(m.ok||await hg(m),i?.noResolveJson)return m;try{return await m.json()}catch(h){await hg(h)}}function sn(s){var n;let r=null;W2(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=k2(s.expires_in)));const i=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:r,user:i},error:null}}function mg(s){const n=sn(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0)&&(n.data.weak_password=s.weak_password),n}function ga(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function X2(s){return{data:s,error:null}}function F2(s){const{action_link:n,email_otp:r,hashed_token:i,redirect_to:o,verification_type:u}=s,d=Yr(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:n,email_otp:r,hashed_token:i,redirect_to:o,verification_type:u},h=Object.assign({},d);return{data:{properties:m,user:h},error:null}}function gg(s){return s}function W2(s){return s.access_token&&s.refresh_token&&s.expires_in}const Hc=["global","local","others"];class eS{constructor({url:n="",headers:r={},fetch:i}){this.url=n,this.headers=r,this.fetch=iv(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=Hc[0]){if(Hc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hc.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(oe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(n,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ga})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async generateLink(n){try{const{options:r}=n,i=Yr(n,["options"]),o=Object.assign(Object.assign({},i),r);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:F2,redirectTo:r?.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ga})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,i,o,u,d,m,h;try{const g={nextPage:null,lastPage:0,total:0},y=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:gg});if(y.error)throw y.error;const _=await y.json(),S=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(h=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(O.split(";")[1].split("=")[1]);g[`${A}Page`]=R}),g.total=parseInt(S)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(oe(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){Ur(n);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ga})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){Ur(n);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:ga})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async deleteUser(n,r=!1){Ur(n);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:ga})}catch(i){if(oe(i))return{data:{user:null},error:i};throw i}}async _listFactors(n){Ur(n.userId);try{const{data:r,error:i}=await he(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:i}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(n){Ur(n.userId),Ur(n.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,i,o,u,d,m,h;try{const g={nextPage:null,lastPage:0,total:0},y=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:gg});if(y.error)throw y.error;const _=await y.json(),S=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(h=(m=y.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&h!==void 0?h:[];return E.length>0&&(E.forEach(O=>{const R=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(O.split(";")[1].split("=")[1]);g[`${A}Page`]=R}),g.total=parseInt(S)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(oe(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(n){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function pg(s={}){return{getItem:n=>s[n]||null,setItem:(n,r)=>{s[n]=r},removeItem:n=>{delete s[n]}}}const Lr={debug:!!(globalThis&&sv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lv extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class tS extends lv{}async function nS(s,n,r){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const i=new globalThis.AbortController;return n>0&&setTimeout(()=>{i.abort(),Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,o.name);try{return await r()}finally{Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,o.name)}}else{if(n===0)throw Lr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new tS(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Lr.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function aS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ov(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function rS(s){return parseInt(s,16)}function sS(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,i=>i.toString(16).padStart(2,"0")).join("")}function iS(s){var n;const{chainId:r,domain:i,expirationTime:o,issuedAt:u=new Date,nonce:d,notBefore:m,requestId:h,resources:g,scheme:y,uri:_,version:S}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const E=ov(s.address),O=y?`${y}://${i}`:i,R=s.statement?`${s.statement}
`:"",A=`${O} wants you to sign in with your Ethereum account:
${E}

${R}`;let $=`URI: ${_}
Version: ${S}
Chain ID: ${r}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(o&&($+=`
Expiration Time: ${o.toISOString()}`),m&&($+=`
Not Before: ${m.toISOString()}`),h&&($+=`
Request ID: ${h}`),g){let N=`
Resources:`;for(const C of g){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);N+=`
- ${C}`}$+=N}return`${A}
${$}`}class at extends Error{constructor({message:n,code:r,cause:i,name:o}){var u;super(n,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=o??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=r}}class Ql extends at{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function lS({error:s,options:n}){var r,i,o;const{publicKey:u}=n;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=u.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new at({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const d=window.location.hostname;if(uv(d)){if(u.rp.id!==d)return new at({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function oS({error:s,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new at({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const i=window.location.hostname;if(uv(i)){if(r.rpId!==i)return new at({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class uS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const cS=new uS;function dS(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:r,excludeCredentials:i}=s,o=Yr(s,["challenge","user","excludeCredentials"]),u=qr(n).buffer,d=Object.assign(Object.assign({},r),{id:qr(r.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:u,user:d});if(i&&i.length>0){m.excludeCredentials=new Array(i.length);for(let h=0;h<i.length;h++){const g=i[h];m.excludeCredentials[h]=Object.assign(Object.assign({},g),{id:qr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function fS(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:r}=s,i=Yr(s,["challenge","allowCredentials"]),o=qr(n).buffer,u=Object.assign(Object.assign({},i),{challenge:o});if(r&&r.length>0){u.allowCredentials=new Array(r.length);for(let d=0;d<r.length;d++){const m=r[d];u.allowCredentials[d]=Object.assign(Object.assign({},m),{id:qr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return u}function hS(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Pa(new Uint8Array(s.response.attestationObject)),clientDataJSON:Pa(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function mS(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,i=s.getClientExtensionResults(),o=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Pa(new Uint8Array(o.authenticatorData)),clientDataJSON:Pa(new Uint8Array(o.clientDataJSON)),signature:Pa(new Uint8Array(o.signature)),userHandle:o.userHandle?Pa(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function uv(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function vg(){var s,n;return!!(gt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function gS(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ql("Browser returned unexpected credential type",n)}:{data:null,error:new Ql("Empty credential response",n)}}catch(n){return{data:null,error:lS({error:n,options:s})}}}async function pS(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new Ql("Browser returned unexpected credential type",n)}:{data:null,error:new Ql("Empty credential response",n)}}catch(n){return{data:null,error:oS({error:n,options:s})}}}const vS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Xl(...s){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of s)if(o)for(const u in o){const d=o[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(r(d))i[u]=d;else if(n(d)){const m=i[u];n(m)?i[u]=Xl(m,d):i[u]=Xl(d)}else i[u]=d}return i}function bS(s,n){return Xl(vS,s,n||{})}function wS(s,n){return Xl(yS,s,n||{})}class _S{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:i,signal:o},u){try{const{data:d,error:m}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!d)return{data:null,error:m};const h=o??cS.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:g}=d.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(d.webauthn.type){case"create":{const g=bS(d.webauthn.credential_options.publicKey,u?.create),{data:y,error:_}=await gS({publicKey:g,signal:h});return y?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const g=wS(d.webauthn.credential_options.publicKey,u?.request),{data:y,error:_}=await pS(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:g,signal:h}));return y?{data:{factorId:n,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new Ya("Unexpected error in challenge",d)}}}async _verify({challengeId:n,factorId:r,webauthn:i}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:i})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new ei("rpId is required for WebAuthn authentication")};try{if(!vg())return{data:null,error:new Ya("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:i},signal:o},{request:u});if(!d)return{data:null,error:m};const{webauthn:h}=d;return this._verify({factorId:n,challengeId:d.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:i,credential_response:h.credential_response}})}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new Ya("Unexpected error in authenticate",d)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!r)return{data:null,error:new ei("rpId is required for WebAuthn registration")};try{if(!vg())return{data:null,error:new Ya("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:n});if(!d)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===n&&S.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:m};const{data:h,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:r,rpOrigins:i},signal:o},{create:u});return h?this._verify({factorId:d.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:i,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:g}}catch(d){return oe(d)?{data:null,error:d}:{data:null,error:new Ya("Unexpected error in register",d)}}}}aS();const xS={url:y2,storageKey:b2,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:w2,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function yg(s,n,r){return await r()}const zr={};class ti{get jwks(){var n,r;return(r=(n=zr[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){zr[this.storageKey]=Object.assign(Object.assign({},zr[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=zr[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){zr[this.storageKey]=Object.assign(Object.assign({},zr[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},xS),n);if(this.storageKey=u.storageKey,this.instanceID=(r=ti.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ti.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&gt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new eS({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=iv(u.fetch),this.lock=u.lock||yg,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:gt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=nS:this.lock=yg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _S(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:sv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pg(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=pg(this.memoryStorage)),gt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${nv}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(gt()&&(r=D2(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),gt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(r,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),O2(u)){const h=(n=u.details)===null||n===void 0?void 0:n.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?this._returnResult({error:r}):this._returnResult({error:new Ya("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{const u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:sn}),{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const h=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(n){var r,i,o;try{let u;if("email"in n){const{email:y,password:_,options:S}=n;let E=null,O=null;this.flowType==="pkce"&&([E,O]=await Dr(this.storage,this.storageKey)),u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S?.emailRedirectTo,body:{email:y,password:_,data:(r=S?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:S?.captchaToken},code_challenge:E,code_challenge_method:O},xform:sn})}else if("phone"in n){const{phone:y,password:_,options:S}=n;u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(i=S?.data)!==null&&i!==void 0?i:{},channel:(o=S?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:S?.captchaToken}},xform:sn})}else throw new zl("You must provide either an email or phone number and a password");const{data:d,error:m}=u;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const h=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(n){try{let r;if("email"in n){const{email:u,password:d,options:m}=n;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:mg})}else if("phone"in n){const{phone:u,password:d,options:m}=n;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:mg})}else throw new zl("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const u=new Mr;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,o,u;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=n.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,u,d,m,h,g,y,_,S;let E,O;if("message"in n)E=n.message,O=n.signature;else{const{chain:R,wallet:A,statement:$,options:N}=n;let C;if(gt())if(typeof A=="object")C=A;else{const ye=window;if("ethereum"in ye&&typeof ye.ethereum=="object"&&"request"in ye.ethereum&&typeof ye.ethereum.request=="function")C=ye.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=A}const K=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href),W=await C.request({method:"eth_requestAccounts"}).then(ye=>ye).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=ov(W[0]);let X=(i=N?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!X){const ye=await C.request({method:"eth_chainId"});X=rS(ye)}const xe={domain:K.host,address:te,statement:$,uri:K.href,version:"1",chainId:X,nonce:(o=N?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(u=N?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=N?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(h=N?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(g=N?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=N?.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=iS(xe),O=await C.request({method:"personal_sign",params:[sS(E),te]})}try{const{data:R,error:A}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:O},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=n.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:sn});if(A)throw A;if(!R||!R.session||!R.user){const $=new Mr;return this._returnResult({data:{user:null,session:null},error:$})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:A})}catch(R){if(oe(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(n){var r,i,o,u,d,m,h,g,y,_,S,E;let O,R;if("message"in n)O=n.message,R=n.signature;else{const{chain:A,wallet:$,statement:N,options:C}=n;let K;if(gt())if(typeof $=="object")K=$;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))K=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof $!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");K=$}const W=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in K&&K.signIn){const te=await K.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),N?{statement:N}:null));let X;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")X=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)X=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)O=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),R=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in K)||typeof K.signMessage!="function"||!("publicKey"in K)||typeof K!="object"||!K.publicKey||!("toBase58"in K.publicKey)||typeof K.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${W.host} wants you to sign in with your Solana account:`,K.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(o=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=C?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((h=C?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((g=C?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((_=(y=C?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...C.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const te=await K.signMessage(new TextEncoder().encode(O),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=te}}try{const{data:A,error:$}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Pa(R)},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:sn});if($)throw $;if(!A||!A.session||!A.user){const N=new Mr;return this._returnResult({data:{user:null,session:null},error:N})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:$})}catch(A){if(oe(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(n){const r=await qa(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{const{data:u,error:d}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:sn});if(await fa(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const m=new Mr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:d})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(n){try{const{options:r,provider:i,token:o,access_token:u,nonce:d}=n,m=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:sn}),{data:h,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!h||!h.session||!h.user){const y=new Mr;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:g})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,o,u,d;try{if("email"in n){const{email:m,options:h}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await Dr(this.storage,this.storageKey));const{error:_}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(i=h?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:m,options:h}=n,{data:g,error:y}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(u=h?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(d=h?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new zl("You must provide either an email or phone number.")}catch(m){if(oe(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(n){var r,i;try{let o,u;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,u=(i=n.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:m}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:sn});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const h=d.session,g=d.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:g,session:h},error:null})}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,i,o,u,d;try{let m=null,h=null;this.flowType==="pkce"&&([m,h]=await Dr(this.storage,this.storageKey));const g=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:h}),headers:this.headers,xform:X2});return!((u=g.data)===null||u===void 0)&&u.url&&gt()&&!(!((d=n.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(oe(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new qt;const{error:o}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(oe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:i,type:o,options:u}=n,{error:d}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in n){const{phone:i,type:o,options:u}=n,{data:d,error:m}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:m})}throw new zl("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const i=n.expires_at?n.expires_at*1e3-Date.now()<Uc:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){const d=await qa(this.userStorage,this.storageKey+"-user");d?.user?n.user=d.user:n.user=Bc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};n.user=K2(n.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){return n?await this._getUser(n):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(n){try{return n?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ga}):await this._useSession(async r=>{var i,o,u;const{data:d,error:m}=r;if(m)throw m;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:ga})})}catch(r){if(oe(r))return j2(r)&&(await this._removeSession(),await fa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new qt;const d=o.session;let m=null,h=null;this.flowType==="pkce"&&n.email!=null&&([m,h]=await Dr(this.storage,this.storageKey));const{data:g,error:y}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:m,code_challenge_method:h}),jwt:d.access_token,xform:ga});if(y)throw y;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(oe(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new qt;const r=Date.now()/1e3;let i=r,o=!0,u=null;const{payload:d}=zc(n.access_token);if(d.exp&&(i=d.exp,o=i<=r),o){const{data:m,error:h}=await this._callRefreshToken(n.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!m)return{data:{user:null,session:null},error:null};u=m}else{const{data:m,error:h}=await this._getUser(n.access_token);if(h)throw h;u={access_token:n.access_token,refresh_token:n.refresh_token,user:m.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(r){if(oe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){const{data:d,error:m}=r;if(m)throw m;n=(i=d.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new qt;const{data:o,error:u}=await this._callRefreshToken(n.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(oe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!gt())throw new Bl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Bl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new lg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new lg("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(n.code);if(C)throw C;const K=new URL(window.location.href);return K.searchParams.delete("code"),window.history.replaceState(window.history.state,"",K.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:d,expires_in:m,expires_at:h,token_type:g}=n;if(!u||!m||!d||!g)throw new Bl("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(m);let S=y+_;h&&(S=parseInt(h));const E=S-y;E*1e3<=Hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const O=S-_;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,S,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,S,y);const{data:R,error:A}=await this._getUser(u);if(A)throw A;const $={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:_,expires_at:S,refresh_token:d,token_type:g,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:$,redirectType:n.type},error:null})}catch(i){if(oe(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await qa(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u)return this._returnResult({error:u});const d=(i=o.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:m}=await this.admin.signOut(d,n);if(m&&!(E2(m)&&(m.status===404||m.status===401||m.status===403)))return this._returnResult({error:m})}return n!=="others"&&(await this._removeSession(),await fa(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=M2(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{const{data:{session:u},error:d}=r;if(d)throw d;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",n,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",u),console.error(u)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await Dr(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(u){if(oe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var n;try{const{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:i,error:o}=await this._useSession(async u=>{var d,m,h,g,y;const{data:_,error:S}=u;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(d=n.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=n.options)===null||m===void 0?void 0:m.scopes,queryParams:(h=n.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return gt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(oe(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{const{error:o,data:{session:u}}=r;if(o)throw o;const{options:d,provider:m,token:h,access_token:g,nonce:y}=n,_=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:m,id_token:h,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:sn}),{data:S,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Mr}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:E}))}catch(o){if(oe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;const{data:u,error:d}=r;if(d)throw d;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const i=Date.now();return await z2(async o=>(o>0&&await L2(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:sn})),(o,u)=>{const d=200*Math.pow(2,o);return u&&Lc(u)&&Date.now()+d-i<Hr})}catch(i){if(this._debug(r,"error",i),oe(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),gt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await qa(this.storage,this.storageKey);if(o&&this.userStorage){let d=await qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await $r(this.userStorage,this.storageKey+"-user",d)),o.user=(n=d?.user)!==null&&n!==void 0?n:Bc()}else if(o&&!o.user&&!o.user){const d=await qa(this.storage,this.storageKey+"-user");d&&d?.user?(o.user=d.user,await fa(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,o)):o.user=Bc()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Uc;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Uc}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),Lc(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(o.access_token);!m&&d?.user?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ao;const{data:u,error:d}=await this._refreshAccessToken(n);if(d)throw d;if(!u.session)throw new qt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const m={data:u.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(u){if(this._debug(o,"error",u),oe(u)){const d={data:null,error:u};return Lc(u)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(n,r)}catch(h){u.push(h)}});if(await Promise.all(d),u.length>0){for(let m=0;m<u.length;m+=1)console.error(u[m]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0;const r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await $r(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const u=fg(o);await $r(this.storage,this.storageKey,u)}else{const o=fg(r);await $r(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await fa(this.storage,this.storageKey),await fa(this.storage,this.storageKey+"-code-verifier"),await fa(this.storage,this.storageKey+"-user"),this.userStorage&&await fa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&gt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Hr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-n)/Hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Hr}ms, refresh threshold is ${ed} ticks`),o<=ed&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof lv)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){const o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await Dr(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;return u?this._returnResult({data:null,error:u}):await he(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;const{data:u,error:d}=r;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:h,error:g}=await he(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?hS(n.webauthn.credential_response):mS(n.webauthn.credential_response)})}:{code:n.code}),{data:m,error:h}=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:h}))})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var i;const{data:o,error:u}=r;if(u)return this._returnResult({data:null,error:u});const d=await he(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:dS(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:fS(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=zc(i.access_token);let d=null;u.aal&&(d=u.aal);let m=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new qt})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new qt});const d=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&gt()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new qt});const d=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&gt()&&!r?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new qt})})}catch(n){if(oe(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new qt})})}catch(r){if(oe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(m=>m.kid===n);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(m=>m.kid===n),i&&this.jwks_cached_at+x2>o)return i;const{data:u,error:d}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(m=>m.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){const{data:E,error:O}=await this.getSession();if(O||!E.session)return this._returnResult({data:null,error:O});i=E.session.access_token}const{header:o,payload:u,signature:d,raw:{header:m,payload:h}}=zc(i);r?.allowExpired||V2(u.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:E}=await this.getUser(i);if(E)throw E;return{data:{claims:u,header:o,signature:d},error:null}}const y=Y2(o.alg),_=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,d,C2(`${m}.${h}`)))throw new ad("Invalid JWT signature");return{data:{claims:u,header:o,signature:d},error:null}}catch(i){if(oe(i))return this._returnResult({data:null,error:i});throw i}}}ti.nextInstanceID={};const SS=ti;class ES extends SS{constructor(n){super(n)}}class jS{constructor(n,r,i){var o,u,d;this.supabaseUrl=n,this.supabaseKey=r;const m=v2(n);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const h=`sb-${m.hostname.split(".")[0]}-auth-token`,g={db:u2,realtime:d2,auth:Object.assign(Object.assign({},c2),{storageKey:h}),global:o2},y=p2(i??{},g);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(_,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=m2(r,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new yx(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new s2(this.storageUrl.href,this.headers,this.fetch,i?.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new mx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,r={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,r,i)}channel(n,r={config:{}}){return this.realtime.channel(n,r)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n,r;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:u,storageKey:d,flowType:m,lock:h,debug:g,throwOnError:y},_,S){const E={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ES({url:this.authUrl.href,headers:Object.assign(Object.assign({},E),_),storageKey:d,autoRefreshToken:n,persistSession:r,detectSessionInUrl:i,storage:o,userStorage:u,flowType:m,lock:h,debug:g,throwOnError:y,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(O=>O.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Ux(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,i)=>{this._handleTokenChanged(r,"CLIENT",i?.access_token)})}_handleTokenChanged(n,r,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const OS=(s,n,r)=>new jS(s,n,r);function AS(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const n=s.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}AS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TS="https://stwchnopiqcrcbjxtnrf.supabase.co",RS="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN0d2Nobm9waXFjcmNianh0bnJmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM3MTA2ODUsImV4cCI6MjA3OTI4NjY4NX0.uLg3BcYgkvdDEzYalN213unzfPvhA1cZ-yNuApVRRFg",ae=OS(TS,RS,{realtime:{params:{eventsPerSecond:10}}}),pa=s=>{if(!s)return"";const n=s.trim();return/^dr\.?\s+/i.test(n)?n:`Dr. ${n}`},NS=()=>(b.useEffect(()=>{let s,n;return(async()=>{const{data:{user:i}}=await ae.auth.getUser();if(!i)return;const{data:o}=await ae.from("profiles").select("role, full_name").eq("id",i.id).single(),u=h=>{let g=!1,y="New Message";o?.role==="doctor"?h.is_from_user&&h.contact_name===o.full_name&&(g=!0,y="New Patient Message"):h.user_id===i.id&&!h.is_from_user&&(g=!0,y=`New Message from ${["General Practitioner","doctor","Doctor"].includes(h.role)?pa(h.contact_name):h.contact_name}`),g&&Ae(y,{icon:"",duration:5e3,style:{borderRadius:"10px",background:"#333",color:"#fff",cursor:"pointer"}})},d=(h,g)=>{h.status!==g.status&&Ae(`Appointment ${h.status}`,{icon:h.status==="approved"?"":"info",duration:5e3,style:{borderRadius:"10px",background:"#333",color:"#fff"}})},m=async()=>{if(n)return;Ae("Switched to Auto-Refresh Mode",{icon:"",id:"realtime-status"});let h=0;const{data:g}=await ae.from("messages").select("id").order("id",{ascending:!1}).limit(1).single();g&&(h=g.id);let y=new Date().toISOString();n=setInterval(async()=>{const{data:_}=await ae.from("messages").select("*").gt("id",h);if(_&&_.length>0&&(h=_[_.length-1].id,_.forEach(S=>u(S))),o?.role!=="doctor"){const{data:S}=await ae.from("appointments").select("*").eq("user_id",i.id).gt("updated_at",y);S&&S.length>0&&(y=new Date().toISOString(),S.forEach(E=>{Ae(`Appointment Updated: ${E.status}`,{icon:"",duration:5e3,style:{borderRadius:"10px",background:"#333",color:"#fff"}})}))}},5e3)};s=ae.channel("global-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},h=>{u(h.new)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"appointments",filter:`user_id=eq.${i.id}`},h=>{d(h.new,h.old)}).subscribe(h=>{h==="SUBSCRIBED"&&Ae.success("Live Notifications Active",{id:"realtime-status"}),(h==="CHANNEL_ERROR"||h==="TIMED_OUT")&&m()})})(),()=>{s&&ae.removeChannel(s),n&&clearInterval(n)}},[]),null),CS=()=>{const s=vn(),n=ya(),[r,i]=b.useState("patient");b.useEffect(()=>{(async()=>{const{data:{user:g}}=await ae.auth.getUser();g?.user_metadata?.role&&i(g.user_metadata.role)})()},[]);const d=r==="doctor"?[{name:"Dashboard",href:"/doctor-dashboard",icon:H0,activeIcon:G0},{name:"Patients",href:"/doctor-dashboard",icon:gp,activeIcon:lx},{name:"Messages",href:"/messages",icon:B0,activeIcon:I0},{name:"Profile",href:"/profile",icon:Pl,activeIcon:V0}]:[{name:"Dashboard",href:"/dashboard",icon:H0,activeIcon:G0},{name:"Schedule",href:"/appointments",icon:cp,activeIcon:X_},{name:"Records",href:"/records",icon:Fs,activeIcon:ex},{name:"Messages",href:"/messages",icon:B0,activeIcon:I0},{name:"AI Triage",href:"/triage",icon:Ps,activeIcon:ax},{name:"Feedback",href:"/feedback",icon:mp,activeIcon:Vc},{name:"Profile",href:"/profile",icon:Pl,activeIcon:V0}],m=async()=>{await ae.auth.signOut(),s("/")};return p.jsxs("div",{className:"min-h-screen bg-slate-100/50 flex justify-center font-sans",children:[p.jsx(NS,{}),p.jsxs("div",{className:"w-full max-w-md md:max-w-5xl bg-white min-h-screen shadow-2xl shadow-slate-200/50 flex relative overflow-hidden",children:[p.jsxs("div",{className:"hidden md:flex flex-col w-64 border-r border-slate-100 bg-white/50 backdrop-blur-sm p-6 z-10",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-10 px-2",children:[p.jsx("div",{className:`h-8 w-8 rounded-lg bg-gradient-to-br ${r==="doctor"?"from-green-600 to-green-800":"from-primary to-primary-dark"} flex items-center justify-center shadow-md shadow-blue-500/20`,children:p.jsx("span",{className:"text-white font-bold",children:"M"})}),p.jsx("span",{className:"font-bold text-xl text-slate-800 tracking-tight",children:r==="doctor"?"MediLink GP":"MediLink"})]}),p.jsx("nav",{className:"space-y-2 flex-1",children:d.map(h=>{const g=n.pathname===h.href,y=g?h.activeIcon:h.icon;return p.jsxs("button",{onClick:()=>s(h.href),className:`flex w-full items-center px-4 py-3.5 text-sm font-medium rounded-2xl transition-all duration-200 ${g?"bg-primary/10 text-primary shadow-sm":"text-slate-500 hover:bg-slate-50 hover:text-slate-900"}`,children:[p.jsx(y,{className:"h-5 w-5 mr-3"}),h.name]},h.name)})}),p.jsxs("button",{onClick:m,className:"flex items-center px-4 py-3 text-sm font-medium text-slate-400 hover:text-red-500 transition-colors mt-auto group",children:[p.jsx(op,{className:"h-5 w-5 mr-3 group-hover:translate-x-1 transition-transform"}),"Sign Out"]})]}),p.jsx("div",{className:"flex-1 h-screen overflow-y-auto bg-slate-50/50 scroll-smooth relative",children:p.jsx("main",{className:"pb-24 md:pb-10 pt-6 px-4 md:px-10 max-w-3xl mx-auto",children:p.jsx(zw,{})})}),p.jsx("div",{className:"md:hidden fixed bottom-6 left-4 right-4 bg-white/90 backdrop-blur-lg border border-white/20 rounded-2xl shadow-glass z-50 px-2 py-3 flex justify-between items-center overflow-x-auto scrollbar-hide",children:d.map(h=>{const g=n.pathname===h.href,y=g?h.activeIcon:h.icon;return p.jsxs("button",{onClick:()=>s(h.href),className:"relative flex flex-col items-center justify-center w-14 h-12 flex-shrink-0 mx-1",children:[g&&p.jsx("span",{className:"absolute inset-0 bg-primary/10 rounded-xl scale-90 transition-transform duration-300"}),p.jsx(y,{className:`h-6 w-6 z-10 transition-colors duration-200 ${g?"text-primary":"text-slate-400"}`})]},h.name)})})]})]})},kS=()=>{const s=vn(),[n,r]=b.useState(!1),[i,o]=b.useState(null),u=async d=>{d.preventDefault(),r(!0),o(null);const m=new FormData(d.currentTarget),h=m.get("email"),g=m.get("password");try{const{data:y,error:_}=await ae.auth.signInWithPassword({email:h,password:g});if(_)throw _;y.user?.user_metadata?.role==="doctor"?s("/doctor-dashboard"):s("/dashboard")}catch(y){o(y.message),r(!1)}};return p.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 -left-4 w-72 h-72 bg-primary-light rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float"}),p.jsx("div",{className:"absolute top-0 -right-4 w-72 h-72 bg-secondary-light rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float",style:{animationDelay:"2s"}}),p.jsx("div",{className:"absolute -bottom-8 left-20 w-72 h-72 bg-pink-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-float",style:{animationDelay:"4s"}}),p.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl border border-white/20 p-8 sm:p-10 rounded-3xl shadow-glass max-w-md w-full mx-4 animate-slide-up",children:[p.jsxs("div",{className:"text-center mb-10",children:[p.jsx("div",{className:"inline-flex items-center justify-center h-14 w-14 rounded-2xl bg-gradient-to-tr from-primary to-primary-dark text-white shadow-lg shadow-blue-500/30 mb-4",children:p.jsx("span",{className:"font-bold text-2xl",children:"M"})}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Welcome Back"}),p.jsxs("p",{className:"text-slate-500 mt-2 text-sm",children:["Access your NHS portal securely or"," ",p.jsx(Xs,{to:"/signup",className:"font-bold text-primary hover:text-primary-dark hover:underline transition-colors",children:"create an account"})]})]}),p.jsxs("form",{className:"space-y-5",onSubmit:u,children:[p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Email"}),p.jsx("input",{name:"email",type:"email",required:!0,className:"block w-full px-4 py-3 rounded-xl bg-slate-50 border-transparent focus:bg-white focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all duration-200 outline-none font-medium text-slate-700",placeholder:"name@example.com"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsxs("div",{className:"flex justify-between items-center ml-1 mb-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider",children:"Password"}),p.jsx(Xs,{to:"/forgot-password",className:"text-xs font-bold text-primary hover:text-primary-dark",children:"Forgot Password?"})]}),p.jsx("input",{name:"password",type:"password",required:!0,className:"block w-full px-4 py-3 rounded-xl bg-slate-50 border-transparent focus:bg-white focus:border-primary focus:ring-4 focus:ring-primary/10 transition-all duration-200 outline-none font-medium text-slate-700",placeholder:""})]}),i&&p.jsxs("div",{className:"p-3 rounded-lg bg-red-50 text-red-600 text-sm flex items-center gap-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-red-500 rounded-full"}),i]}),p.jsx("button",{type:"submit",disabled:n,className:"w-full py-3.5 px-4 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:shadow-blue-500/40 hover:scale-[1.02] active:scale-[0.98] transition-all duration-200 disabled:opacity-70 disabled:cursor-not-allowed",children:n?"Verifying...":"Sign In"})]}),p.jsx("p",{className:"mt-8 text-center text-sm text-slate-400",children:"Protected by NHS Secure Login"})]})]})},MS=()=>{const s=vn(),[n,r]=b.useState(!1),[i,o]=b.useState(null),[u,d]=b.useState("patient"),m=async h=>{h.preventDefault(),r(!0),o(null);const g=new FormData(h.currentTarget),y=g.get("email"),_=g.get("password"),S=g.get("fullName"),E=g.get("clinicName"),O=g.get("clinicAddress"),R=g.get("phoneNumber"),A=g.get("nhsNumber"),$=g.get("address"),N=g.get("accessCode");if(u==="doctor"&&N!=="MEDILINK-GP"){o("Invalid Access Code. Please contact admin."),r(!1);return}try{const{data:C,error:K}=await ae.auth.signUp({email:y,password:_,options:{data:{full_name:S,role:u,phone_number:R,nhs_number:A,address:$,clinic_name:u==="doctor"?E:null,clinic_address:u==="doctor"?O:null}}});if(K)throw K;C.session?(Ae.success("Account created! Welcome to MediLink."),s(u==="doctor"?"/doctor-dashboard":"/dashboard")):C.user&&(Ae.success("Account created!"),s("/"))}catch(C){o(C.message)}finally{r(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 relative overflow-hidden",children:p.jsxs("div",{className:"relative bg-white/80 backdrop-blur-xl border border-white/20 p-8 sm:p-10 rounded-3xl shadow-glass max-w-md w-full mx-4 animate-slide-up",children:[p.jsxs("div",{className:"text-center mb-8",children:[p.jsx("h2",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:"Create Account"}),p.jsx("p",{className:"text-slate-500 mt-2 text-sm",children:"Join MediLink today"})]}),p.jsxs("form",{className:"space-y-4",onSubmit:m,children:[p.jsxs("div",{className:"flex bg-slate-100 p-1 rounded-xl mb-4",children:[p.jsx("button",{type:"button",onClick:()=>d("patient"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${u==="patient"?"bg-white text-primary shadow-sm":"text-slate-500"}`,children:"Patient"}),p.jsx("button",{type:"button",onClick:()=>d("doctor"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-all ${u==="doctor"?"bg-white text-primary shadow-sm":"text-slate-500"}`,children:"Doctor (GP)"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Full Name"}),p.jsx("input",{name:"fullName",type:"text",required:!0,className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none",placeholder:"John Doe"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Email"}),p.jsx("input",{name:"email",type:"email",required:!0,className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none",placeholder:"name@example.com"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Password"}),p.jsx("input",{name:"password",type:"password",required:!0,minLength:6,className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none",placeholder:""})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Phone Number"}),p.jsx("input",{name:"phoneNumber",type:"tel",className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none",placeholder:"07700 900000"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"NHS Number (Optional)"}),p.jsx("input",{name:"nhsNumber",type:"text",className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none",placeholder:"123 456 7890"})]}),p.jsxs("div",{className:"space-y-1",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Address"}),p.jsx("input",{name:"address",type:"text",className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none",placeholder:"123 High St, London"})]}),u==="doctor"&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-1 animate-fade-in",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Clinic Name"}),p.jsx("input",{name:"clinicName",type:"text",required:!0,className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none",placeholder:"City Health Center"})]}),p.jsxs("div",{className:"space-y-1 animate-fade-in",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Clinic Address"}),p.jsx("input",{name:"clinicAddress",type:"text",required:!0,className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none",placeholder:"123 Medical Blvd, London"})]}),p.jsxs("div",{className:"space-y-1 animate-fade-in",children:[p.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wider ml-1",children:"Access Code"}),p.jsx("input",{name:"accessCode",type:"password",required:!0,className:"block w-full px-4 py-3 rounded-xl bg-slate-50 focus:ring-primary/10 outline-none border-2 border-primary/20",placeholder:"Enter Admin Code"})]})]}),i&&p.jsx("div",{className:"p-3 rounded-lg bg-red-50 text-red-600 text-sm",children:i}),p.jsx("button",{type:"submit",disabled:n,className:"w-full py-3.5 px-4 bg-gradient-to-r from-primary to-primary-dark text-white rounded-xl font-semibold shadow-lg shadow-blue-500/30 hover:scale-[1.02] active:scale-[0.98] transition-all disabled:opacity-70",children:n?"Creating Account...":`Sign Up as ${u==="doctor"?"Doctor":"Patient"}`})]}),p.jsxs("div",{className:"mt-6 text-center text-sm text-slate-500",children:["Already have an account? ",p.jsx(Xs,{to:"/",className:"font-bold text-primary hover:underline",children:"Log in"})]})]})})},ro={en:{greeting:"Good Morning",welcome:"Hello",schedule:"Schedule",records:"Medical Records",messages:"Messages",bookNew:"Book New Appointment",nextVisit:"Next Visit",latestResult:"Latest Result",unread:"Unread",search:"Search records...",upcoming:"Upcoming Appointment",accessRecords:"Access Records",openInbox:"Open Inbox"},es:{greeting:"Buenos Das",welcome:"Hola",schedule:"Calendario",records:"Expedientes Mdicos",messages:"Mensajes",bookNew:"Reservar Nueva Cita",nextVisit:"Prxima Visita",latestResult:"ltimo Resultado",unread:"No ledo",search:"Buscar registros...",upcoming:"Prxima Cita",accessRecords:"Ver Expedientes",openInbox:"Abrir Buzn"},ar:{greeting:" ",welcome:"",schedule:"",records:" ",messages:"",bookNew:"  ",nextVisit:" ",latestResult:" ",unread:" ",search:"  ...",upcoming:" ",accessRecords:" ",openInbox:"  "}},DS=()=>{const s=vn(),[n,r]=b.useState("User"),[i,o]=b.useState(null),[u,d]=b.useState("en"),[m,h]=b.useState({records:0,messages:0}),[g,y]=b.useState(!0);b.useEffect(()=>{const A=localStorage.getItem("appLanguage");A&&d(A),(async()=>{const{data:{user:N}}=await ae.auth.getUser();if(!N){s("/");return}const{data:C}=await ae.from("profiles").select("full_name, avatar_url, language").eq("id",N.id).single();C?(r(C.full_name||"User"),d(C.language||"en")):N.user_metadata?.full_name&&r(N.user_metadata.full_name);const{data:K,error:W}=await ae.from("appointments").select("*, doctor:profiles!appointments_doctor_id_fkey(full_name, clinic_name)").eq("user_id",N.id).gte("date",new Date().toISOString()).order("date",{ascending:!0}).limit(1);W&&console.error("Error fetching next appointment:",W),K&&K.length>0&&o(K[0]);const{count:te}=await ae.from("records").select("*",{count:"exact",head:!0}).eq("user_id",N.id),{count:X}=await ae.from("messages").select("*",{count:"exact",head:!0}).eq("user_id",N.id).eq("is_from_user",!1).eq("read",!1);h({records:te||0,messages:X||0}),y(!1)})()},[]);const _=ro[u],S={weekday:"long",day:"numeric",month:"long"},E={en:"en-GB",es:"es-ES",ar:"ar-EG"},O=new Date().toLocaleDateString(E[u],S),R=u==="ar";return p.jsxs("div",{className:`animate-fade-in space-y-8 ${R?"rtl":"ltr"}`,dir:R?"rtl":"ltr",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-1",children:O}),p.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-slate-800",children:[_.welcome,", ",n]})]}),p.jsx("div",{className:"relative group cursor-pointer",onClick:()=>s("/messages"),children:p.jsxs("div",{className:"p-2.5 bg-white rounded-xl border border-slate-100 shadow-sm group-hover:shadow-md transition-all",children:[p.jsx(up,{className:"h-6 w-6 text-slate-400 group-hover:text-primary"}),m.messages>0&&p.jsx("span",{className:"absolute top-2 right-2.5 h-2 w-2 bg-red-500 rounded-full ring-2 ring-white"})]})})]}),p.jsxs("div",{className:"relative rounded-3xl bg-gradient-to-r from-primary-dark to-primary p-8 shadow-xl shadow-primary/20 overflow-hidden text-white min-h-[200px] flex flex-col justify-center",children:[p.jsxs("div",{className:"relative z-10 max-w-lg",children:[p.jsx("h2",{className:"text-2xl font-bold mb-2",children:_.upcoming}),g?p.jsxs("div",{className:"animate-pulse space-y-3",children:[p.jsx("div",{className:"h-4 bg-white/20 rounded w-3/4"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx("div",{className:"h-8 w-24 bg-white/20 rounded-lg"}),p.jsx("div",{className:"h-8 w-24 bg-white/20 rounded-lg"})]})]}):i?p.jsxs(p.Fragment,{children:[p.jsxs("p",{className:"text-primary-light mb-6 font-medium",children:[i.doctor?.full_name?pa(i.doctor.full_name):i.type,"  ",i.doctor?.clinic_name||"Pending Assignment"]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"bg-white/20 backdrop-blur-md px-4 py-2 rounded-lg text-sm font-semibold",children:new Date(i.date).toLocaleDateString(E[u],{day:"numeric",month:"long"})}),p.jsx("div",{className:"bg-white/20 backdrop-blur-md px-4 py-2 rounded-lg text-sm font-semibold",children:new Date(i.date).toLocaleTimeString(E[u],{hour:"2-digit",minute:"2-digit"})}),i.status==="approved"&&p.jsxs("a",{href:`https://meet.jit.si/medilink-${i.id}`,target:"_blank",rel:"noopener noreferrer",className:"bg-white text-primary px-4 py-2 rounded-lg text-sm font-bold hover:bg-slate-50 transition-colors flex items-center gap-2",children:[p.jsx(dd,{className:"h-4 w-4"}),"Join Call"]})]})]}):p.jsxs("div",{className:"flex flex-col items-start gap-4",children:[p.jsx("p",{className:"text-primary-light font-medium",children:"No upcoming appointments."}),p.jsx("button",{onClick:()=>s("/appointments"),className:"bg-white text-primary px-6 py-2 rounded-xl font-bold text-sm hover:bg-slate-50 transition-colors",children:"Book Now"})]})]}),p.jsx("div",{className:`absolute top-0 -mt-10 -mr-10 w-64 h-64 bg-white opacity-5 rounded-full blur-3xl ${R?"left-0 -ml-10":"right-0"}`}),p.jsx("div",{className:`absolute bottom-0 w-40 h-40 bg-primary-light opacity-20 rounded-full blur-2xl mix-blend-overlay ${R?"left-20":"right-20"}`})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{onClick:()=>s("/records"),className:"group bg-white p-6 rounded-3xl shadow-soft border border-slate-100 hover:shadow-xl hover:shadow-slate-200/50 transition-all duration-300 cursor-pointer flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"h-12 w-12 rounded-2xl bg-secondary/10 flex items-center justify-center text-secondary mb-4 group-hover:scale-110 transition-transform",children:p.jsx(Fs,{className:"h-6 w-6"})}),p.jsx("h3",{className:"text-lg font-bold text-slate-800",children:_.records}),p.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[m.records," ",_.latestResult]})]}),p.jsx("div",{className:`h-8 w-8 rounded-full bg-slate-50 flex items-center justify-center text-slate-300 group-hover:bg-secondary group-hover:text-white transition-colors ${R?"rotate-180":""}`,children:p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),p.jsxs("div",{onClick:()=>s("/messages"),className:"group bg-white p-6 rounded-3xl shadow-soft border border-slate-100 hover:shadow-xl hover:shadow-slate-200/50 transition-all duration-300 cursor-pointer flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:"h-12 w-12 rounded-2xl bg-orange-50 flex items-center justify-center text-orange-500 mb-4 group-hover:scale-110 transition-transform",children:p.jsx(Yl,{className:"h-6 w-6"})}),p.jsx("h3",{className:"text-lg font-bold text-slate-800",children:_.messages}),p.jsxs("p",{className:"text-slate-500 text-sm mt-1",children:[m.messages," ",_.unread]})]}),p.jsx("div",{className:`h-8 w-8 rounded-full bg-slate-50 flex items-center justify-center text-slate-300 group-hover:bg-orange-500 group-hover:text-white transition-colors ${R?"rotate-180":""}`,children:p.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),p.jsxs("button",{onClick:()=>s("/appointments"),className:"md:col-span-2 bg-white p-5 rounded-3xl border-2 border-dashed border-slate-200 text-slate-400 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all duration-300 flex items-center justify-center gap-2 font-semibold hover:scale-[1.02] active:scale-[0.98]",children:[p.jsx(cp,{className:"h-5 w-5"}),_.bookNew]})]})]})},US=()=>{const[s,n]=b.useState([]),[r,i]=b.useState(!0),[o,u]=b.useState("Doctor"),[d,m]=b.useState(null);b.useEffect(()=>{(async()=>{const{data:{user:_}}=await ae.auth.getUser();if(!_)return;const{data:S}=await ae.from("profiles").select("role, full_name, avatar_url").eq("id",_.id).single();if(S){if(S.role!=="doctor"){Ae.error("Access Denied: Doctors Only");return}S.full_name&&u(pa(S.full_name)),m(S.avatar_url)}const{data:E,error:O}=await ae.from("appointments").select("*, user:profiles!appointments_user_id_fkey(full_name)").or(`doctor_id.eq.${_.id},status.eq.pending`).neq("user_id",_.id).order("date",{ascending:!0});O&&(console.error("Error fetching appointments:",O),Ae.error("Error loading appointments")),E&&n(E),i(!1)})()},[]);const h=async(y,_)=>{try{const{data:{user:S}}=await ae.auth.getUser();if(!S)return;const E={status:_};_==="approved"&&(E.doctor_id=S.id);const{error:O}=await ae.from("appointments").update(E).eq("id",y);if(O)throw O;n(R=>R.map(A=>A.id===y?{...A,status:_,doctor_id:_==="approved"?S.id:A.doctor_id}:A)),Ae.success(`Appointment ${_}`)}catch(S){console.error("Error updating status:",S),Ae.error("Failed to update status")}},g=y=>{Ae(_=>p.jsxs("div",{className:"flex flex-col gap-2 min-w-[200px]",children:[p.jsx("p",{className:"font-bold text-slate-800",children:"Decline Appointment?"}),p.jsx("p",{className:"text-xs text-slate-500",children:"Skip to keep it for others, or Reject to cancel it."}),p.jsxs("div",{className:"flex gap-2 mt-2",children:[p.jsx("button",{onClick:()=>{n(S=>S.filter(E=>E.id!==y)),Ae.dismiss(_.id),Ae.success("Skipped for now")},className:"flex-1 px-3 py-2 bg-slate-100 text-slate-600 text-xs font-bold rounded-lg hover:bg-slate-200 transition-colors",children:"Skip"}),p.jsx("button",{onClick:()=>{h(y,"cancelled"),Ae.dismiss(_.id)},className:"flex-1 px-3 py-2 bg-red-100 text-red-600 text-xs font-bold rounded-lg hover:bg-red-200 transition-colors",children:"Reject"})]})]}),{duration:8e3,icon:"",style:{maxWidth:"400px"}})};return p.jsxs("div",{className:"animate-fade-in space-y-8 pb-20",children:[p.jsxs("div",{className:"flex justify-between items-center mb-8",children:[p.jsxs("div",{children:[p.jsxs("h1",{className:"text-2xl font-bold text-slate-800",children:["Welcome, ",o," "]}),p.jsx("p",{className:"text-slate-500",children:"Here is your schedule for today."})]}),p.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-200 overflow-hidden border-2 border-white shadow-sm",children:d?p.jsx("img",{src:d,alt:"Profile",className:"h-full w-full object-cover"}):p.jsx("div",{className:"h-full w-full flex items-center justify-center bg-blue-600 text-white font-bold text-lg",children:"DR"})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p.jsx("div",{className:"bg-white p-6 rounded-3xl shadow-soft border border-slate-100",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-12 w-12 rounded-2xl bg-blue-50 text-primary flex items-center justify-center",children:p.jsx(gp,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:s.length}),p.jsx("p",{className:"text-sm text-slate-500",children:"Total Patients"})]})]})}),p.jsx("div",{onClick:()=>window.location.href="/doctor/records",className:"bg-white p-6 rounded-3xl shadow-soft border border-slate-100 cursor-pointer hover:shadow-md transition-all group",children:p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-12 w-12 rounded-2xl bg-purple-50 text-purple-600 flex items-center justify-center group-hover:bg-purple-100 transition-colors",children:p.jsx(Fs,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Records"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Search & Upload"})]})]})})]}),p.jsxs("div",{className:"bg-white rounded-3xl shadow-soft border border-slate-100 overflow-hidden",children:[p.jsx("div",{className:"p-6 border-b border-slate-100",children:p.jsx("h3",{className:"font-bold text-slate-800",children:"Upcoming Appointments"})}),p.jsxs("div",{className:"divide-y divide-slate-50",children:[s.map(y=>p.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-200 flex items-center justify-center text-slate-500 font-bold",children:"P"}),p.jsxs("div",{children:[p.jsx("p",{className:"font-bold text-slate-900",children:y.user?.full_name||"Patient #"+y.user_id.slice(0,4)}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("p",{className:"text-xs text-slate-500",children:y.type}),p.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full font-bold uppercase ${y.status==="approved"?"bg-green-100 text-green-700":y.status==="cancelled"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:y.status})]})]})]}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-slate-600 bg-slate-100 px-3 py-1 rounded-lg",children:[p.jsx(dp,{className:"h-4 w-4"}),new Date(y.date).toLocaleString()]}),y.status==="pending"&&p.jsxs("div",{className:"flex gap-2",children:[p.jsx("button",{onClick:()=>h(y.id,"approved"),className:"p-2 text-green-600 hover:bg-green-50 rounded-full transition-colors",title:"Approve & Claim","aria-label":"Approve Appointment",children:p.jsx(w_,{className:"h-6 w-6"})}),p.jsx("button",{onClick:()=>g(y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Decline","aria-label":"Decline Appointment",children:p.jsx(Z_,{className:"h-6 w-6"})})]}),y.status==="approved"&&y.doctor_id&&p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("button",{onClick:()=>window.open(`/records/${y.user_id}`,"_blank"),className:"p-2 text-slate-600 hover:bg-slate-100 rounded-lg transition-colors border border-slate-200",title:"View Patient Records",children:p.jsx(Fs,{className:"h-4 w-4"})}),p.jsxs("a",{href:`https://meet.jit.si/medilink-${y.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs font-bold text-white bg-blue-600 px-3 py-1.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",title:"Start Video Consultation",children:[p.jsx(dd,{className:"h-4 w-4"}),"Start Call"]}),p.jsx("div",{className:"flex items-center gap-1 text-xs text-slate-400 bg-slate-50 px-2 py-1 rounded-md border border-slate-100",children:p.jsx("span",{className:"font-bold",children:"Locked"})})]})]})]},y.id)),s.length===0&&!r&&p.jsx("div",{className:"p-8 text-center text-slate-400",children:"No upcoming appointments found."})]})]})]})},LS=()=>{const[s,n]=b.useState(""),[r,i]=b.useState(!1),[o,u]=b.useState([]),[d,m]=b.useState(!1),h=async g=>{if(g.preventDefault(),!!s.trim()){i(!0),m(!0),u([]);try{const{data:y,error:_}=await ae.from("profiles").select("*").eq("role","patient").or(`full_name.ilike.%${s}%,nhs_number.eq.${s}`);if(_)throw _;y&&u(y)}catch{Ae.error("Error searching patients")}finally{i(!1)}}};return p.jsxs("div",{className:"animate-fade-in space-y-8 pb-20",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Patient Records "}),p.jsx("p",{className:"text-slate-500",children:"Search for a patient to view or upload records."})]}),p.jsxs("form",{onSubmit:h,className:"relative",children:[p.jsx(fp,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-6 w-6 text-slate-400"}),p.jsx("input",{type:"text",value:s,onChange:g=>n(g.target.value),placeholder:"Search by Name or NHS Number...",className:"w-full pl-12 pr-4 py-4 bg-white border border-slate-200 rounded-2xl text-lg focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all shadow-sm"}),p.jsx("button",{type:"submit",disabled:r,className:"absolute right-2 top-2 bottom-2 bg-primary text-white px-6 rounded-xl font-bold hover:bg-primary-dark transition-colors disabled:opacity-50",children:r?"Searching...":"Search"})]}),p.jsxs("div",{className:"space-y-4",children:[d&&o.length===0&&!r&&p.jsxs("div",{className:"text-center py-10 text-slate-400",children:['No patients found matching "',s,'".']}),o.map(g=>p.jsxs("div",{onClick:()=>window.open(`/records/${g.id}`,"_blank"),className:"group bg-white p-4 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all cursor-pointer flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-12 w-12 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 group-hover:bg-primary/10 group-hover:text-primary transition-colors",children:p.jsx(Y_,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800",children:g.full_name||"Unknown Name"}),p.jsxs("p",{className:"text-sm text-slate-500",children:["NHS: ",g.nhs_number||"N/A"]})]})]}),p.jsx(d_,{className:"h-5 w-5 text-slate-300 group-hover:text-primary transition-colors"})]},g.id))]})]})};var _d={};(function s(n,r,i,o){var u=!!(n.Worker&&n.Blob&&n.Promise&&n.OffscreenCanvas&&n.OffscreenCanvasRenderingContext2D&&n.HTMLCanvasElement&&n.HTMLCanvasElement.prototype.transferControlToOffscreen&&n.URL&&n.URL.createObjectURL),d=typeof Path2D=="function"&&typeof DOMMatrix=="function",m=(function(){if(!n.OffscreenCanvas)return!1;try{var M=new OffscreenCanvas(1,1),w=M.getContext("2d");w.fillRect(0,0,1,1);var D=M.transferToImageBitmap();w.createPattern(D,"no-repeat")}catch{return!1}return!0})();function h(){}function g(M){var w=r.exports.Promise,D=w!==void 0?w:n.Promise;return typeof D=="function"?new D(M):(M(h,h),null)}var y=(function(M,w){return{transform:function(D){if(M)return D;if(w.has(D))return w.get(D);var I=new OffscreenCanvas(D.width,D.height),P=I.getContext("2d");return P.drawImage(D,0,0),w.set(D,I),I},clear:function(){w.clear()}}})(m,new Map),_=(function(){var M=Math.floor(16.666666666666668),w,D,I={},P=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(w=function(Z){var F=Math.random();return I[F]=requestAnimationFrame(function J(ce){P===ce||P+M-1<ce?(P=ce,delete I[F],Z()):I[F]=requestAnimationFrame(J)}),F},D=function(Z){I[Z]&&cancelAnimationFrame(I[Z])}):(w=function(Z){return setTimeout(Z,M)},D=function(Z){return clearTimeout(Z)}),{frame:w,cancel:D}})(),S=(function(){var M,w,D={};function I(P){function Z(F,J){P.postMessage({options:F||{},callback:J})}P.init=function(J){var ce=J.transferControlToOffscreen();P.postMessage({canvas:ce},[ce])},P.fire=function(J,ce,ge){if(w)return Z(J,null),w;var Le=Math.random().toString(36).slice(2);return w=g(function(Me){function qe(Fe){Fe.data.callback===Le&&(delete D[Le],P.removeEventListener("message",qe),w=null,y.clear(),ge(),Me())}P.addEventListener("message",qe),Z(J,Le),D[Le]=qe.bind(null,{data:{callback:Le}})}),w},P.reset=function(){P.postMessage({reset:!0});for(var J in D)D[J](),delete D[J]}}return function(){if(M)return M;if(!i&&u){var P=["var CONFETTI, SIZE = {}, module = {};","("+s.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{M=new Worker(URL.createObjectURL(new Blob([P])))}catch(Z){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",Z),null}I(M)}return M}})(),E={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function O(M,w){return w?w(M):M}function R(M){return M!=null}function A(M,w,D){return O(M&&R(M[w])?M[w]:E[w],D)}function $(M){return M<0?0:Math.floor(M)}function N(M,w){return Math.floor(Math.random()*(w-M))+M}function C(M){return parseInt(M,16)}function K(M){return M.map(W)}function W(M){var w=String(M).replace(/[^0-9a-f]/gi,"");return w.length<6&&(w=w[0]+w[0]+w[1]+w[1]+w[2]+w[2]),{r:C(w.substring(0,2)),g:C(w.substring(2,4)),b:C(w.substring(4,6))}}function te(M){var w=A(M,"origin",Object);return w.x=A(w,"x",Number),w.y=A(w,"y",Number),w}function X(M){M.width=document.documentElement.clientWidth,M.height=document.documentElement.clientHeight}function xe(M){var w=M.getBoundingClientRect();M.width=w.width,M.height=w.height}function ye(M){var w=document.createElement("canvas");return w.style.position="fixed",w.style.top="0px",w.style.left="0px",w.style.pointerEvents="none",w.style.zIndex=M,w}function se(M,w,D,I,P,Z,F,J,ce){M.save(),M.translate(w,D),M.rotate(Z),M.scale(I,P),M.arc(0,0,1,F,J,ce),M.restore()}function Q(M){var w=M.angle*(Math.PI/180),D=M.spread*(Math.PI/180);return{x:M.x,y:M.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:M.startVelocity*.5+Math.random()*M.startVelocity,angle2D:-w+(.5*D-Math.random()*D),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:M.color,shape:M.shape,tick:0,totalTicks:M.ticks,decay:M.decay,drift:M.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:M.gravity*3,ovalScalar:.6,scalar:M.scalar,flat:M.flat}}function Te(M,w){w.x+=Math.cos(w.angle2D)*w.velocity+w.drift,w.y+=Math.sin(w.angle2D)*w.velocity+w.gravity,w.velocity*=w.decay,w.flat?(w.wobble=0,w.wobbleX=w.x+10*w.scalar,w.wobbleY=w.y+10*w.scalar,w.tiltSin=0,w.tiltCos=0,w.random=1):(w.wobble+=w.wobbleSpeed,w.wobbleX=w.x+10*w.scalar*Math.cos(w.wobble),w.wobbleY=w.y+10*w.scalar*Math.sin(w.wobble),w.tiltAngle+=.1,w.tiltSin=Math.sin(w.tiltAngle),w.tiltCos=Math.cos(w.tiltAngle),w.random=Math.random()+2);var D=w.tick++/w.totalTicks,I=w.x+w.random*w.tiltCos,P=w.y+w.random*w.tiltSin,Z=w.wobbleX+w.random*w.tiltCos,F=w.wobbleY+w.random*w.tiltSin;if(M.fillStyle="rgba("+w.color.r+", "+w.color.g+", "+w.color.b+", "+(1-D)+")",M.beginPath(),d&&w.shape.type==="path"&&typeof w.shape.path=="string"&&Array.isArray(w.shape.matrix))M.fill(Y(w.shape.path,w.shape.matrix,w.x,w.y,Math.abs(Z-I)*.1,Math.abs(F-P)*.1,Math.PI/10*w.wobble));else if(w.shape.type==="bitmap"){var J=Math.PI/10*w.wobble,ce=Math.abs(Z-I)*.1,ge=Math.abs(F-P)*.1,Le=w.shape.bitmap.width*w.scalar,Me=w.shape.bitmap.height*w.scalar,qe=new DOMMatrix([Math.cos(J)*ce,Math.sin(J)*ce,-Math.sin(J)*ge,Math.cos(J)*ge,w.x,w.y]);qe.multiplySelf(new DOMMatrix(w.shape.matrix));var Fe=M.createPattern(y.transform(w.shape.bitmap),"no-repeat");Fe.setTransform(qe),M.globalAlpha=1-D,M.fillStyle=Fe,M.fillRect(w.x-Le/2,w.y-Me/2,Le,Me),M.globalAlpha=1}else if(w.shape==="circle")M.ellipse?M.ellipse(w.x,w.y,Math.abs(Z-I)*w.ovalScalar,Math.abs(F-P)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI):se(M,w.x,w.y,Math.abs(Z-I)*w.ovalScalar,Math.abs(F-P)*w.ovalScalar,Math.PI/10*w.wobble,0,2*Math.PI);else if(w.shape==="star")for(var be=Math.PI/2*3,lt=4*w.scalar,wt=8*w.scalar,Ct=w.x,Vt=w.y,tn=5,xt=Math.PI/tn;tn--;)Ct=w.x+Math.cos(be)*wt,Vt=w.y+Math.sin(be)*wt,M.lineTo(Ct,Vt),be+=xt,Ct=w.x+Math.cos(be)*lt,Vt=w.y+Math.sin(be)*lt,M.lineTo(Ct,Vt),be+=xt;else M.moveTo(Math.floor(w.x),Math.floor(w.y)),M.lineTo(Math.floor(w.wobbleX),Math.floor(P)),M.lineTo(Math.floor(Z),Math.floor(F)),M.lineTo(Math.floor(I),Math.floor(w.wobbleY));return M.closePath(),M.fill(),w.tick<w.totalTicks}function le(M,w,D,I,P){var Z=w.slice(),F=M.getContext("2d"),J,ce,ge=g(function(Le){function Me(){J=ce=null,F.clearRect(0,0,I.width,I.height),y.clear(),P(),Le()}function qe(){i&&!(I.width===o.width&&I.height===o.height)&&(I.width=M.width=o.width,I.height=M.height=o.height),!I.width&&!I.height&&(D(M),I.width=M.width,I.height=M.height),F.clearRect(0,0,I.width,I.height),Z=Z.filter(function(Fe){return Te(F,Fe)}),Z.length?J=_.frame(qe):Me()}J=_.frame(qe),ce=Me});return{addFettis:function(Le){return Z=Z.concat(Le),ge},canvas:M,promise:ge,reset:function(){J&&_.cancel(J),ce&&ce()}}}function de(M,w){var D=!M,I=!!A(w||{},"resize"),P=!1,Z=A(w,"disableForReducedMotion",Boolean),F=u&&!!A(w||{},"useWorker"),J=F?S():null,ce=D?X:xe,ge=M&&J?!!M.__confetti_initialized:!1,Le=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Me;function qe(be,lt,wt){for(var Ct=A(be,"particleCount",$),Vt=A(be,"angle",Number),tn=A(be,"spread",Number),xt=A(be,"startVelocity",Number),Kr=A(be,"decay",Number),so=A(be,"gravity",Number),io=A(be,"drift",Number),pt=A(be,"colors",K),lo=A(be,"ticks",Number),Zr=A(be,"shapes"),ci=A(be,"scalar"),Za=!!A(be,"flat"),di=te(be),Jr=Ct,Qr=[],oo=M.width*di.x,_a=M.height*di.y;Jr--;)Qr.push(Q({x:oo,y:_a,angle:Vt,spread:tn,startVelocity:xt,color:pt[Jr%pt.length],shape:Zr[N(0,Zr.length)],ticks:lo,decay:Kr,gravity:so,drift:io,scalar:ci,flat:Za}));return Me?Me.addFettis(Qr):(Me=le(M,Qr,ce,lt,wt),Me.promise)}function Fe(be){var lt=Z||A(be,"disableForReducedMotion",Boolean),wt=A(be,"zIndex",Number);if(lt&&Le)return g(function(xt){xt()});D&&Me?M=Me.canvas:D&&!M&&(M=ye(wt),document.body.appendChild(M)),I&&!ge&&ce(M);var Ct={width:M.width,height:M.height};J&&!ge&&J.init(M),ge=!0,J&&(M.__confetti_initialized=!0);function Vt(){if(J){var xt={getBoundingClientRect:function(){if(!D)return M.getBoundingClientRect()}};ce(xt),J.postMessage({resize:{width:xt.width,height:xt.height}});return}Ct.width=Ct.height=null}function tn(){Me=null,I&&(P=!1,n.removeEventListener("resize",Vt)),D&&M&&(document.body.contains(M)&&document.body.removeChild(M),M=null,ge=!1)}return I&&!P&&(P=!0,n.addEventListener("resize",Vt,!1)),J?J.fire(be,Ct,tn):qe(be,Ct,tn)}return Fe.reset=function(){J&&J.reset(),Me&&Me.reset()},Fe}var me;function B(){return me||(me=de(null,{useWorker:!0,resize:!0})),me}function Y(M,w,D,I,P,Z,F){var J=new Path2D(M),ce=new Path2D;ce.addPath(J,new DOMMatrix(w));var ge=new Path2D;return ge.addPath(ce,new DOMMatrix([Math.cos(F)*P,Math.sin(F)*P,-Math.sin(F)*Z,Math.cos(F)*Z,D,I])),ge}function ne(M){if(!d)throw new Error("path confetti are not supported in this browser");var w,D;typeof M=="string"?w=M:(w=M.path,D=M.matrix);var I=new Path2D(w),P=document.createElement("canvas"),Z=P.getContext("2d");if(!D){for(var F=1e3,J=F,ce=F,ge=0,Le=0,Me,qe,Fe=0;Fe<F;Fe+=2)for(var be=0;be<F;be+=2)Z.isPointInPath(I,Fe,be,"nonzero")&&(J=Math.min(J,Fe),ce=Math.min(ce,be),ge=Math.max(ge,Fe),Le=Math.max(Le,be));Me=ge-J,qe=Le-ce;var lt=10,wt=Math.min(lt/Me,lt/qe);D=[wt,0,0,wt,-Math.round(Me/2+J)*wt,-Math.round(qe/2+ce)*wt]}return{type:"path",path:w,matrix:D}}function _e(M){var w,D=1,I="#000000",P='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof M=="string"?w=M:(w=M.text,D="scalar"in M?M.scalar:D,P="fontFamily"in M?M.fontFamily:P,I="color"in M?M.color:I);var Z=10*D,F=""+Z+"px "+P,J=new OffscreenCanvas(Z,Z),ce=J.getContext("2d");ce.font=F;var ge=ce.measureText(w),Le=Math.ceil(ge.actualBoundingBoxRight+ge.actualBoundingBoxLeft),Me=Math.ceil(ge.actualBoundingBoxAscent+ge.actualBoundingBoxDescent),qe=2,Fe=ge.actualBoundingBoxLeft+qe,be=ge.actualBoundingBoxAscent+qe;Le+=qe+qe,Me+=qe+qe,J=new OffscreenCanvas(Le,Me),ce=J.getContext("2d"),ce.font=F,ce.fillStyle=I,ce.fillText(w,Fe,be);var lt=1/D;return{type:"bitmap",bitmap:J.transferToImageBitmap(),matrix:[lt,0,0,lt,-Le*lt/2,-Me*lt/2]}}r.exports=function(){return B().apply(this,arguments)},r.exports.reset=function(){B().reset()},r.exports.create=de,r.exports.shapeFromPath=ne,r.exports.shapeFromText=_e})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),_d,!1);const zS=_d.exports;_d.exports.create;const BS=()=>{const s=vn(),[n,r]=b.useState(!1),[i,o]=b.useState([]),[u,d]=b.useState("upcoming"),[m,h]=b.useState("en");b.useEffect(()=>{const N=localStorage.getItem("appLanguage");N&&h(N)},[]);const g=ro[m],y=()=>{const N=[],C=new Date;for(let K=1;K<=3;K++){const W=new Date(C);if(W.setDate(C.getDate()+K),W.getDay()===0||W.getDay()===6)continue;const te=new Date(W);te.setHours(9,0,0,0);const X=new Date(W);X.setHours(14,30,0,0),N.push({date:te.toISOString(),label:te.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),time:"09:00 AM"}),N.push({date:X.toISOString(),label:X.toLocaleDateString("en-GB",{weekday:"short",day:"numeric",month:"short"}),time:"02:30 PM"})}return N.slice(0,3)},[_,S]=b.useState([]);b.useEffect(()=>{E(),S(y())},[]);const E=async()=>{const{data:{user:N}}=await ae.auth.getUser();if(!N)return s("/");const{data:C}=await ae.from("appointments").select("*, doctor:profiles!appointments_doctor_id_fkey(full_name, clinic_name, clinic_address)").eq("user_id",N.id).order("date",{ascending:!0});C&&o(C)},O=async N=>{r(!0);const{data:{user:C}}=await ae.auth.getUser();if(C){const{error:K}=await ae.from("appointments").insert([{user_id:C.id,date:N,type:"GP Consultation",status:"pending"}]);K?Ae.error("Booking failed: "+K.message):(zS({particleCount:100,spread:70,origin:{y:.6}}),Ae.success("Appointment Booked Successfully!",{icon:""}),E())}r(!1)},R=async N=>{if(!confirm("Are you sure you want to cancel this appointment?"))return;const{error:C}=await ae.from("appointments").delete().eq("id",N);C?Ae.error("Error cancelling: "+C.message):(Ae.success("Appointment cancelled"),E())},A=async N=>{const C=prompt("Enter new date (YYYY-MM-DD):","2025-12-01");if(C){const{error:K}=await ae.from("appointments").update({date:`${C}T09:00:00`}).eq("id",N);K?Ae.error("Reschedule failed"):(Ae.success("Reschedule confirmed",{icon:""}),E())}},$=async()=>{const N=prompt("Enter appointment date and time (YYYY-MM-DD HH:MM):","2025-12-10 10:00");if(N){const C=N.replace(" ","T")+":00";await O(C)}};return p.jsxs("div",{className:"space-y-8 animate-fade-in pb-20",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:g.schedule}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Manage your visits and bookings"})]}),p.jsxs("div",{className:"flex gap-3",children:[p.jsxs("button",{onClick:$,className:"hidden md:flex items-center gap-2 px-4 py-2 text-sm font-bold text-white bg-primary rounded-xl shadow-lg shadow-primary/30 hover:bg-primary-dark transition-all",children:[p.jsx(q0,{className:"h-5 w-5"}),g.bookNew]}),p.jsxs("div",{className:"flex bg-white p-1 rounded-xl shadow-sm border border-slate-100 w-fit",children:[p.jsx("button",{onClick:()=>d("upcoming"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${u==="upcoming"?"bg-primary text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:"Upcoming"}),p.jsx("button",{onClick:()=>d("past"),className:`px-4 py-2 text-sm font-medium rounded-lg transition-all ${u==="past"?"bg-primary text-white shadow-md":"text-slate-500 hover:bg-slate-50"}`,children:"History"})]})]})]}),u==="upcoming"&&p.jsx("div",{className:"relative overflow-hidden rounded-3xl bg-gradient-to-br from-primary to-primary-dark p-1 shadow-lg shadow-primary/20",children:p.jsxs("div",{className:"bg-white/10 backdrop-blur-lg p-6 rounded-[20px] text-white",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{children:[p.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[p.jsx("span",{className:"flex h-2 w-2 rounded-full bg-green-400 animate-pulse"}),"Recommended Slots"]}),p.jsx("p",{className:"text-primary-light text-sm",children:"Based on your usual availability"})]}),p.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:p.jsx(z0,{className:"h-6 w-6 text-white"})})]}),p.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:_.map((N,C)=>p.jsxs("button",{disabled:n,onClick:()=>O(N.date),className:"flex-shrink-0 group bg-white/10 hover:bg-white text-white hover:text-primary border border-white/20 rounded-xl p-3 transition-all duration-300 min-w-[120px] text-center",children:[p.jsx("p",{className:"text-xs font-medium opacity-80 group-hover:opacity-100 mb-1",children:N.label}),p.jsx("p",{className:"text-lg font-bold",children:N.time}),p.jsx("div",{className:"mt-2 text-[10px] bg-white/20 group-hover:bg-primary/10 group-hover:text-primary rounded-full px-2 py-0.5 inline-block",children:"Book Now"})]},C))})]})}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:"text-sm font-bold text-slate-400 uppercase tracking-wider ml-1",children:"Your Timeline"}),i.length===0?p.jsxs("div",{className:"text-center py-12 bg-white rounded-3xl border border-dashed border-slate-200",children:[p.jsx(z0,{className:"h-12 w-12 text-slate-300 mx-auto mb-3"}),p.jsx("p",{className:"text-slate-500 font-medium",children:"No appointments found"})]}):i.map(N=>p.jsxs("div",{className:"group relative bg-white p-5 rounded-2xl shadow-soft border border-slate-100 hover:shadow-md transition-all flex flex-col sm:flex-row gap-4 sm:items-center",children:[p.jsxs("div",{className:"flex gap-4 flex-1",children:[p.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-center h-16 w-16 bg-slate-50 rounded-xl border border-slate-100 group-hover:border-primary/30 group-hover:bg-primary/5 transition-colors",children:[p.jsx("span",{className:"text-xs font-bold text-slate-400 group-hover:text-primary/70 uppercase",children:new Date(N.date).toLocaleString("en-GB",{month:"short"})}),p.jsx("span",{className:"text-xl font-bold text-slate-800 group-hover:text-primary",children:new Date(N.date).getDate()})]}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-bold text-slate-800",children:N.doctor?.full_name?pa(N.doctor.full_name):N.type}),N.doctor?.full_name&&p.jsx("p",{className:"text-xs text-slate-500",children:N.type})]}),p.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:N.status})]}),p.jsxs("div",{className:"flex items-center gap-4 mt-1 text-sm text-slate-500",children:[p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(dp,{className:"h-4 w-4"}),new Date(N.date).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})]}),p.jsxs("span",{className:"flex items-center gap-1",children:[p.jsx(k_,{className:"h-4 w-4"}),N.doctor?.clinic_name||"Pending Assignment",N.doctor?.clinic_address&&p.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["(",N.doctor.clinic_address,")"]})]})]})]})]}),u==="upcoming"&&p.jsxs("div",{className:"flex sm:flex-col gap-2 border-t sm:border-t-0 sm:border-l border-slate-100 pt-4 sm:pt-0 sm:pl-4 mt-2 sm:mt-0",children:[N.status==="approved"&&p.jsxs("a",{href:`https://meet.jit.si/medilink-${N.id}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-xs font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-md shadow-blue-200",children:[p.jsx(dd,{className:"h-3 w-3"}),"Join Call"]}),p.jsxs("button",{onClick:()=>A(N.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-xs font-medium text-slate-600 bg-slate-50 rounded-lg hover:bg-primary hover:text-white transition-colors",children:[p.jsx(o_,{className:"h-3 w-3"}),"Reschedule"]}),p.jsxs("button",{onClick:()=>R(N.id),className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-xs font-medium text-red-600 bg-red-50 rounded-lg hover:bg-red-600 hover:text-white transition-colors",children:[p.jsx(q_,{className:"h-3 w-3"}),"Cancel"]})]})]},N.id))]}),p.jsx("button",{onClick:$,className:"md:hidden fixed bottom-24 right-6 h-14 w-14 bg-primary text-white rounded-full shadow-lg shadow-primary/40 flex items-center justify-center hover:scale-110 transition-transform z-40",children:p.jsx(q0,{className:"h-6 w-6"})})]})},cv=({userId:s})=>{const n=vn(),[r,i]=b.useState([]),[o,u]=b.useState("All"),[d,m]=b.useState("en"),[h,g]=b.useState(null);b.useEffect(()=>{const Q=localStorage.getItem("appLanguage");Q&&m(Q),_()},[s]);const y=ro[d],_=async()=>{const{data:{user:Q}}=await ae.auth.getUser();if(!Q)return n("/");g(Q.id);const Te=s||Q.id,{data:le}=await ae.from("records").select("*").eq("user_id",Te).order("date",{ascending:!1});le&&i(le)},S=["All","Results","Letters","Scans"],[E,O]=b.useState([]),[R,A]=b.useState(""),[$,N]=b.useState(!1),[C,K]=b.useState(null),[W,te]=b.useState(!1);b.useEffect(()=>{(async()=>{const{data:{user:Te}}=await ae.auth.getUser();if(!Te)return;const{data:le}=await ae.from("appointments").select("doctor_id").eq("user_id",Te.id).eq("status","approved");if(le&&le.length>0){const de=Array.from(new Set(le.map(me=>me.doctor_id).filter(me=>me)));if(de.length>0){const{data:me}=await ae.from("profiles").select("id, full_name, clinic_name").in("id",de);me&&O(me)}}})()},[]);const X=Q=>{Q.target.files&&Q.target.files.length>0&&K(Q.target.files[0])},[xe,ye]=b.useState("Scans"),se=async()=>{if(!C)return;te(!0);const{data:{user:Q}}=await ae.auth.getUser();if(!Q){Ae.error("You must be logged in to upload"),te(!1);return}const Te=C.name.split(".").pop(),de=`${`${Math.random()}.${Te}`}`;try{const{error:me}=await ae.storage.from("medical-records").upload(de,C);if(me)throw me;const{data:{publicUrl:B}}=ae.storage.from("medical-records").getPublicUrl(de),Y=E.find(D=>D.id===R)?.full_name,{data:ne}=await ae.from("profiles").select("full_name").eq("id",Q.id).single(),_e=ne?.full_name||Q.user_metadata?.full_name,M=s?_e?`Uploaded by ${pa(_e)}`:"Uploaded by Doctor":Y?`For Dr. ${Y}`:"Uploaded by Patient",{error:w}=await ae.from("records").insert({user_id:s||h,type:xe,doctor:M,diagnosis:C.name,details:`${C.name} (${Date.now()})`,status:"Available",date:new Date().toISOString(),file_url:B});if(w)throw w;Ae.success("Record uploaded successfully!"),_(),N(!1),K(null),A(""),ye("Scans")}catch(me){Ae.error("Error uploading record: "+me.message)}finally{te(!1)}};return p.jsxs("div",{className:"space-y-6 animate-slide-up pb-20 relative",children:[$&&p.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:p.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-6 space-y-4 animate-scale-in",children:[p.jsx("h3",{className:"text-lg font-bold text-slate-800",children:"Upload Record"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Select File"}),p.jsx("input",{type:"file",onChange:X,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-slate-600",children:"Category"}),p.jsx("select",{value:xe,onChange:Q=>ye(Q.target.value),className:"w-full p-3 bg-slate-50 rounded-xl border border-slate-200 outline-none focus:ring-2 focus:ring-primary/20",children:S.filter(Q=>Q!=="All").map(Q=>p.jsx("option",{value:Q,children:Q},Q))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-sm font-medium text-slate-600",children:s?"Tag a Doctor (Optional - e.g. for Referral)":"Assign to Doctor (Optional)"}),p.jsxs("select",{value:R,onChange:Q=>A(Q.target.value),className:"w-full p-3 bg-slate-50 rounded-xl border border-slate-200 outline-none focus:ring-2 focus:ring-primary/20",children:[p.jsxs("option",{value:"",children:["-- ",s?"No Specific Doctor":"General Record"," --"]}),E.map(Q=>p.jsxs("option",{value:Q.id,children:["Dr. ",Q.full_name," (",Q.clinic_name||"General Practice",")"]},Q.id))]})]}),p.jsxs("div",{className:"flex gap-3 pt-2",children:[p.jsx("button",{onClick:()=>N(!1),className:"flex-1 py-3 text-slate-500 font-bold hover:bg-slate-50 rounded-xl transition-colors",children:"Cancel"}),p.jsxs("button",{onClick:se,disabled:!C||W,className:"flex-1 py-3 bg-primary text-white font-bold rounded-xl hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center gap-2",children:[W?"Uploading...":"Upload",!W&&p.jsx(Nc,{className:"h-4 w-4 rotate-180"})]})]})]})}),p.jsxs("div",{className:"flex justify-between items-end",children:[p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:y.records}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Securely encrypted end-to-end"})]}),p.jsxs("button",{onClick:()=>N(!0),className:"cursor-pointer bg-primary text-white px-4 py-2 rounded-xl font-semibold text-sm hover:bg-primary-dark transition-colors flex items-center gap-2",children:[p.jsx(Nc,{className:"h-4 w-4 rotate-180"}),"Upload"]})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsxs("div",{className:"relative flex-1",children:[p.jsx(fp,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),p.jsx("input",{type:"text",placeholder:y.search,className:"w-full pl-10 pr-4 py-3 bg-white border border-slate-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-primary/20 focus:border-primary transition-all"})]}),p.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0 scrollbar-hide",children:S.map(Q=>p.jsx("button",{onClick:()=>u(Q),className:`px-4 py-2 rounded-xl text-xs font-semibold whitespace-nowrap transition-all ${o===Q?"bg-slate-800 text-white shadow-md":"bg-white border border-slate-200 text-slate-600 hover:bg-slate-50"}`,children:Q},Q))})]}),p.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.length===0?p.jsx("div",{className:"text-center py-10",children:p.jsx("p",{className:"text-slate-400 text-sm",children:"No records found."})}):r.map(Q=>p.jsxs("div",{className:"group bg-white p-4 rounded-2xl border border-slate-100 shadow-sm hover:shadow-md transition-all flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-50 flex items-center justify-center text-primary group-hover:bg-primary group-hover:text-white transition-colors duration-300",children:p.jsx(Fs,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-800 text-sm md:text-base",children:Q.diagnosis}),p.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500 mt-1",children:[p.jsx("span",{className:"font-medium text-slate-600",children:Q.doctor}),p.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-300"}),p.jsx("span",{children:new Date(Q.date).toLocaleDateString()})]})]})]}),Q.file_url&&p.jsx("a",{href:Q.file_url,target:"_blank",rel:"noopener noreferrer",className:"p-2 rounded-lg text-slate-300 hover:text-primary hover:bg-primary/5 transition-colors",children:p.jsx(Nc,{className:"h-5 w-5"})})]},Q.id))})]})},HS=()=>{const[s,n]=b.useState(""),[r,i]=b.useState([]),[o,u]=b.useState([]),[d,m]=b.useState(null),[h,g]=b.useState(!0),[y,_]=b.useState(!1),[S,E]=b.useState(!1),[O,R]=b.useState(null),[A,$]=b.useState(null),[N,C]=b.useState("en"),K=b.useRef(null),W=b.useRef(null);b.useEffect(()=>{const se=localStorage.getItem("appLanguage");se&&C(se)},[]);const te=ro[N];b.useEffect(()=>{(async()=>{const{data:{user:Q}}=await ae.auth.getUser();if(!Q)return;const{data:Te}=await ae.from("profiles").select("role, full_name").eq("id",Q.id).single();$(Te);const le=Te?.role==="doctor";let de=[];if(le){const{data:me}=await ae.from("appointments").select("user_id, user:profiles!appointments_user_id_fkey(full_name, avatar_url)").eq("doctor_id",Q.id).neq("user_id",Q.id).in("status",["approved","completed"]),B=new Map;me?.forEach(Y=>{Y.user_id&&!B.has(Y.user_id)&&B.set(Y.user_id,{id:Y.user_id,name:Y.user?.full_name||"Unknown Patient",role:"Patient",avatar_url:Y.user?.avatar_url})}),de=Array.from(B.values())}else{const{data:me}=await ae.from("appointments").select("doctor_id").eq("user_id",Q.id).in("status",["approved","completed"]).not("doctor_id","is",null),B=Array.from(new Set(me?.map(Y=>Y.doctor_id).filter(Y=>Y)||[]));if(B.length>0){const{data:Y}=await ae.from("profiles").select("id, full_name, role, avatar_url").in("id",B);Y&&(de=Y.map(ne=>({id:ne.id,name:ne.full_name||"Unknown Doctor",role:"General Practitioner",avatar_url:ne.avatar_url})))}de.length===0&&de.push({id:"system",name:"MediLink Support",role:"System Admin"})}u(de),de.length>0&&m(de[0])})()},[]);const X=async()=>{const{data:{user:se}}=await ae.auth.getUser();if(!se||!d)return;const{data:Q}=await ae.from("profiles").select("role, full_name").eq("id",se.id).single(),Te=Q?.role==="doctor";let le=ae.from("messages").select("*").order("created_at",{ascending:!0});Te?le=le.eq("user_id",d.id).eq("contact_name",Q?.full_name):le=le.eq("user_id",se.id).eq("contact_name",d.name);const{data:de,error:me}=await le;if(me)Ae.error("Error fetching messages");else{i(de||[]);const B=de?.filter(Y=>(Te?Y.is_from_user:!Y.is_from_user)&&!Y.read).map(Y=>Y.id);B&&B.length>0&&await ae.from("messages").update({read:!0}).in("id",B)}g(!1)};b.useEffect(()=>{if(d){g(!0),X();const se=setInterval(X,5e3);return()=>clearInterval(se)}},[d]),b.useEffect(()=>{K.current?.scrollIntoView({behavior:"smooth"})},[r]);const xe=se=>{se.target.files&&se.target.files[0]&&R(se.target.files[0])},ye=async se=>{if(se.preventDefault(),!s.trim()&&!O||!d)return;const{data:{user:Q}}=await ae.auth.getUser();if(!Q)return;let Te=null,le=null;if(O){E(!0);const _e=O.name.split(".").pop(),M=`${Q.id}/${Date.now()}.${_e}`,{error:w}=await ae.storage.from("chat-attachments").upload(M,O);if(w){Ae.error("Failed to upload file"),E(!1);return}const{data:{publicUrl:D}}=ae.storage.from("chat-attachments").getPublicUrl(M);Te=D,le=O.type.startsWith("image/")?"image":"file",E(!1)}const de=s;n(""),R(null);const me=A?.role==="doctor",B={id:Date.now(),contact_name:d.name,role:d.role,text:de,is_from_user:!me,created_at:new Date().toISOString(),attachment_url:Te||void 0,attachment_type:le||void 0};i(_e=>[..._e,B]);const Y={user_id:me?d.id:Q.id,contact_name:me?A?.full_name:d.name,role:me?"General Practitioner":d.role,text:de,is_from_user:!me,attachment_url:Te,attachment_type:le},{error:ne}=await ae.from("messages").insert([Y]);ne?Ae.error("Failed to send"):Ae.success("Message sent securely",{icon:""})};return p.jsxs("div",{className:"h-[calc(100vh-140px)] flex gap-6 animate-fade-in pb-20 md:pb-0 relative",children:[p.jsx("button",{onClick:()=>_(!y),className:"md:hidden absolute top-4 left-4 z-30 p-2 bg-white rounded-full shadow-md text-slate-600",children:p.jsx(h_,{className:"h-6 w-6"})}),p.jsxs("div",{className:`
        absolute md:relative z-20 w-64 h-full bg-white rounded-3xl shadow-soft border border-slate-100 flex flex-col transition-transform duration-300
        ${y?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,children:[p.jsx("div",{className:"p-6 border-b border-slate-100",children:p.jsx("h2",{className:"font-bold text-slate-800 text-lg",children:te.messages})}),p.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:o.map(se=>p.jsxs("button",{onClick:()=>{m(se),_(!1)},className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all text-left ${d?.id===se.id?"bg-primary text-white shadow-md":"hover:bg-slate-50 text-slate-600"}`,children:[p.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden ${d?.id===se.id?"bg-white/20 text-white":"bg-slate-100 text-slate-400"}`,children:se.avatar_url?p.jsx("img",{src:se.avatar_url,alt:se.name,className:"h-full w-full object-cover"}):p.jsx(Pl,{className:"h-6 w-6"})}),p.jsxs("div",{className:"min-w-0",children:[p.jsx("p",{className:"font-bold text-sm truncate",children:["General Practitioner","doctor","Doctor"].includes(se.role)?pa(se.name):se.name}),p.jsx("p",{className:`text-xs truncate ${d?.id===se.id?"text-blue-100":"text-slate-400"}`,children:se.role})]})]},se.id))})]}),p.jsx("div",{className:"flex-1 flex flex-col bg-white rounded-3xl shadow-soft border border-slate-100 overflow-hidden relative",children:d?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"p-4 md:p-6 border-b border-slate-100 flex items-center gap-3 bg-white z-10 pl-16 md:pl-6",children:[p.jsx("div",{className:"h-10 w-10 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 overflow-hidden",children:d.avatar_url?p.jsx("img",{src:d.avatar_url,alt:d.name,className:"h-full w-full object-cover"}):p.jsx(Pl,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-bold text-slate-900 text-base md:text-lg leading-tight",children:["General Practitioner","doctor","Doctor"].includes(d.role)?pa(d.name):d.name}),p.jsx("p",{className:"text-xs text-slate-500",children:d.role})]})]}),p.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-slate-50/50",children:[h&&p.jsx("p",{className:"text-center text-slate-400 text-sm",children:"Loading secure messages..."}),!h&&r.length===0&&p.jsxs("div",{className:"text-center mt-10 text-slate-400",children:[p.jsx(Yl,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),p.jsx("p",{children:"No messages yet. Say hello!"})]}),r.map(se=>{const Q=A?.role==="doctor"&&!se.is_from_user||A?.role!=="doctor"&&se.is_from_user;return p.jsx("div",{className:`flex ${Q?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`max-w-[80%] rounded-2xl p-4 text-sm leading-relaxed shadow-sm ${Q?"bg-primary text-white rounded-br-none":"bg-white text-slate-700 border border-slate-100 rounded-bl-none"}`,children:[se.attachment_url&&p.jsx("div",{className:"mb-2",children:se.attachment_type==="image"?p.jsx("img",{src:se.attachment_url,alt:"Attachment",className:"rounded-lg max-h-48 object-cover border border-white/20"}):p.jsxs("a",{href:se.attachment_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-white/10 p-2 rounded-lg hover:bg-white/20 transition-colors",children:[p.jsx($0,{className:"h-4 w-4"}),p.jsx("span",{className:"underline",children:"View Attachment"})]})}),p.jsx("p",{children:se.text}),p.jsx("p",{className:`text-[10px] mt-1 text-right ${Q?"text-blue-100":"text-slate-400"}`,children:new Date(se.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},se.id)}),p.jsx("div",{ref:K})]}),p.jsxs("form",{onSubmit:ye,className:"p-4 bg-white border-t border-slate-100",children:[O&&p.jsxs("div",{className:"flex items-center gap-2 mb-2 bg-slate-50 p-2 rounded-lg w-fit",children:[p.jsx("span",{className:"text-xs text-slate-500 truncate max-w-[200px]",children:O.name}),p.jsx("button",{type:"button",onClick:()=>R(null),className:"text-slate-400 hover:text-red-500",children:p.jsx(pp,{className:"h-4 w-4"})})]}),p.jsxs("div",{className:"relative flex gap-2 items-center",children:[p.jsx("input",{type:"file",ref:W,className:"hidden",onChange:xe,accept:"image/*,.pdf,.doc,.docx"}),p.jsx("button",{type:"button",onClick:()=>W.current?.click(),className:"p-3 text-slate-400 hover:text-primary hover:bg-slate-50 rounded-xl transition-colors",title:"Attach File","aria-label":"Attach File",children:p.jsx($0,{className:"h-5 w-5"})}),p.jsx("input",{type:"text",value:s,onChange:se=>n(se.target.value),placeholder:`Message ${["General Practitioner","doctor","Doctor"].includes(d.role)?pa(d.name):d.name}...`,className:"flex-1 pl-4 pr-4 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-sm transition-all"}),p.jsx("button",{type:"submit",disabled:!s.trim()&&!O||S,className:"p-3 bg-primary text-white rounded-xl hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md shadow-blue-200 flex items-center justify-center",children:S?p.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):p.jsx(hp,{className:"h-5 w-5"})})]})]})]}):p.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-slate-400 p-6 text-center",children:[p.jsx(Yl,{className:"h-16 w-16 mb-4 opacity-20"}),p.jsx("p",{className:"text-lg font-medium",children:te.openInbox})]})})]})},$S=()=>{const s=vn(),[n,r]=b.useState("Loading..."),[i,o]=b.useState("Patient"),[u,d]=b.useState(null),[m,h]=b.useState(!1),[g,y]=b.useState(!1),[_,S]=b.useState(""),[E,O]=b.useState(""),[R,A]=b.useState(""),[$,N]=b.useState(""),[C,K]=b.useState("patient"),[W,te]=b.useState("en");b.useEffect(()=>{(async()=>{const{data:{user:me}}=await ae.auth.getUser();if(me){r(me.email||"Unknown");const{data:B}=await ae.from("profiles").select("full_name, avatar_url, role, clinic_name, clinic_address, nhs_number").eq("id",me.id).single();B&&(o(B.full_name||me.user_metadata?.full_name||"Patient"),d(B.avatar_url),K(B.role||"patient"),A(B.clinic_name||""),N(B.clinic_address||""),O(B.nhs_number||""))}})();const de=localStorage.getItem("appLanguage");(de==="en"||de==="es"||de==="ar")&&te(de)},[]);const X=le=>{const de=le.target.value;te(de),localStorage.setItem("appLanguage",de),window.location.reload()},xe=async le=>{try{if(h(!0),!le.target.files||le.target.files.length===0)throw new Error("You must select an image to upload.");const de=le.target.files[0],me=de.name.split(".").pop(),Y=`${`${Math.random()}.${me}`}`,{error:ne}=await ae.storage.from("avatars").upload(Y,de);if(ne)throw ne;const{data:{publicUrl:_e}}=ae.storage.from("avatars").getPublicUrl(Y),{data:{user:M}}=await ae.auth.getUser();if(M){const{error:w}=await ae.from("profiles").update({avatar_url:_e}).eq("id",M.id);if(w)throw w;d(_e),Ae.success("Profile picture updated!")}}catch(de){Ae.error(de.message)}finally{h(!1)}},ye=async()=>{if(_.trim())try{const{data:{user:le}}=await ae.auth.getUser();if(!le)return;const de={full_name:_,nhs_number:E};C==="doctor"&&(de.clinic_name=R,de.clinic_address=$);const{error:me}=await ae.from("profiles").update(de).eq("id",le.id);if(me)throw me;o(_),y(!1),Ae.success("Profile updated successfully!")}catch(le){Ae.error("Failed to update profile"),console.error(le)}},se=async()=>{await ae.auth.signOut(),s("/")},Q=[{icon:up,title:"Push Notifications",desc:"Receive updates about appointments",toggle:!0},{icon:T_,title:"Language",desc:"Select your preferred language",toggle:!1},{icon:Ps,title:"Privacy & Security",desc:"2FA and Password",toggle:!1,action:"Manage"}],Te=i.split(" ").map(le=>le[0]).join("").substring(0,2).toUpperCase();return p.jsxs("div",{className:"animate-fade-in space-y-6 pb-20",children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"My Profile"}),p.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-soft border border-slate-100 flex items-center gap-4",children:[p.jsxs("div",{className:"relative group",children:[p.jsxs("div",{className:"h-20 w-20 rounded-full bg-gradient-to-br from-primary to-primary-dark flex items-center justify-center text-white text-2xl font-bold shadow-lg shadow-blue-200 flex-shrink-0 overflow-hidden",children:[u?p.jsx("img",{src:u,alt:"Profile",className:"h-full w-full object-cover"}):Te,m&&p.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:p.jsx("div",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"})})]}),p.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity rounded-full cursor-pointer text-white text-xs font-bold",children:["Change",p.jsx("input",{type:"file",accept:"image/*",onChange:xe,disabled:m,className:"hidden"})]})]}),p.jsxs("div",{className:"overflow-hidden flex-1",children:[g?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"text",value:_,onChange:le=>S(le.target.value),className:"bg-slate-50 border border-slate-200 rounded-lg px-3 py-1 text-lg font-bold text-slate-900 focus:outline-none focus:ring-2 focus:ring-primary/20 w-full",autoFocus:!0}),p.jsx("button",{onClick:ye,className:"p-1.5 bg-green-100 text-green-600 rounded-lg hover:bg-green-200 transition-colors",children:p.jsx(x_,{className:"h-5 w-5"})}),p.jsx("button",{onClick:()=>y(!1),className:"p-1.5 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors",children:p.jsx(pp,{className:"h-5 w-5"})})]}):p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("h2",{className:"text-xl font-bold text-slate-900 truncate",children:i}),p.jsx("button",{onClick:()=>{S(i),y(!0)},className:"text-slate-400 hover:text-primary transition-colors",children:p.jsx(L_,{className:"h-4 w-4"})})]}),p.jsx("p",{className:"text-slate-500 text-sm truncate",children:n}),g?p.jsx("input",{type:"text",value:E,onChange:le=>O(le.target.value),placeholder:"NHS Number",className:"mt-2 block w-full text-xs font-medium text-primary bg-primary/5 border border-primary/20 rounded-md px-2 py-1 focus:outline-none focus:ring-2 focus:ring-primary/20"}):p.jsxs("p",{className:"text-xs font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-md w-fit mt-1",children:["NHS Number: ",E||"Not Set"]}),C==="doctor"&&p.jsx("div",{className:"mt-4 space-y-2",children:g?p.jsxs(p.Fragment,{children:[p.jsx("input",{type:"text",value:R,onChange:le=>A(le.target.value),placeholder:"Clinic Name",className:"block w-full text-sm border border-slate-200 rounded-lg px-2 py-1"}),p.jsx("input",{type:"text",value:$,onChange:le=>N(le.target.value),placeholder:"Clinic Address",className:"block w-full text-sm border border-slate-200 rounded-lg px-2 py-1"})]}):p.jsxs("div",{className:"text-sm text-slate-600",children:[p.jsx("p",{className:"font-semibold",children:R||"No Clinic Name Set"}),p.jsx("p",{children:$||"No Address Set"})]})})]})]}),p.jsxs("div",{className:"bg-white rounded-3xl shadow-soft border border-slate-100 overflow-hidden",children:[p.jsx("div",{className:"p-4 border-b border-slate-50 bg-slate-50/50",children:p.jsx("h3",{className:"font-bold text-slate-700 text-sm uppercase tracking-wider",children:"App Settings"})}),p.jsx("div",{className:"divide-y divide-slate-50",children:Q.map((le,de)=>p.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50 transition-colors",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"h-10 w-10 rounded-xl bg-slate-100 flex items-center justify-center text-slate-500",children:p.jsx(le.icon,{className:"h-6 w-6"})}),p.jsxs("div",{children:[p.jsx("p",{className:"font-medium text-slate-900 text-sm",children:le.title}),p.jsx("p",{className:"text-xs text-slate-500",children:le.desc})]})]}),le.title==="Language"?p.jsxs("select",{value:W,onChange:X,className:"bg-slate-50 border border-slate-200 text-slate-700 text-sm rounded-lg focus:ring-primary focus:border-primary block p-2.5 outline-none",children:[p.jsx("option",{value:"en",children:"English (UK)"}),p.jsx("option",{value:"es",children:"Espaol"}),p.jsx("option",{value:"ar",children:""})]}):le.toggle?p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),p.jsx("div",{className:"w-11 h-6 bg-slate-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary"})]}):p.jsx("button",{onClick:le.onClick,className:"text-xs font-bold text-primary hover:underline",children:le.action})]},de))})]}),p.jsxs("button",{onClick:se,className:"w-full bg-red-50 text-red-600 p-4 rounded-2xl font-medium flex items-center justify-center gap-2 hover:bg-red-100 transition-colors",children:[p.jsx(op,{className:"h-5 w-5"}),"Log Out Securely"]})]})},qS=()=>{const s=vn(),[n,r]=b.useState(0),[i,o]=b.useState("General"),[u,d]=b.useState(""),[m,h]=b.useState(!1),[g,y]=b.useState(!1),_=async S=>{S.preventDefault(),h(!0);const{data:{user:E}}=await ae.auth.getUser();if(E){const{error:O}=await ae.from("feedback").insert([{user_id:E.id,rating:n,category:i,comment:u}]);O?(Ae.error("Failed to submit feedback: "+O.message),h(!1)):(Ae.success("Feedback sent successfully!"),h(!1),y(!0))}else Ae.error("You must be logged in"),s("/")};return g?p.jsxs("div",{className:"min-h-[60vh] flex flex-col items-center justify-center animate-fade-in text-center p-6",children:[p.jsx("div",{className:"h-20 w-20 bg-green-100 rounded-full flex items-center justify-center mb-6",children:p.jsx(Vc,{className:"h-10 w-10 text-green-600"})}),p.jsx("h2",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Thank You!"}),p.jsx("p",{className:"text-slate-500 max-w-md mb-8",children:"Your feedback helps us improve NHS services for everyone. Your response has been recorded anonymously."}),p.jsx("button",{onClick:()=>s("/dashboard"),className:"px-6 py-3 bg-primary text-white rounded-xl font-semibold hover:bg-primary-dark transition-colors",children:"Return to Dashboard"})]}):p.jsxs("div",{className:"max-w-2xl mx-auto animate-slide-up pb-20",children:[p.jsxs("div",{className:"mb-8",children:[p.jsx("h1",{className:"text-2xl font-bold text-slate-800",children:"Give Feedback"}),p.jsx("p",{className:"text-slate-500 text-sm",children:"Rate your experience with MediLink services"})]}),p.jsx("div",{className:"bg-white p-6 md:p-8 rounded-3xl shadow-soft border border-slate-100",children:p.jsxs("form",{onSubmit:_,className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-3",children:"How would you rate your experience?"}),p.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(S=>p.jsx("button",{type:"button",onClick:()=>r(S),className:"transition-transform hover:scale-110 focus:outline-none",children:n>=S?p.jsx(Vc,{className:"h-10 w-10 text-yellow-400"}):p.jsx(mp,{className:"h-10 w-10 text-slate-300 hover:text-yellow-200"})},S))}),n===0&&p.jsx("p",{className:"text-xs text-red-400 mt-2",children:"* Please select a rating"})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Category"}),p.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:["General","App Usability","Booking Process","Video Call","Staff"].map(S=>p.jsx("button",{type:"button",onClick:()=>o(S),className:`px-4 py-2 rounded-xl text-sm font-medium border transition-all ${i===S?"bg-primary text-white border-primary":"bg-white text-slate-500 border-slate-200 hover:bg-slate-50"}`,children:S},S))})]}),p.jsxs("div",{children:[p.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Your Comments"}),p.jsx("textarea",{required:!0,value:u,onChange:S=>d(S.target.value),rows:4,placeholder:"Tell us what went well or what we can improve...",className:"w-full p-4 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none transition-all resize-none text-sm"})]}),p.jsx("button",{type:"submit",disabled:n===0||m,className:"w-full py-4 bg-primary text-white rounded-xl font-bold shadow-lg shadow-blue-200 hover:shadow-xl hover:bg-primary-dark transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m?p.jsx("span",{className:"h-5 w-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):"Submit Feedback"})]})})]})};var bg;(function(s){s.STRING="string",s.NUMBER="number",s.INTEGER="integer",s.BOOLEAN="boolean",s.ARRAY="array",s.OBJECT="object"})(bg||(bg={}));var wg;(function(s){s.LANGUAGE_UNSPECIFIED="language_unspecified",s.PYTHON="python"})(wg||(wg={}));var _g;(function(s){s.OUTCOME_UNSPECIFIED="outcome_unspecified",s.OUTCOME_OK="outcome_ok",s.OUTCOME_FAILED="outcome_failed",s.OUTCOME_DEADLINE_EXCEEDED="outcome_deadline_exceeded"})(_g||(_g={}));const xg=["user","model","function","system"];var Sg;(function(s){s.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",s.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",s.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",s.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",s.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",s.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Sg||(Sg={}));var Eg;(function(s){s.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",s.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",s.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",s.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",s.BLOCK_NONE="BLOCK_NONE"})(Eg||(Eg={}));var jg;(function(s){s.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",s.NEGLIGIBLE="NEGLIGIBLE",s.LOW="LOW",s.MEDIUM="MEDIUM",s.HIGH="HIGH"})(jg||(jg={}));var Og;(function(s){s.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER"})(Og||(Og={}));var Js;(function(s){s.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",s.STOP="STOP",s.MAX_TOKENS="MAX_TOKENS",s.SAFETY="SAFETY",s.RECITATION="RECITATION",s.LANGUAGE="LANGUAGE",s.BLOCKLIST="BLOCKLIST",s.PROHIBITED_CONTENT="PROHIBITED_CONTENT",s.SPII="SPII",s.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",s.OTHER="OTHER"})(Js||(Js={}));var Ag;(function(s){s.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",s.RETRIEVAL_QUERY="RETRIEVAL_QUERY",s.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",s.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",s.CLASSIFICATION="CLASSIFICATION",s.CLUSTERING="CLUSTERING"})(Ag||(Ag={}));var Tg;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.AUTO="AUTO",s.ANY="ANY",s.NONE="NONE"})(Tg||(Tg={}));var Rg;(function(s){s.MODE_UNSPECIFIED="MODE_UNSPECIFIED",s.MODE_DYNAMIC="MODE_DYNAMIC"})(Rg||(Rg={}));class bt extends Error{constructor(n){super(`[GoogleGenerativeAI Error]: ${n}`)}}class Br extends bt{constructor(n,r){super(n),this.response=r}}class dv extends bt{constructor(n,r,i,o){super(n),this.status=r,this.statusText=i,this.errorDetails=o}}class va extends bt{}class fv extends bt{}const IS="https://generativelanguage.googleapis.com",GS="v1beta",VS="0.24.1",YS="genai-js";var Ka;(function(s){s.GENERATE_CONTENT="generateContent",s.STREAM_GENERATE_CONTENT="streamGenerateContent",s.COUNT_TOKENS="countTokens",s.EMBED_CONTENT="embedContent",s.BATCH_EMBED_CONTENTS="batchEmbedContents"})(Ka||(Ka={}));class PS{constructor(n,r,i,o,u){this.model=n,this.task=r,this.apiKey=i,this.stream=o,this.requestOptions=u}toString(){var n,r;const i=((n=this.requestOptions)===null||n===void 0?void 0:n.apiVersion)||GS;let u=`${((r=this.requestOptions)===null||r===void 0?void 0:r.baseUrl)||IS}/${i}/${this.model}:${this.task}`;return this.stream&&(u+="?alt=sse"),u}}function KS(s){const n=[];return s?.apiClient&&n.push(s.apiClient),n.push(`${YS}/${VS}`),n.join(" ")}async function ZS(s){var n;const r=new Headers;r.append("Content-Type","application/json"),r.append("x-goog-api-client",KS(s.requestOptions)),r.append("x-goog-api-key",s.apiKey);let i=(n=s.requestOptions)===null||n===void 0?void 0:n.customHeaders;if(i){if(!(i instanceof Headers))try{i=new Headers(i)}catch(o){throw new va(`unable to convert customHeaders value ${JSON.stringify(i)} to Headers: ${o.message}`)}for(const[o,u]of i.entries()){if(o==="x-goog-api-key")throw new va(`Cannot set reserved header name ${o}`);if(o==="x-goog-api-client")throw new va(`Header name ${o} can only be set using the apiClient field`);r.append(o,u)}}return r}async function JS(s,n,r,i,o,u){const d=new PS(s,n,r,i,u);return{url:d.toString(),fetchOptions:Object.assign(Object.assign({},WS(u)),{method:"POST",headers:await ZS(d),body:o})}}async function ui(s,n,r,i,o,u={},d=fetch){const{url:m,fetchOptions:h}=await JS(s,n,r,i,o,u);return QS(m,h,d)}async function QS(s,n,r=fetch){let i;try{i=await r(s,n)}catch(o){XS(o,s)}return i.ok||await FS(i,s),i}function XS(s,n){let r=s;throw r.name==="AbortError"?(r=new fv(`Request aborted when fetching ${n.toString()}: ${s.message}`),r.stack=s.stack):s instanceof dv||s instanceof va||(r=new bt(`Error fetching from ${n.toString()}: ${s.message}`),r.stack=s.stack),r}async function FS(s,n){let r="",i;try{const o=await s.json();r=o.error.message,o.error.details&&(r+=` ${JSON.stringify(o.error.details)}`,i=o.error.details)}catch{}throw new dv(`Error fetching from ${n.toString()}: [${s.status} ${s.statusText}] ${r}`,s.status,s.statusText,i)}function WS(s){const n={};if(s?.signal!==void 0||s?.timeout>=0){const r=new AbortController;s?.timeout>=0&&setTimeout(()=>r.abort(),s.timeout),s?.signal&&s.signal.addEventListener("abort",()=>{r.abort()}),n.signal=r.signal}return n}function xd(s){return s.text=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),Il(s.candidates[0]))throw new Br(`${ha(s)}`,s);return eE(s)}else if(s.promptFeedback)throw new Br(`Text not available. ${ha(s)}`,s);return""},s.functionCall=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Il(s.candidates[0]))throw new Br(`${ha(s)}`,s);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),Ng(s)[0]}else if(s.promptFeedback)throw new Br(`Function call not available. ${ha(s)}`,s)},s.functionCalls=()=>{if(s.candidates&&s.candidates.length>0){if(s.candidates.length>1&&console.warn(`This response had ${s.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),Il(s.candidates[0]))throw new Br(`${ha(s)}`,s);return Ng(s)}else if(s.promptFeedback)throw new Br(`Function call not available. ${ha(s)}`,s)},s}function eE(s){var n,r,i,o;const u=[];if(!((r=(n=s.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const d of(o=(i=s.candidates)===null||i===void 0?void 0:i[0].content)===null||o===void 0?void 0:o.parts)d.text&&u.push(d.text),d.executableCode&&u.push("\n```"+d.executableCode.language+`
`+d.executableCode.code+"\n```\n"),d.codeExecutionResult&&u.push("\n```\n"+d.codeExecutionResult.output+"\n```\n");return u.length>0?u.join(""):""}function Ng(s){var n,r,i,o;const u=[];if(!((r=(n=s.candidates)===null||n===void 0?void 0:n[0].content)===null||r===void 0)&&r.parts)for(const d of(o=(i=s.candidates)===null||i===void 0?void 0:i[0].content)===null||o===void 0?void 0:o.parts)d.functionCall&&u.push(d.functionCall);if(u.length>0)return u}const tE=[Js.RECITATION,Js.SAFETY,Js.LANGUAGE];function Il(s){return!!s.finishReason&&tE.includes(s.finishReason)}function ha(s){var n,r,i;let o="";if((!s.candidates||s.candidates.length===0)&&s.promptFeedback)o+="Response was blocked",!((n=s.promptFeedback)===null||n===void 0)&&n.blockReason&&(o+=` due to ${s.promptFeedback.blockReason}`),!((r=s.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(o+=`: ${s.promptFeedback.blockReasonMessage}`);else if(!((i=s.candidates)===null||i===void 0)&&i[0]){const u=s.candidates[0];Il(u)&&(o+=`Candidate was blocked due to ${u.finishReason}`,u.finishMessage&&(o+=`: ${u.finishMessage}`))}return o}function ni(s){return this instanceof ni?(this.v=s,this):new ni(s)}function nE(s,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(s,n||[]),o,u=[];return o={},d("next"),d("throw"),d("return"),o[Symbol.asyncIterator]=function(){return this},o;function d(S){i[S]&&(o[S]=function(E){return new Promise(function(O,R){u.push([S,E,O,R])>1||m(S,E)})})}function m(S,E){try{h(i[S](E))}catch(O){_(u[0][3],O)}}function h(S){S.value instanceof ni?Promise.resolve(S.value.v).then(g,y):_(u[0][2],S)}function g(S){m("next",S)}function y(S){m("throw",S)}function _(S,E){S(E),u.shift(),u.length&&m(u[0][0],u[0][1])}}const Cg=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function aE(s){const n=s.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=iE(n),[i,o]=r.tee();return{stream:sE(i),response:rE(o)}}async function rE(s){const n=[],r=s.getReader();for(;;){const{done:i,value:o}=await r.read();if(i)return xd(lE(n));n.push(o)}}function sE(s){return nE(this,arguments,function*(){const r=s.getReader();for(;;){const{value:i,done:o}=yield ni(r.read());if(o)break;yield yield ni(xd(i))}})}function iE(s){const n=s.getReader();return new ReadableStream({start(i){let o="";return u();function u(){return n.read().then(({value:d,done:m})=>{if(m){if(o.trim()){i.error(new bt("Failed to parse stream"));return}i.close();return}o+=d;let h=o.match(Cg),g;for(;h;){try{g=JSON.parse(h[1])}catch{i.error(new bt(`Error parsing JSON response: "${h[1]}"`));return}i.enqueue(g),o=o.substring(h[0].length),h=o.match(Cg)}return u()}).catch(d=>{let m=d;throw m.stack=d.stack,m.name==="AbortError"?m=new fv("Request aborted when reading from the stream"):m=new bt("Error reading from the stream"),m})}}})}function lE(s){const n=s[s.length-1],r={promptFeedback:n?.promptFeedback};for(const i of s){if(i.candidates){let o=0;for(const u of i.candidates)if(r.candidates||(r.candidates=[]),r.candidates[o]||(r.candidates[o]={index:o}),r.candidates[o].citationMetadata=u.citationMetadata,r.candidates[o].groundingMetadata=u.groundingMetadata,r.candidates[o].finishReason=u.finishReason,r.candidates[o].finishMessage=u.finishMessage,r.candidates[o].safetyRatings=u.safetyRatings,u.content&&u.content.parts){r.candidates[o].content||(r.candidates[o].content={role:u.content.role||"user",parts:[]});const d={};for(const m of u.content.parts)m.text&&(d.text=m.text),m.functionCall&&(d.functionCall=m.functionCall),m.executableCode&&(d.executableCode=m.executableCode),m.codeExecutionResult&&(d.codeExecutionResult=m.codeExecutionResult),Object.keys(d).length===0&&(d.text=""),r.candidates[o].content.parts.push(d)}o++}i.usageMetadata&&(r.usageMetadata=i.usageMetadata)}return r}async function hv(s,n,r,i){const o=await ui(n,Ka.STREAM_GENERATE_CONTENT,s,!0,JSON.stringify(r),i);return aE(o)}async function mv(s,n,r,i){const u=await(await ui(n,Ka.GENERATE_CONTENT,s,!1,JSON.stringify(r),i)).json();return{response:xd(u)}}function gv(s){if(s!=null){if(typeof s=="string")return{role:"system",parts:[{text:s}]};if(s.text)return{role:"system",parts:[s]};if(s.parts)return s.role?s:{role:"system",parts:s.parts}}}function ai(s){let n=[];if(typeof s=="string")n=[{text:s}];else for(const r of s)typeof r=="string"?n.push({text:r}):n.push(r);return oE(n)}function oE(s){const n={role:"user",parts:[]},r={role:"function",parts:[]};let i=!1,o=!1;for(const u of s)"functionResponse"in u?(r.parts.push(u),o=!0):(n.parts.push(u),i=!0);if(i&&o)throw new bt("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!i&&!o)throw new bt("No content is provided for sending chat message.");return i?n:r}function uE(s,n){var r;let i={model:n?.model,generationConfig:n?.generationConfig,safetySettings:n?.safetySettings,tools:n?.tools,toolConfig:n?.toolConfig,systemInstruction:n?.systemInstruction,cachedContent:(r=n?.cachedContent)===null||r===void 0?void 0:r.name,contents:[]};const o=s.generateContentRequest!=null;if(s.contents){if(o)throw new va("CountTokensRequest must have one of contents or generateContentRequest, not both.");i.contents=s.contents}else if(o)i=Object.assign(Object.assign({},i),s.generateContentRequest);else{const u=ai(s);i.contents=[u]}return{generateContentRequest:i}}function kg(s){let n;return s.contents?n=s:n={contents:[ai(s)]},s.systemInstruction&&(n.systemInstruction=gv(s.systemInstruction)),n}function cE(s){return typeof s=="string"||Array.isArray(s)?{content:ai(s)}:s}const Mg=["text","inlineData","functionCall","functionResponse","executableCode","codeExecutionResult"],dE={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall","executableCode","codeExecutionResult"],system:["text"]};function fE(s){let n=!1;for(const r of s){const{role:i,parts:o}=r;if(!n&&i!=="user")throw new bt(`First content should be with role 'user', got ${i}`);if(!xg.includes(i))throw new bt(`Each item should include role field. Got ${i} but valid roles are: ${JSON.stringify(xg)}`);if(!Array.isArray(o))throw new bt("Content should have 'parts' property with an array of Parts");if(o.length===0)throw new bt("Each Content should have at least one part");const u={text:0,inlineData:0,functionCall:0,functionResponse:0,fileData:0,executableCode:0,codeExecutionResult:0};for(const m of o)for(const h of Mg)h in m&&(u[h]+=1);const d=dE[i];for(const m of Mg)if(!d.includes(m)&&u[m]>0)throw new bt(`Content with role '${i}' can't contain '${m}' part`);n=!0}}function Dg(s){var n;if(s.candidates===void 0||s.candidates.length===0)return!1;const r=(n=s.candidates[0])===null||n===void 0?void 0:n.content;if(r===void 0||r.parts===void 0||r.parts.length===0)return!1;for(const i of r.parts)if(i===void 0||Object.keys(i).length===0||i.text!==void 0&&i.text==="")return!1;return!0}const Ug="SILENT_ERROR";class hE{constructor(n,r,i,o={}){this.model=r,this.params=i,this._requestOptions=o,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=n,i?.history&&(fE(i.history),this._history=i.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(n,r={}){var i,o,u,d,m,h;await this._sendPromise;const g=ai(n),y={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,g]},_=Object.assign(Object.assign({},this._requestOptions),r);let S;return this._sendPromise=this._sendPromise.then(()=>mv(this._apiKey,this.model,y,_)).then(E=>{var O;if(Dg(E.response)){this._history.push(g);const R=Object.assign({parts:[],role:"model"},(O=E.response.candidates)===null||O===void 0?void 0:O[0].content);this._history.push(R)}else{const R=ha(E.response);R&&console.warn(`sendMessage() was unsuccessful. ${R}. Inspect response object for details.`)}S=E}).catch(E=>{throw this._sendPromise=Promise.resolve(),E}),await this._sendPromise,S}async sendMessageStream(n,r={}){var i,o,u,d,m,h;await this._sendPromise;const g=ai(n),y={safetySettings:(i=this.params)===null||i===void 0?void 0:i.safetySettings,generationConfig:(o=this.params)===null||o===void 0?void 0:o.generationConfig,tools:(u=this.params)===null||u===void 0?void 0:u.tools,toolConfig:(d=this.params)===null||d===void 0?void 0:d.toolConfig,systemInstruction:(m=this.params)===null||m===void 0?void 0:m.systemInstruction,cachedContent:(h=this.params)===null||h===void 0?void 0:h.cachedContent,contents:[...this._history,g]},_=Object.assign(Object.assign({},this._requestOptions),r),S=hv(this._apiKey,this.model,y,_);return this._sendPromise=this._sendPromise.then(()=>S).catch(E=>{throw new Error(Ug)}).then(E=>E.response).then(E=>{if(Dg(E)){this._history.push(g);const O=Object.assign({},E.candidates[0].content);O.role||(O.role="model"),this._history.push(O)}else{const O=ha(E);O&&console.warn(`sendMessageStream() was unsuccessful. ${O}. Inspect response object for details.`)}}).catch(E=>{E.message!==Ug&&console.error(E)}),S}}async function mE(s,n,r,i){return(await ui(n,Ka.COUNT_TOKENS,s,!1,JSON.stringify(r),i)).json()}async function gE(s,n,r,i){return(await ui(n,Ka.EMBED_CONTENT,s,!1,JSON.stringify(r),i)).json()}async function pE(s,n,r,i){const o=r.requests.map(d=>Object.assign(Object.assign({},d),{model:n}));return(await ui(n,Ka.BATCH_EMBED_CONTENTS,s,!1,JSON.stringify({requests:o}),i)).json()}class Lg{constructor(n,r,i={}){this.apiKey=n,this._requestOptions=i,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.tools=r.tools,this.toolConfig=r.toolConfig,this.systemInstruction=gv(r.systemInstruction),this.cachedContent=r.cachedContent}async generateContent(n,r={}){var i;const o=kg(n),u=Object.assign(Object.assign({},this._requestOptions),r);return mv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},o),u)}async generateContentStream(n,r={}){var i;const o=kg(n),u=Object.assign(Object.assign({},this._requestOptions),r);return hv(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(i=this.cachedContent)===null||i===void 0?void 0:i.name},o),u)}startChat(n){var r;return new hE(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:(r=this.cachedContent)===null||r===void 0?void 0:r.name},n),this._requestOptions)}async countTokens(n,r={}){const i=uE(n,{model:this.model,generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction,cachedContent:this.cachedContent}),o=Object.assign(Object.assign({},this._requestOptions),r);return mE(this.apiKey,this.model,i,o)}async embedContent(n,r={}){const i=cE(n),o=Object.assign(Object.assign({},this._requestOptions),r);return gE(this.apiKey,this.model,i,o)}async batchEmbedContents(n,r={}){const i=Object.assign(Object.assign({},this._requestOptions),r);return pE(this.apiKey,this.model,n,i)}}class vE{constructor(n){this.apiKey=n}getGenerativeModel(n,r){if(!n.model)throw new bt("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new Lg(this.apiKey,n,r)}getGenerativeModelFromCachedContent(n,r,i){if(!n.name)throw new va("Cached content must contain a `name` field.");if(!n.model)throw new va("Cached content must contain a `model` field.");const o=["model","systemInstruction"];for(const d of o)if(r?.[d]&&n[d]&&r?.[d]!==n[d]){if(d==="model"){const m=r.model.startsWith("models/")?r.model.replace("models/",""):r.model,h=n.model.startsWith("models/")?n.model.replace("models/",""):n.model;if(m===h)continue}throw new va(`Different value for "${d}" specified in modelParams (${r[d]}) and cachedContent (${n[d]})`)}const u=Object.assign(Object.assign({},r),{model:n.model,tools:n.tools,toolConfig:n.toolConfig,systemInstruction:n.systemInstruction,cachedContent:n});return new Lg(this.apiKey,u,i)}}const yE="AIzaSyDHiwrtjxtjpDpgwW2dqloAsJQnAysQgdI",bE=new vE(yE),wE=["gemini-2.5-flash","gemini-2.0-flash","gemini-2.0-flash-exp","gemini-1.5-flash","gemini-pro"],_E=`
You are MediLink AI, a helpful and professional medical triage assistant.
Your goal is to help users understand their symptoms and decide if they need to see a doctor.

RULES:
1. Be concise. Keep responses under 50 words unless explaining a complex condition.
2. Always end your response with a question to gather more info, OR a recommendation.
3. If the user mentions severe symptoms (chest pain, difficulty breathing, severe bleeding, stroke signs), IMMEDIATELY recommend calling emergency services (999/911).
4. Do NOT diagnose. Use phrases like "This could be..." or "It sounds like...".
5. At the end of every response, provide 3-4 short, actionable options for the user to click, formatted EXACTLY like this at the very end of the string:
   OPTIONS: [Option 1] [Option 2] [Option 3]

Example Response:
"Headaches can be caused by dehydration or stress. How long have you had it?"
OPTIONS: [Less than 1 day] [2-3 days] [More than a week]
`,xE=async(s,n)=>{let r=null;for(const i of wE)try{const h=(await bE.getGenerativeModel({model:i}).startChat({history:[{role:"user",parts:[{text:_E}]},{role:"model",parts:[{text:"Understood. I am MediLink AI. I will follow the triage rules and format options as requested."}]},...s.map(E=>({role:E.role,parts:[{text:E.parts}]}))]}).sendMessage(n)).response.text(),g=/OPTIONS: (\[.*?\]\s*)+/g,y=h.match(g);let _=h.replace(g,"").trim(),S=[];if(y){const O=y[0].replace("OPTIONS:","").trim().match(/\[(.*?)\]/g);O&&(S=O.map(R=>R.slice(1,-1)))}return S.length===0&&(S=["Tell me more","Back to Dashboard"]),{text:_,options:S}}catch(o){console.warn(`Failed with model ${i}:`,o.message),r=o}return console.error("All Gemini models failed. Last error:",r),{text:`I'm having trouble connecting to the medical database. (All models failed. Last error: ${r?.message||"Unknown"})`,options:["Retry","Go to Dashboard"]}},SE=()=>{const s=vn(),n=b.useRef(null),[r,i]=b.useState(!1),[o,u]=b.useState(""),[d,m]=b.useState([{id:1,role:"bot",text:"Hello. I am the MediLink AI Assistant. I can help you decide if you need to see a doctor. What is your main symptom?",options:["Headache","Fever","Stomach Pain","Cough / Flu"]}]);b.useEffect(()=>{n.current?.scrollIntoView({behavior:"smooth"})},[d,r]);const h=async y=>{if(!y.trim())return;const _={id:Date.now(),role:"user",text:y},S=[...d,_];if(m(S),u(""),i(!0),y==="Book Now"){s("/appointments");return}if(y==="No thanks"||y==="Back to Dashboard"){s("/dashboard");return}const E=S.map(A=>({role:A.role==="bot"?"model":"user",parts:A.text})),O=await xE(E,y),R={id:Date.now()+1,role:"bot",text:O.text,options:O.options};m(A=>[...A,R]),i(!1)},g=y=>{y.preventDefault(),h(o)};return p.jsxs("div",{className:"max-w-2xl mx-auto animate-fade-in pb-20",children:[p.jsxs("div",{className:"mb-6",children:[p.jsxs("h1",{className:"text-2xl font-bold text-slate-800 flex items-center gap-2",children:[p.jsx(Ps,{className:"h-8 w-8 text-primary"}),"AI Symptom Checker"]}),p.jsx("p",{className:"text-slate-500 text-sm",children:"An automated triage system to save you time."})]}),p.jsxs("div",{className:"bg-white rounded-3xl shadow-soft border border-slate-100 overflow-hidden min-h-[500px] flex flex-col",children:[p.jsxs("div",{className:"flex-1 p-6 space-y-6 overflow-y-auto bg-slate-50/50 max-h-[500px]",children:[d.map(y=>p.jsx("div",{className:`flex ${y.role==="user"?"justify-end":"justify-start"}`,children:p.jsxs("div",{className:`flex gap-3 max-w-[85%] ${y.role==="user"?"flex-row-reverse":""}`,children:[p.jsx("div",{className:`h-8 w-8 rounded-full flex-shrink-0 flex items-center justify-center ${y.role==="bot"?"bg-primary text-white":"bg-slate-200 text-slate-500"}`,children:y.role==="bot"?p.jsx(Ps,{className:"h-5 w-5"}):p.jsx(Yl,{className:"h-5 w-5"})}),p.jsx("div",{className:`p-4 rounded-2xl text-sm shadow-sm ${y.role==="user"?"bg-primary text-white rounded-tr-none":"bg-white text-slate-700 border border-slate-200 rounded-tl-none"}`,children:y.text})]})},y.id)),r&&p.jsx("div",{className:"flex justify-start",children:p.jsxs("div",{className:"flex gap-3 max-w-[85%]",children:[p.jsx("div",{className:"h-8 w-8 rounded-full flex-shrink-0 flex items-center justify-center bg-primary text-white animate-pulse",children:p.jsx(Ps,{className:"h-5 w-5"})}),p.jsx("div",{className:"p-4 rounded-2xl text-sm shadow-sm bg-white text-slate-500 border border-slate-200 rounded-tl-none italic",children:"Thinking..."})]})}),p.jsx("div",{ref:n})]}),p.jsxs("div",{className:"p-4 bg-white border-t border-slate-100",children:[d[d.length-1].role==="bot"&&d[d.length-1].options&&p.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:d[d.length-1].options?.map(y=>p.jsx("button",{onClick:()=>h(y),className:"px-4 py-2 rounded-full bg-slate-50 border border-slate-200 text-slate-600 text-sm font-medium hover:bg-primary hover:text-white hover:border-primary transition-all active:scale-95",children:y},y))}),p.jsxs("form",{onSubmit:g,className:"relative flex items-center gap-2",children:[p.jsx("input",{type:"text",value:o,onChange:y=>u(y.target.value),placeholder:"Type your symptoms...",className:"flex-1 pl-4 pr-12 py-3 rounded-xl border border-slate-200 bg-slate-50 focus:bg-white focus:ring-2 focus:ring-primary/20 focus:border-primary outline-none text-sm transition-all",disabled:r,"aria-label":"Describe your symptoms"}),p.jsx("button",{type:"submit",disabled:!o.trim()||r,className:"absolute right-2 p-2 bg-primary text-white rounded-lg hover:bg-primary-dark transition-colors disabled:opacity-50 disabled:cursor-not-allowed","aria-label":"Send message",children:p.jsx(hp,{className:"h-5 w-5"})})]}),p.jsxs("p",{className:"text-center text-xs text-slate-400 mt-3 flex items-center justify-center gap-1",children:[p.jsx(O_,{className:"h-3 w-3"}),"Not for emergencies. Call 999 if urgent."]})]})]})]})},EE=()=>{const{userId:s}=Sw();return p.jsx(cv,{userId:s})};function jE(){return p.jsxs(o1,{basename:"/medilink/",children:[p.jsx(s_,{position:"top-center",reverseOrder:!1,toastOptions:{style:{borderRadius:"12px",background:"#333",color:"#fff",fontSize:"14px"}}}),p.jsxs(Hw,{children:[p.jsx(Nt,{path:"/",element:p.jsx(kS,{})}),p.jsx(Nt,{path:"/signup",element:p.jsx(MS,{})}),p.jsxs(Nt,{element:p.jsx(CS,{}),children:[p.jsx(Nt,{path:"/dashboard",element:p.jsx(DS,{})}),p.jsx(Nt,{path:"/doctor-dashboard",element:p.jsx(US,{})})," ",p.jsx(Nt,{path:"/doctor/records",element:p.jsx(LS,{})}),p.jsx(Nt,{path:"/appointments",element:p.jsx(BS,{})}),p.jsx(Nt,{path:"/records",element:p.jsx(cv,{})}),p.jsx(Nt,{path:"/records/:userId",element:p.jsx(EE,{})}),p.jsx(Nt,{path:"/messages",element:p.jsx(HS,{})}),p.jsx(Nt,{path:"/feedback",element:p.jsx(qS,{})}),p.jsx(Nt,{path:"/profile",element:p.jsx($S,{})}),p.jsx(Nt,{path:"/triage",element:p.jsx(SE,{})})]})]})]})}const OE="modulepreload",AE=function(s){return"/medilink/"+s},zg={},TE=function(n,r,i){let o=Promise.resolve();if(r&&r.length>0){let g=function(y){return Promise.all(y.map(_=>Promise.resolve(_).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var d=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),h=m?.nonce||m?.getAttribute("nonce");o=g(r.map(y=>{if(y=AE(y),y in zg)return;zg[y]=!0;const _=y.endsWith(".css"),S=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${S}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":OE,_||(E.as="script"),E.crossOrigin="",E.href=y,h&&E.setAttribute("nonce",h),document.head.appendChild(E),_)return new Promise((O,R)=>{E.addEventListener("load",O),E.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(m){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=m,window.dispatchEvent(h),!h.defaultPrevented)throw m}return o.then(m=>{for(const h of m||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};function RE(s={}){const{immediate:n=!1,onNeedRefresh:r,onOfflineReady:i,onRegistered:o,onRegisteredSW:u,onRegisterError:d}=s;let m,h;const g=async(_=!0)=>{await h};async function y(){if("serviceWorker"in navigator){if(m=await TE(async()=>{const{Workbox:_}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:_}},[]).then(({Workbox:_})=>new _("/medilink/sw.js",{scope:"/medilink/",type:"classic"})).catch(_=>{d?.(_)}),!m)return;m.addEventListener("activated",_=>{(_.isUpdate||_.isExternal)&&window.location.reload()}),m.addEventListener("installed",_=>{_.isUpdate||i?.()}),m.register({immediate:n}).then(_=>{u?u("/medilink/sw.js",_):o?.(_)}).catch(_=>{d?.(_)})}}return h=y(),g}class NE extends b.Component{state={hasError:!1,error:null};static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){return this.state.hasError?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:p.jsxs("div",{className:"max-w-md w-full bg-white rounded-3xl shadow-xl p-8 text-center border border-slate-100",children:[p.jsx("div",{className:"h-20 w-20 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-6",children:p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-10 h-10 text-red-500",children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})})}),p.jsx("h1",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Something went wrong"}),p.jsx("p",{className:"text-slate-500 mb-8",children:"We're sorry, but the application encountered an unexpected error."}),p.jsx("div",{className:"bg-slate-50 rounded-xl p-4 mb-8 text-left overflow-auto max-h-32",children:p.jsx("code",{className:"text-xs text-slate-600 font-mono",children:this.state.error?.message||"Unknown Error"})}),p.jsx("button",{onClick:()=>window.location.reload(),className:"w-full py-3 px-4 bg-primary text-white font-bold rounded-xl hover:bg-primary-dark transition-colors shadow-lg shadow-blue-500/30",children:"Reload Application"})]})}):this.props.children}}const CE=RE({onNeedRefresh(){confirm("New content available. Reload?")&&CE(!0)}});Vb.createRoot(document.getElementById("root")).render(p.jsx(b.StrictMode,{children:p.jsx(NE,{children:p.jsx(jE,{})})}));
